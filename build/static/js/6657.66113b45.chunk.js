"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[6657],{26657:(s,e,r)=>{r.r(e),r.d(e,{default:()=>x});var a=r(44695),o=r(77196),n=r(72791),i=r(61134),d=r(57689),l=r(81724),t=r(14917),c=r(76218),m=r(94677),p=r(27181),w=r(12010),u=r(12820),h=r(1260),g=r(42866),f=r(80184);const v=l.Ry().shape({password:l.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:l.Z_().required("Enter the confirm password").oneOf([l.iH("password"),null],"Password does not match.")}),x=()=>{(0,h.j)("Set Password");const{register:s,handleSubmit:e,formState:{errors:r}}=(0,i.cI)({resolver:(0,a.X)(v)}),[l,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>{let s=new AbortController;document.body.classList.add("login-page");return(async()=>{t.Y.info("Set Password - verify confirm token handler");try{const{response:e}=await m.u.get(c.Eb+C.id,{signal:s.signal});if(200==(null===e||void 0===e?void 0:e.status))return null}catch(r){var e;t.Y.info("Set Password - verify confirm token catch handler error"),400==(null===r||void 0===r||null===(e=r.response)||void 0===e?void 0:e.status)&&x(!0)}})(),()=>{document.body.classList.remove("login-page"),s.abort()}}),[]);const[j,N]=(0,u.Z)({titleMessage:"",descriptionMessage:"",messageType:""}),[P,b]=n.useState({password:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),y=(0,d.s0)(),k=(0,n.useRef)(),C=(0,d.UO)(),S=s=>{s.preventDefault()};return(0,f.jsxs)("div",{className:"page-wrapper login-page-wrap",children:[(0,f.jsx)(p.Z,{myRef:k,titleMessage:j.titleMessage,descriptionMessage:j.descriptionMessage,messageType:j.messageType}),(0,f.jsx)("div",{className:"login-section",children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)("div",{className:"login-wrapper",children:[(0,f.jsx)("div",{className:"login-leftblk",children:(0,f.jsx)("div",{className:"login-slider",children:(0,f.jsx)(g.Z,{})})}),(0,f.jsx)("div",{className:"login-rightblk",children:(0,f.jsxs)("div",{className:"login-blk",children:[(0,f.jsx)("div",{className:"logo",children:(0,f.jsx)("img",{src:"/images/logo.png",alt:"",className:"img-fluid"})}),(0,f.jsx)("h2",{className:"".concat(l?"warning-message":"heading1 text-uppercase"," "),children:l?"Oops! The link to set password is expired or looks like you're trying using an invalid link. Please contact CGF Admin.":"Set Password"}),l?null:(0,f.jsx)("div",{className:"login-form",children:(0,f.jsxs)("form",{onSubmit:e((async s=>{try{const e=await m.u.post(c.DF+C.id,s);t.Y.info("Set Password - submitForm confirm passowrd handler"),201==e.status&&(N({titleMessage:"Hurray!",descriptionMessage:e.data.message,messageType:"success"},(()=>k.current())),setTimeout((()=>{y("/login")}),3e3))}catch(o){var e,r,a;if(t.Y.info("Set Password - submitForm confirm passowrd handler catch error"),400==(null===o||void 0===o||null===(e=o.response)||void 0===e?void 0:e.status))x(!0);else N({titleMessage:"Oops!",descriptionMessage:null===o||void 0===o||null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message,messageType:"error"},(()=>k.current())),setTimeout((()=>{y("/login")}),3e3)}})),children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(o.Z,{fullWidth:!0,id:"outlined-adornment-password",type:P.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat(r.password&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(w.Z,{show:null===P||void 0===P?void 0:P.showNewPassword,onClickHandler:()=>{b({...P,showNewPassword:!P.showNewPassword})},mouseDownHandler:S}),...s("password"),error:!!r.password}),(0,f.jsx)("p",{className:"password-error",children:null!==r&&void 0!==r&&r.password?r.password.message:(0,f.jsx)("span",{children:"\xa0"})})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(o.Z,{fullWidth:!0,id:"outlined-adornment-password",type:P.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(r.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(w.Z,{show:null===P||void 0===P?void 0:P.showConfirmPassword,onClickHandler:()=>{b({...P,showConfirmPassword:!P.showConfirmPassword})},mouseDownHandler:S}),...s("confirmPassword"),error:!!r.confirmPassword}),(0,f.jsx)("p",{className:"password-error",children:null!==r&&void 0!==r&&r.confirmPassword?r.confirmPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]}),(0,f.jsx)("div",{className:"form-btn flex-between",children:(0,f.jsx)("button",{className:"primary-button",children:"Submit"})})]})})]})})]})})})]})}}}]);
//# sourceMappingURL=6657.66113b45.chunk.js.map