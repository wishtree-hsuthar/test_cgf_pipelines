"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[1257],{1257:function(e,n,i){i.r(n);var s=i(1413),l=i(885),o=i(6650),t=i(9963),r=i(1680),d=i(9827),a=i(807),u=i(4390),c=i(5814),v=i(9773),m=i(2791),f=i(7689),h=i(4261),p=i(4917),x=i(184),j=m.lazy((function(){return Promise.all([i.e(6917),i.e(837)]).then(i.bind(i,2700))}));n.default=function(e){var n=e.setAssessmentQuestionnaire,i=e.assessmentQuestionnaire,w=void 0===i?{}:i,b=e.columnValues,y=e.rowValues,Z=e.sectionUUID,N=e.handleAnswersChange,k=e.handleAnswersBlur,g=e.errors,U=e.editMode,I=e.myRef,R=e.setToasterDetails,D=(0,f.UO)(),_=function(e){var n={};return e.forEach((function(e){n[e.uuid]=e})),n}(b),q=function(e){var n={};return e.forEach((function(e){n[e.uuid]=e})),n}(y),C=(0,m.useState)(!1),A=(0,l.Z)(C,2),O=A[0],Q=A[1],E=[],T=function(e){var i={};Object.keys(w[Z]).forEach((function(n){n.includes(e)||(i[n]=w[Z][n])}));var l=(0,s.Z)({},w);l[Z]=i,n(l)};return(0,x.jsx)("div",{className:"que-table-sect",children:(0,x.jsxs)("div",{className:"que-table-wrap assessment-table-wrap",children:[(0,x.jsx)("div",{className:"que-table-innerwrap assessment-table-innerwrap flex-between no-wrap",children:(0,x.jsx)(o.Z,{sx:{width:"96%",overflow:"hidden"},className:"que-table-infoblk",children:(0,x.jsx)(t.Z,{sx:{maxHeight:440},children:(0,x.jsxs)(r.Z,{stickyHeader:!0,"aria-label":"sticky table",className:O||D["*"].includes("view")?"que-table assessment-table":"que-table assessment-table not-prefilled-table",children:[(0,x.jsx)(d.Z,{children:(0,x.jsxs)(a.Z,{children:[!O&&!D["*"].includes("view")&&(0,x.jsx)(u.Z,{width:75}),null===b||void 0===b?void 0:b.map((function(e,n){return(0,x.jsxs)(u.Z,{width:"200px",children:[O||"prefilled"===(null===e||void 0===e?void 0:e.columnType)&&Q(!0),(0,x.jsx)("div",{className:"que-table-column-info",children:(0,x.jsx)("div",{className:"que-column-ttlblk",children:(0,x.jsx)("div",{className:"que-table-col-ttl",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,x.jsx)(c.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,x.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(0,x.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,x.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title," ",(null===e||void 0===e?void 0:e.isRequired)&&(0,x.jsx)("span",{className:"mandatory",children:"*"})]})})})})]},null===e||void 0===e?void 0:e.uuid)}))]})}),(0,x.jsxs)(v.Z,{children:[O&&(null===y||void 0===y?void 0:y.map((function(e,i){var s;return(0,x.jsxs)(a.Z,{children:[!O&&!D["*"].includes("view")&&(0,x.jsx)(u.Z,{className:"que-column-count",style:{cursor:"pointer",display:""},children:(0,x.jsx)(c.Z,{title:"Delete Row",children:(0,x.jsx)("span",{className:"minus-iconblk",onClick:function(){return T()},children:(0,x.jsx)("i",{className:"fa fa-minus"})})})}),e&&(null===e||void 0===e||null===(s=e.cells)||void 0===s?void 0:s.map((function(i,s){var l,o;return(0,x.jsx)(u.Z,{children:(0,x.jsx)(j,{sectionUUID:Z,isPrefilled:O,assessmentQuestionnaire:w,setAssessmentQuestionnaire:n,transformedColumns:_,tranformedRows:q,cellId:s,rowId:null===e||void 0===e?void 0:e.uuid,cell:i,answer:w[Z]&&null!==(l=w[Z]["".concat(i.columnId,"_").concat(null===e||void 0===e?void 0:e.uuid)])&&void 0!==l?l:"",handleAnswersChange:N,handleAnswersBlur:k,error:null!==(o=g["".concat(null===i||void 0===i?void 0:i.columnId,"_").concat(null===e||void 0===e?void 0:e.uuid)])&&void 0!==o?o:"",editMode:U,myRef:I,setToasterDetails:R})},null===i||void 0===i?void 0:i.columnId)})))]},null===e||void 0===e?void 0:e.uuid)}))),!O&&w&&0!==Object.keys(w).length&&w[Z]&&0!==Object.keys(w[Z]).length&&(null===Object||void 0===Object?void 0:Object.keys(w[Z]).map((function(e,i){var s=e.split("_")[1];if(-1===(null===E||void 0===E?void 0:E.findIndex((function(e){return e===s}))))return null===E||void 0===E||E.push(s),(0,x.jsxs)(a.Z,{className:"not-prefilled",children:[!O&&!D["*"].includes("view")&&(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:"que-column-count flex-between",style:{cursor:"pointer",display:""},children:[(null===E||void 0===E?void 0:E.length)>1&&(0,x.jsx)(c.Z,{title:"Delete Row",children:(0,x.jsx)("span",{className:"minus-iconblk",onClick:function(){return T(s)},children:(0,x.jsx)("i",{className:"fa fa-minus"})})}),(null===E||void 0===E?void 0:E.length)>1&&0===i&&(0,x.jsx)(c.Z,{title:"Delete Row",children:(0,x.jsx)("span",{className:"minus-iconblk",onClick:function(){return T(s)},children:(0,x.jsx)("i",{className:"fa fa-minus"})})})]})}),null===b||void 0===b?void 0:b.map((function(e,i){var l,o;return(0,x.jsx)(u.Z,{children:(0,x.jsx)(j,{isPrefilled:O,sectionUUID:Z,assessmentQuestionnaire:w,setAssessmentQuestionnaire:n,transformedColumns:_,tranformedRows:q,rowId:s,columnId:null===e||void 0===e?void 0:e.uuid,columnIdx:i,answer:w[Z]&&null!==(l=w[Z]["".concat(null===e||void 0===e?void 0:e.uuid,"_").concat(s)])&&void 0!==l?l:"",handleAnswersChange:N,handleAnswersBlur:k,error:null!==(o=g["".concat(null===e||void 0===e?void 0:e.uuid,"_").concat(s)])&&void 0!==o?o:"",editMode:U,myRef:I,setToasterDetails:R})},null===e||void 0===e?void 0:e.uuid)}))]},e)})))]})]})})})}),!O&&!D["*"].includes("view")&&(0,x.jsxs)("div",{className:"add-row-btnblk",onClick:function(){var e=(0,h.Z)(),i=(0,s.Z)({},w);b.forEach((function(n){i[Z]["".concat([null===n||void 0===n?void 0:n.uuid],"_").concat(e)]=""})),p.Y.info("Table Assesment - onRowClickHandler"),n((0,s.Z)({},i))},children:[(0,x.jsx)("span",{className:"addmore-icon",children:(0,x.jsx)("i",{className:"fa fa-plus"})})," ",(0,x.jsx)("span",{children:"Add Row"})]})]})})}},4261:function(e,n,i){i.d(n,{Z:function(){return u}});var s,l={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16);function t(){if(!s&&!(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)}for(var r=[],d=0;d<256;++d)r.push((d+256).toString(16).slice(1));function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()}var u=function(e,n,i){if(l.randomUUID&&!n&&!e)return l.randomUUID();var s=(e=e||{}).random||(e.rng||t)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n){i=i||0;for(var o=0;o<16;++o)n[i+o]=s[o];return n}return a(s)}}}]);
//# sourceMappingURL=1257.c9df74ea.chunk.js.map