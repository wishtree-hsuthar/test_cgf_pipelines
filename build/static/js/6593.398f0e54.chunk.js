"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[6593],{6593:(s,e,r)=>{r.r(e),r.d(e,{default:()=>g});var a=r(72791),o=r(61134),d=r(44695),n=r(77196),l=r(57689),i=r(11087),c=r(81724),t=r(14917),w=r(76218),m=r(94677),h=r(27659),p=r(45736),u=r(12010),P=r(12820),f=r(1260),x=r(80184);const j=c.Ry().shape({oldPassword:c.Z_().required("Enter the old password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),newPassword:c.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:c.Z_().required("Enter the confirm password").oneOf([c.iH("newPassword"),null],"Password does not match.")}),g=()=>{(0,f.j)("Change Password");const s=(0,l.s0)(),{handleSubmit:e,register:r,setValue:c,reset:g,formState:{errors:v}}=(0,o.cI)({resolver:(0,d.X)(j)}),N=(0,a.useRef)(),[b,y]=(0,P.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[C,Z]=a.useState({oldPassword:"",showOldPassword:"",newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),k=s=>{s.preventDefault()};return(0,x.jsxs)("div",{className:"page-wrapper",children:[(0,x.jsx)(h.Z,{myRef:N,titleMessage:b.titleMessage,descriptionMessage:b.descriptionMessage,messageType:b.messageType}),(0,x.jsx)("div",{className:"breadcrumb-wrapper",children:(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("ul",{className:"breadcrumb",children:[(0,x.jsx)("li",{children:(0,x.jsx)(i.rU,{to:"/home",children:"Home"})}),(0,x.jsx)("li",{children:"Change Password"})]})})}),(0,x.jsx)("section",{className:"container",children:(0,x.jsxs)("form",{onSubmit:e((async e=>{t.Y.info("Change Password - Change Password handler");try{const r=await m.H.post(w.oj,{oldPassword:e.oldPassword,password:e.newPassword,confirmPassword:e.confirmPassword});201==r.status&&(y({titleMessage:"Hurray!",descriptionMessage:r.data.message,messageType:"success"},(()=>N.current())),setTimeout((()=>{s("/home")}),3e3),g())}catch(o){var r,a;t.Y.info("Change Password - Change Password handler catch error".concat(null===o||void 0===o||null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)),g(),(0,p.K)(o,y,N,s)}})),children:[(0,x.jsx)("div",{className:"form-header flex-between",children:(0,x.jsx)("h2",{className:"heading2",children:"Change Password"})}),(0,x.jsxs)("div",{className:"card-wrapper",children:[(0,x.jsx)("div",{className:"card-blk flex-between",children:(0,x.jsx)("div",{className:"card-form-field",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("label",{htmlFor:"oldPassword",children:["Old Password ",(0,x.jsx)("span",{className:"mandatory",children:"*"})]}),(0,x.jsxs)("div",{className:"password-field",children:[(0,x.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showOldPassword?"text":"password",placeholder:"Enter old password",className:"input-field ".concat(v.oldPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,x.jsx)(u.Z,{show:null===C||void 0===C?void 0:C.showOldPassword,onClickHandler:()=>{Z({...C,showOldPassword:!C.showOldPassword})},onMouseDown:k}),...r("oldPassword"),onBlur:s=>c("oldPassword",s.target.value.trim()),error:!!v.oldPassword}),(0,x.jsx)("p",{className:"password-error",children:null!==v&&void 0!==v&&v.oldPassword?v.oldPassword.message:(0,x.jsx)("span",{children:"\xa0"})})]})]})})}),(0,x.jsx)("div",{className:"card-form-field",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,x.jsx)("span",{className:"mandatory",children:"*"})]}),(0,x.jsxs)("div",{className:"password-field",children:[(0,x.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat((null===v||void 0===v?void 0:v.newPassword)&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,x.jsx)(u.Z,{show:null===C||void 0===C?void 0:C.showNewPassword,onClickHandler:()=>{Z({...C,showNewPassword:!C.showNewPassword})},mouseDownHandler:k}),...r("newPassword"),onBlur:s=>c("newPassword",s.target.value.trim()),error:!!v.password}),(0,x.jsx)("p",{className:"password-error",children:null!==v&&void 0!==v&&v.newPassword?v.newPassword.message:(0,x.jsx)("span",{children:"\xa0"})})]})]})}),(0,x.jsx)("div",{className:"card-form-field",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,x.jsx)("span",{className:"mandatory",children:"*"})]}),(0,x.jsxs)("div",{className:"password-field",children:[(0,x.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(v.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,x.jsx)(u.Z,{show:null===C||void 0===C?void 0:C.showConfirmPassword,onClickHandler:()=>{Z({...C,showConfirmPassword:!C.showConfirmPassword})},onMouseDown:k}),...r("confirmPassword"),onBlur:s=>c("confirmPassword",s.target.value.trim()),error:!!v.confirmPassword}),(0,x.jsx)("p",{className:"password-error",children:null!==v&&void 0!==v&&v.confirmPassword?v.confirmPassword.message:(0,x.jsx)("span",{children:"\xa0"})})]})]})}),(0,x.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,x.jsx)("button",{type:"reset",onClick:()=>s("/home"),className:"secondary-button mr-10",children:"Cancel"}),(0,x.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})]})})]})}},12010:(s,e,r)=>{r.d(e,{Z:()=>n});var a=r(63466),o=r(13400),d=(r(72791),r(80184));const n=s=>{let{show:e,onClickHandler:r,mouseDownHandler:n}=s;return(0,d.jsx)(a.Z,{position:"end",children:(0,d.jsx)(o.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:n,edge:"end",className:"eye-btn",children:e?(0,d.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,d.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},1260:(s,e,r)=>{r.d(e,{j:()=>o});var a=r(72791);const o=s=>((0,a.useEffect)((()=>{document.title="HRDD System - ".concat(s)}),[s]),null)}}]);
//# sourceMappingURL=6593.398f0e54.chunk.js.map