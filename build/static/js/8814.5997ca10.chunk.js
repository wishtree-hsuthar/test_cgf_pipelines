"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8814],{9929:function(e,n,r){r.r(n);var t=r(1413),a=r(2982),s=r(4165),i=r(5861),o=r(885),l=r(2791),d=r(7689),c=r(1087),u=r(6494),m=r(6650),p=r(8588),h=r(1134),v=r(4569),f=r.n(v),x=r(4677),g=r(6218),b=r(7659),j=r(2820),y=r(2104),Z=r(8086),N=r(6363),C=r(1260),w=r(8386),A=r(4917),S=r(5736),k=r(184),E={countryCode:{validate:"Select the country code"},phoneNumber:{maxLength:"Max digits limit exceed",minLength:"Enter the valid phone number (Eg: 1234567890)",validate:"Enter the valid phone number (Eg: 1234567890)",pattern:"Invalid format"},name:{required:"Enter the CGF admin name",maxLength:"Max char limit exceed",minLength:"minimum 3 characters required",pattern:"Invalid format"},email:{required:"Enter the email",pattern:"Invalid format",minLength:"minimum 3 characters required"},subRoleId:{required:"Select the role"}};n.default=function(){var e;(0,C.j)("Add CGF Admin");var n=(0,l.useState)(!1),r=(0,o.Z)(n,2),v=r[0],I=r[1],R=(0,d.s0)(),M=(0,h.cI)({defaultValues:{name:"",email:"",subRoleId:"",phoneNumber:"",countryCode:""}}),L=M.handleSubmit,T=M.watch,_=M.formState.errors,F=M.reset,O=M.control,P=M.trigger,H=M.setValue,G=((0,d.TH)(),(0,l.useState)([])),D=(0,o.Z)(G,2),q=D[0],B=D[1],Y=(0,l.useState)([]),V=(0,o.Z)(Y,2),z=V[0],K=V[1],W=(0,l.useState)(!1),$=(0,o.Z)(W,2),Q=$[0],U=$[1],J=(0,l.useRef)(),X=(0,j.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),ee=(0,o.Z)(X,2),ne=ee[0],re=ee[1];(0,l.useEffect)((function(){var e=new AbortController,n=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var r,t,a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.H.get(g.Lp,{signal:e.signal});case 3:r=n.sent,A.Y.info("Add Sub Admin - fetchRoles handler"),K(r.data),r.data.filter((function(e){return"CGF Admin"===e.name&&F({subRoleId:e._id})})),n.next=15;break;case 9:if(n.prev=9,n.t0=n.catch(0),"ERR_CANCELED"!==(null===n.t0||void 0===n.t0?void 0:n.t0.code)){n.next=13;break}return n.abrupt("return");case 13:A.Y.info("Add Sub Admin - fetchRoles handler catch error ".concat(null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)),(0,S.K)(n.t0,re,J,R);case 15:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),r=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var r,t,i,o,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f().get(g.od,{signal:e.signal});case 3:r=n.sent,A.Y.info("Add sub admin - addCGFAdminFetchCountries handler "),t=null===r||void 0===r?void 0:r.data.map((function(e){return e.countryCode})),i=new Set(t),B((0,a.Z)(i)),n.next=13;break;case 8:if(n.prev=8,n.t0=n.catch(0),"ERR_CANCELED"!==(null===n.t0||void 0===n.t0?void 0:n.t0.code)){n.next=12;break}return n.abrupt("return");case 12:A.Y.info("Add sub admin - addCGFAdminFetchCountries handler catch error ".concat(null===n.t0||void 0===n.t0||null===(o=n.t0.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message));case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();n(),r()}),[]);var te=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r,t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.Y.info("Add sub admin - addSubAdminData handler"),U(!0),I(!0),e.prev=3,e.next=6,f().post(g.mc,n);case 6:201==(r=e.sent).status&&(U(!1),re({titleMessage:"Hurray!",descriptionMessage:r.data.message,messageType:"success"},(function(){return J.current()})),I(!1),F()),e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(3),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=14;break}return e.abrupt("return");case 14:A.Y.info("Add sub admin - addSubAdminData handler catch error ".concat(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)),U(!1),I(!1),(0,S.K)(e.t0,re,J,R);case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(n),setTimeout((function(){R("/users/cgf-admin/",{state:1})}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{className:"page-wrapper",children:[(0,k.jsx)(b.Z,{myRef:J,titleMessage:ne.titleMessage,descriptionMessage:ne.descriptionMessage,messageType:ne.messageType}),(0,k.jsx)("div",{className:"breadcrumb-wrapper",children:(0,k.jsx)("div",{className:"container",children:(0,k.jsxs)("ul",{className:"breadcrumb",children:[(0,k.jsx)("li",{children:(0,k.jsx)(c.rU,{to:"/users/cgf-admin/",children:"CGF Admins"})}),(0,k.jsx)("li",{children:"Add CGF Admin"})]})})}),(0,k.jsx)("section",{children:(0,k.jsx)("div",{className:"container",children:(0,k.jsxs)("form",{onSubmit:L(ae),children:[(0,k.jsxs)("div",{className:"form-header flex-between",children:[(0,k.jsx)("h2",{className:"heading2",children:"Add CGF Admin"}),(0,k.jsx)("div",{className:"form-header-right-txt",children:(0,k.jsxs)("div",{className:"tertiary-btn-blk",onClick:L((function(e){te(e),F(),H("")})),children:[(0,k.jsx)("span",{className:"addmore-icon",children:(0,k.jsx)("i",{className:"fa fa-plus"})}),(0,k.jsx)("span",{className:"addmore-txt",children:"Save & Add More"})]})})]}),Q?(0,k.jsx)(w.Z,{}):(0,k.jsx)("div",{className:"card-wrapper",children:(0,k.jsxs)("div",{className:"card-blk flex-between",children:[(0,k.jsx)("div",{className:"card-form-field",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsxs)("label",{htmlFor:"name",children:["CGF Admin Name ",(0,k.jsx)("span",{className:"mandatory",children:"*"})]}),(0,k.jsx)(Z.Z,{control:O,onBlur:function(e){var n;return H("name",null===(n=e.target.value)||void 0===n?void 0:n.trim())},name:"name",placeholder:"Enter CGF admin name",myHelper:E,rules:{maxLength:50,minLength:3,required:!0,pattern:/^[a-zA-Z][a-zA-Z ]*$/}})]})}),(0,k.jsx)("div",{className:"card-form-field",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsxs)("label",{htmlFor:"email",children:["Email ",(0,k.jsx)("span",{className:"mandatory",children:"*"})]}),(0,k.jsx)(Z.Z,{name:"email",onBlur:function(e){var n;return H("email",null===(n=e.target.value)||void 0===n?void 0:n.trim())},control:O,placeholder:"example@domain.com",myHelper:E,rules:{required:!0,maxLength:50,minLength:3,pattern:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}})]})}),(0,k.jsx)("div",{className:"card-form-field",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number"}),(0,k.jsxs)("div",{className:"phone-number-field",children:[(0,k.jsx)("div",{className:"select-field country-code",children:(0,k.jsx)(h.Qr,{control:O,name:"countryCode",rules:{validate:function(){if(!T("countryCode")&&T("phoneNumber"))return"Invalid input"}},render:function(e){var n=e.field,r=e.fieldState.error;return(0,k.jsx)(u.Z,(0,t.Z)((0,t.Z)({},n),{},{className:"".concat(r&&"autocomplete-error"),PaperComponent:function(e){var n=e.children;return(0,k.jsx)(m.Z,{className:(null===q||void 0===q?void 0:q.length)>5?"autocomplete-option-txt autocomplete-option-limit":"autocomplete-option-txt",children:n})},popupIcon:(0,k.jsx)(y.Z,{}),onChange:function(e,n){H("countryCode",n&&"object"===typeof n?n.name:n),P("countryCode"),P("phoneNumber")},autoHighlight:!0,options:q||[],getOptionLabel:function(e){return e},renderOption:function(e,n){return(0,k.jsx)("li",(0,t.Z)((0,t.Z)({},e),{},{children:n}))},renderInput:function(e){return(0,k.jsx)(p.Z,(0,t.Z)((0,t.Z)({},e),{},{inputProps:(0,t.Z)({},e.inputProps),placeholder:"+00",onChange:function(){return P("countryCode")},helperText:r?E.countryCode[null===r||void 0===r?void 0:r.type]:" "}))}}))}})}),(0,k.jsx)(Z.Z,{name:"phoneNumber",control:O,placeholder:"1234567890",myOnChange:function(e){return function(e,n,r){H(n,e.target.value),P(n),P(r)}(e,"phoneNumber","countryCode")},onBlur:function(e){var n;return H("phoneNumber",null===(n=e.target.value)||void 0===n?void 0:n.trim())},myHelper:E,rules:{minLength:7,maxLength:15,validate:function(e){return!T("phoneNumber")&&T("countryCode")?"invalid input":e&&!Number(e)?"Invalid input":void 0}}})]})]})}),(0,k.jsx)("div",{className:"card-form-field",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsxs)("label",{htmlFor:"role",children:["Role ",(0,k.jsx)("span",{className:"mandatory",children:"*"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(N.Z,{name:"subRoleId",control:O,options:z,rules:{required:!0},myHelper:E,placeholder:"Select role"}),(0,k.jsx)("p",{className:"password-error",children:null===(e=_.subRoleId)||void 0===e?void 0:e.message})]})]})}),(0,k.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,k.jsx)("button",{type:"reset",onClick:function(){R("/users/cgf-admin/",{state:0})},className:"secondary-button mr-10",children:"Cancel"}),(0,k.jsx)("button",{type:"submit",className:"primary-button add-button",disabled:v,children:"Save"})]})]})})]})})})]})}},6363:function(e,n,r){var t=r(1413),a=r(2104),s=r(1898),i=r(1346),o=r(9407),l=r(5814),d=r(7924),c=(r(2791),r(1134)),u=r(184);n.Z=function(e){var n=e.control,r=e.name,m=e.myOnChange,p=e.myHelper,h=e.placeholder,v=e.rules,f=e.options,x=e.isDisabled,g=(0,c.bc)({name:r,control:n,rules:v,defaultValue:""}),b=g.field,j=b.value,y=b.onChange,Z=b.ref,N=g.fieldState.error,C={PaperProps:{style:{maxHeight:168}}},w=window.innerWidth>1e3?60:45,A=function(e){var n=e.children;return(0,u.jsx)("div",{className:"select-placeholder",children:n})};return(0,u.jsxs)(s.Z,{className:"select-reusable",disabled:x,children:[(0,u.jsx)("div",{className:"select-field ".concat(N&&"select-field-error"),children:(0,u.jsx)(i.Z,{IconComponent:function(e){return(0,u.jsx)(a.Z,(0,t.Z)({},e))},MenuProps:C,displayEmpty:!0,value:j,placeholder:h,onChange:m||y,inputRef:Z,fullWidth:!0,renderValue:""!==j?void 0:function(){return(0,u.jsx)(A,{children:h})},children:f&&(null===f||void 0===f?void 0:f.map((function(e){var n,r;return(0,u.jsx)(o.Z,{value:e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e,children:e.hasOwnProperty("_id")?(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.length)<=w?null===e||void 0===e?void 0:e.name:(0,u.jsx)(l.Z,{title:null===e||void 0===e?void 0:e.name,children:(0,u.jsxs)("span",{children:[" ",(null===e||void 0===e||null===(r=e.name)||void 0===r?void 0:r.slice(0,w))+"..."]})}):(null===e||void 0===e?void 0:e.length)<=w?e:(0,u.jsx)(l.Z,{title:e,children:(0,u.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,w))+"..."})})},e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e)})))})}),(0,u.jsx)(d.Z,{children:N?p&&p[r]&&p[r][N.type]?p[r][N.type]:"Invalid Input":" "})]})}},8086:function(e,n,r){var t=r(8588),a=(r(2791),r(1134)),s=r(184);n.Z=function(e){var n=e.control,r=e.name,i=e.myHelper,o=e.placeholder,l=e.myOnChange,d=e.rules,c=e.onBlur,u=(e.multiline,e.isDisabled),m=(0,a.bc)({name:r,control:n,rules:d,defaultValue:""}),p=m.field,h=p.onChange,v=p.value,f=p.ref,x=m.fieldState.error;return(0,s.jsx)(t.Z,{disabled:u,className:"input-field ".concat(x&&"input-error"),placeholder:o,onChange:l||h,onBlur:c,value:v,inputRef:f,inputProps:{maxLength:(null===d||void 0===d?void 0:d.maxLength)&&d.maxLength},helperText:x?i&&i[r]&&i[r][x.type]?i[r][x.type]:"Invalid Input":" ",variant:"outlined"})}},7659:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(2131),a=r(5130),s=r(2791),i=r(5985),o=(r(5462),r(184));var l=function(e){e.titleMessage;var n=e.descriptionMessage,r=e.messageType,l=e.myRef,d=(e.key,function(){(0,i.Am)(c,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),c=function(){return(0,o.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===r&&"toaster-blk-success"),children:[(0,o.jsx)("div",{className:"toaster-left ".concat("success"===r&&"toaster-left-success"),children:(0,o.jsxs)("div",{className:"toaster-icon",children:["success"===r&&(0,o.jsx)(t.Z,{}),"error"===r&&(0,o.jsx)(a.Z,{})]})}),(0,o.jsx)("div",{className:"toaster-right",children:(0,o.jsx)("p",{children:n})})]})};return(0,s.useEffect)((function(){l.current=d}),[d,l]),(0,o.jsxs)("div",{className:"toaster-sect",children:[(0,o.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,o.jsx)(i.Ix,{className:"toaster-wrap ".concat("success"===r&&"toaster-wrap-success"," ")})]})}},5736:function(e,n,r){r.d(n,{K:function(){return s}});var t=r(4165),a=r(5861),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r,a,s,i){var o,l,d,c,u,m,p,h,v,f,x=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=x.length>5&&void 0!==x[5]?x[5]:0,401==n.response.status?(r({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return a.current()})),setTimeout((function(){s("/login")}),3e3)):403===(null===n||void 0===n||null===(o=n.response)||void 0===o?void 0:o.status)?(r({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(d=n.response)&&void 0!==d&&null!==(c=d.data)&&void 0!==c&&c.message?null===n||void 0===n||null===(u=n.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return a.current()})),setTimeout((function(){s("/home")}),3e3)):(r({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(p=n.response)&&void 0!==p&&null!==(h=p.data)&&void 0!==h&&h.message?null===n||void 0===n||null===(v=n.response)||void 0===v||null===(f=v.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return a.current()})),i&&setTimeout((function(){s(i,{state:l})}),3e3));case 2:case"end":return e.stop()}}),e)})));return function(n,r,t,a,s){return e.apply(this,arguments)}}()},2820:function(e,n,r){var t=r(885),a=r(2791);n.Z=function(e){var n=(0,a.useState)(e),r=(0,t.Z)(n,2),s=r[0],i=r[1],o=(0,a.useRef)([]);(0,a.useEffect)((function(){o.current.forEach((function(e){return e(s)})),o.current=[]}),[s]);return[s,function(e,n){i(e),n&&"function"===typeof n&&o.current.push(n)}]}},1260:function(e,n,r){r.d(n,{j:function(){return a}});var t=r(2791),a=function(e){return(0,t.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}}}]);
//# sourceMappingURL=8814.5997ca10.chunk.js.map