"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8617],{59418:(e,l,i)=>{i.d(l,{Z:()=>g});var n=i(72791),o=i(94677),s=i(76218),t=i(57689),r=i(12820),a=i(27659),d=i(45736),c=i(79836),u=i(53382),v=i(53994),p=i(39281),m=i(35855),h=i(35527),x=i(20068),b=i(70034),j=i(80184);const g=function(e){var l,i,g,f,y,w,Z,k,N,q;let{key:C,documentObj:P={},doc:T={},sectionUUID:M="",questionnaireId:D=""}=e;function I(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}console.log("qid",D),console.log("documentObj",P),console.log("doc",T),console.log("LINK ",null===P||void 0===P?void 0:P.link);const S=(0,t.s0)(),[R,E]=(0,r.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),Q=(0,n.useRef)();return(0,j.jsxs)("div",{children:[(0,j.jsx)(a.Z,{myRef:Q,titleMessage:R.titleMessage,descriptionMessage:R.descriptionMessage,messageType:R.messageType}),(0,j.jsx)(p.Z,{component:h.Z,children:(0,j.jsx)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,j.jsx)(u.Z,{children:(0,j.jsxs)(m.Z,{children:[(0,j.jsx)(v.Z,{align:"left",style:{width:"50%"},children:null!==(l=null!==(i=null!==(g=null===P||void 0===P?void 0:P.documentTitle)&&void 0!==g?g:null===P||void 0===P?void 0:P.linkTitle)&&void 0!==i?i:null===T||void 0===T?void 0:T.documentTitle)&&void 0!==l?l:null===T||void 0===T?void 0:T.linkTitle}),(0,j.jsx)(v.Z,{align:"left",children:"Link"===(null===T||void 0===T?void 0:T.type)||"Link"===(null===P||void 0===P?void 0:P.type)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("a",{href:null!==P&&void 0!==P&&P.link?null!==P&&void 0!==P&&P.link.toLowerCase().startsWith("http")?null===P||void 0===P?void 0:P.link:"https://"+(null===P||void 0===P?void 0:P.link):null!==T&&void 0!==T&&T.link.toLowerCase().startsWith("https")?null===T||void 0===T?void 0:T.link:"https://"+(null===T||void 0===T?void 0:T.link),onClick:()=>{var e;return console.log("LINK ON ONCLICK",null!==(e="https://"+(null===T||void 0===T?void 0:T.link))&&void 0!==e?e:null===P||void 0===P?void 0:P.link)},target:"_blank",children:(0,j.jsx)(x.Z,{title:null!==(f=null!==(y=null===P||void 0===P?void 0:P.link)&&void 0!==y?y:T.link)&&void 0!==f?f:null===T||void 0===T?void 0:T.link,children:I(null!==(w=null===T||void 0===T?void 0:T.link)&&void 0!==w?w:null===P||void 0===P?void 0:P.link,70)})}),"   ",(0,j.jsx)(x.Z,{title:"Copy link",children:(0,j.jsx)(b.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:async()=>{try{await navigator.clipboard.writeText((null===T||void 0===T?void 0:T.link)||(null===P||void 0===P?void 0:P.link)),E({titleMessage:"Hurray!",descriptionMessage:"Link copied successfully!",messageType:"success"},(()=>Q.current()))}catch(e){console.error("Failed to copy link: ",e)}}})})]}):(0,j.jsx)("div",{href:"#",onClick:e=>{e.preventDefault(),(async()=>{try{var e,l;const i=await o.H.post(s.uj,{questionnaireId:D,sectionId:M,documentId:null!==(e=null===P||void 0===P?void 0:P.uuid)&&void 0!==e?e:T.uuid},{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([i.data])),t=document.createElement("a");t.href=n,t.setAttribute("download","".concat(null!==(l=null===P||void 0===P?void 0:P.originalName)&&void 0!==l?l:T.originalName)),document.body.appendChild(t),t.click(),201===i.status&&E({titleMessage:"Hurray!",descriptionMessage:"File downloaded successfully!",messageType:"success"},(()=>Q.current()))}catch(i){(0,d.K)(i,E,Q,S),console.log("Error from download other doc",i)}})()},style:{color:null!==T&&void 0!==T&&T.link?"none":"#4596D1",cursor:null!==T&&void 0!==T&&T.link?"default":"pointer"},children:(0,j.jsx)(x.Z,{title:null!==(Z=null!==(k=null===P||void 0===P?void 0:P.originalName)&&void 0!==k?k:T.originalName)&&void 0!==Z?Z:null===T||void 0===T?void 0:T.link,children:I(null!==(N=null!==(q=null===P||void 0===P?void 0:P.originalName)&&void 0!==q?q:T.originalName)&&void 0!==N?N:null===T||void 0===T?void 0:T.link,70)})})})]})})})})]})}},48617:(e,l,i)=>{i.r(l),i.d(l,{default:()=>O});var n=i(72791),o=i(697),s=i(25228),t=i(20068),r=i(43896),a=i(97275),d=i(58406),c=i(63903),u=i(88970),v=i(85523),p=i(61419),m=i(94454),h=i(51514),x=i(14917),b=i(7792),j=i(36571),g=i(12104),f=i(27954),y=i(80184);const w={PaperProps:{style:{maxHeight:168}},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},Z=e=>{let{question:l}=e,i=l.questionTitle,n="singleTextbox"===l.inputType?(0,y.jsx)(a.Z,{placeholder:"Enter text here",className:"input-field",InputProps:{readOnly:!0}}):"textarea"===l.inputType?(0,y.jsx)(a.Z,{multiline:!0,InputProps:{readOnly:!0},className:"input-textarea",placeholder:"Enter text here",variant:"outlined"}):"dropdown"===l.inputType?(0,y.jsx)("div",{className:"form-group",children:(0,y.jsx)("div",{className:"select-field",children:(0,y.jsx)(d.Z,{IconComponent:e=>(0,y.jsx)(g.Z,{...e}),value:l.questionTitle,MenuProps:w,renderValue:()=>(0,y.jsx)("div",{className:"select-placeholder",children:"Choose dropdown value"}),children:l.options.map((e=>(0,y.jsx)(c.Z,{value:e,disabled:!0,children:e},e)))})})}):"radioGroup"===l.inputType?(0,y.jsx)("div",{className:"radio-btn-field radio-btn-half-blk",children:(0,y.jsx)(u.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Active",name:"radio-buttons-group",className:"radio-btn radio-btn-vertical",children:l.options.map((e=>(0,y.jsx)(v.Z,{value:e,control:(0,y.jsx)(p.Z,{disabled:!0}),label:e},e)))})}):"checkbox"===l.inputType?(0,y.jsx)("div",{className:"checkbox-with-labelblk checkbox-btn-half-blk",children:l.options.map((e=>(0,y.jsx)(v.Z,{className:"checkbox-with-label checkbox-flex",control:(0,y.jsx)(m.Z,{disabled:!0}),label:e},e)))}):"date"===l.inputType?(0,y.jsx)(j._,{dateAdapter:b.y,children:(0,y.jsx)(h.M,{disabled:!0,value:null,className:"datepicker-blk",components:{OpenPickerIcon:f.Z},onChange:()=>{},renderInput:e=>(0,y.jsx)(a.Z,{...e,helperText:" "})})}):"";return(0,y.jsx)("div",{className:"preview-que-blk",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"questionTitle",children:(0,y.jsxs)("div",{className:"preview-sect-txt",children:[i,(null===l||void 0===l?void 0:l.isRequired)&&(0,y.jsx)("span",{className:"mandatory",children:" *"})]})}),(0,y.jsx)("div",{className:"que-half-sect",children:n})]})})};var k=i(43989),N=i(59418);const q=function(e){let{questionnaire:l,section:i,sectionIndex:o}=e;return(0,n.useEffect)((()=>{}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"preview-sect-ttl-wrap",children:[(0,y.jsx)("div",{className:"preview-sect-card-ttl-blk",children:(0,y.jsx)("h2",{className:"subheading",children:null===i||void 0===i?void 0:i.sectionTitle})}),(0,y.jsx)("div",{className:"preview-sect-txt",children:null===i||void 0===i?void 0:i.description})]}),(0,y.jsx)("div",{className:"preview-card-wrapper",children:(0,y.jsx)("div",{className:"preview-que-wrap que-preview",children:"form"===(null===i||void 0===i?void 0:i.layout)?i.questions.map((e=>(0,y.jsx)(Z,{question:e},null===e||void 0===e?void 0:e.uuid))):"documents"===(null===i||void 0===i?void 0:i.layout)?i.documents.map((e=>(0,y.jsx)(N.Z,{doc:e,sectionUUID:null===i||void 0===i?void 0:i.uuid,questionnaireId:null===l||void 0===l?void 0:l.uuid},null===e||void 0===e?void 0:e.uuid))):(0,y.jsx)(k.Z,{questionnaire:l,sectionIndex:o,isPreview:!0})})})]})};var C=i(57689),P=i(11087),T=i(94677),M=i(76218),D=i(1260),I=i(59434),S=i(52898),R=i(12820),E=i(27659),Q=i(98460),V=i(71300),L=i(55294),H=i(47806),U=i(28386);function A(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}const O=function(e){var l,i,a,d,c,u,v;const[p,m]=(0,n.useState)(0);(0,D.j)("Preview Questionnaire");const[h,b]=(0,n.useState)(!1),[j,g]=(0,n.useState)(!1),[f,w]=(0,R.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),Z=(0,n.useRef)(),k=(0,C.UO)(),N=(0,C.s0)(),[O,F]=(0,n.useState)({}),B=(0,I.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.privilege})),_=(0,I.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.userObj})),z="Super Admin"===(null===B||void 0===B?void 0:B.name);let Y=("Super Admin"===(null===_||void 0===_||null===(l=_.roleId)||void 0===l?void 0:l.name)?[]:Object.values(null===B||void 0===B?void 0:B.privileges)).filter((e=>{var l;return"Questionnaire"===(null===e||void 0===e||null===(l=e.moduleId)||void 0===l?void 0:l.name)})).map((e=>({questionnaire:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}})));(0,n.useEffect)((()=>{let e=!0,l=new AbortController;return(async()=>{try{x.Y.info("Questionnaire - Preview Questionnaire - fetch handler"),b(!0);const i=await T.H.get("".concat(M.ZW,"/").concat(k.id),{signal:l.signal});e&&F({...i.data}),b(!1)}catch(o){var i,n;if("ERR_CANCELED"===(null===o||void 0===o?void 0:o.code))return;x.Y.info("Questionnaire - Preview Questionnaire - fetch handler - catch error - ".concat(null===o||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)),b(!1),G(o)}})(),()=>{e=!1,l.abort()}}),[]);const[W,K]=(0,n.useState)(!1),G=e=>{var l,i,n;if("ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code))if(401==(null===e||void 0===e||null===(l=e.response)||void 0===l?void 0:l.status))w({titleMessage:"Error",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(()=>Z.current())),setTimeout((()=>{N("/login")}),3e3);else if(403===(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status)){var o,s,t,r;w({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(o=e.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.message?null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Z.current())),setTimeout((()=>{N("/home")}),3e3)}else if(400===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&"Invalid questionnaire!"===e.response.data.message){var a,d,c,u;w({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(a=e.response)&&void 0!==a&&null!==(d=a.data)&&void 0!==d&&d.message?null===e||void 0===e||null===(c=e.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Z.current())),setTimeout((()=>{N("/questionnaires")}),3e3)}else{var v,p;w({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(v=e.response)&&void 0!==v&&null!==(p=v.data)&&void 0!==p&&p.message&&"string"===typeof e.response.data.message?e.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Z.current()))}},J=async e=>{try{return x.Y.info("Questionnaire - Preview Questionnaire - deleteQuestionnaire handler"),await L.Z.delete(M.ZW+"/".concat(null===O||void 0===O?void 0:O.uuid),{data:{deletionType:e}}),w({titleMessage:"Success",descriptionMessage:"".concat("inactive"===e?"Questionnaire inactivated successfully!":"Questionnaire deleted successfully!"),messageType:"success"},(()=>Z.current())),setTimeout((()=>N("/questionnaires",{state:0})),3e3)}catch(n){var l,i;G(n),x.Y.info("Questionnaire - Preview Questionnaire - deleteQuestionnaire handler - catch error - ".concat(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message))}finally{g(!1)}};return(0,y.jsxs)("div",{className:"page-wrapper",onClick:()=>W&&K(!1),children:[(0,y.jsx)(V.Z,{title:(0,y.jsxs)("p",{children:[" ","Delete ",O&&!(null!==O&&void 0!==O&&O.isPublished)&&" Drafted ","Questionnaire"]}),info1:(0,y.jsx)("p",{children:O&&null!==O&&void 0!==O&&O.isPublished?"Deleting the questionnaire will also delete the related assessments. Instead we recommend you make the questionnaire inactive.":"Deleting the drafted questionnaire will be an irreversible action. All the related details would be lost."}),info2:(0,y.jsxs)("p",{children:["Are you sure you want to delete",O&&!(null!==O&&void 0!==O&&O.isPublished)&&" drafted"," the questionnaire?"]}),primaryButtonText:O&&null!==O&&void 0!==O&&O.isPublished?"Delete Anyway":"Delete",secondaryButtonText:O&&null!==O&&void 0!==O&&O.isPublished?"Inactive":"Cancel",onPrimaryModalButtonClickHandler:async()=>{O&&null!==O&&void 0!==O&&O.isPublished?J("delete"):(async()=>{try{x.Y.info("Questionnaire - Preview Questionnaire - deleteDraft handler");const e=await L.Z.delete(M.uf+"/".concat(null===O||void 0===O?void 0:O.uuid));return w({titleMessage:"Success",descriptionMessage:e.data.message,messageType:"success"},(()=>Z.current())),setTimeout((()=>N("/questionnaires",{state:1})),3e3)}catch(i){var e,l;x.Y.info("Questionnaire - Preview Questionnaire - deleteDraft handler - catch error - ".concat(null===i||void 0===i||null===(e=i.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)),G(i)}finally{g(!1)}})()},onSecondaryModalButtonClickHandler:()=>{O&&null!==O&&void 0!==O&&O.isPublished?J("inactive"):g(!1)},openModal:j,setOpenModal:g}),(0,y.jsx)(E.Z,{myRef:Z,titleMessage:f.titleMessage,descriptionMessage:f.descriptionMessage,messageType:f.messageType}),(0,y.jsx)("div",{className:"breadcrumb-wrapper",children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)("ul",{className:"breadcrumb",children:[(0,y.jsx)("li",{children:(0,y.jsxs)(P.rU,{to:"/questionnaires",style:{cursor:"pointer"},state:null!==O&&void 0!==O&&O.isPublished?0:1,children:["Questionnaire"," ",null!==O&&void 0!==O&&O.isPublished?"(Published)":"(Drafted)"]})}),k["*"].includes("version")&&(0,y.jsx)("li",{children:(0,y.jsx)(P.rU,{to:"/questionnaire-version-history/".concat(k.id),style:{cursor:"pointer"},children:"Questionnaire History"})}),k["*"].includes("version")?(0,y.jsx)("li",{children:"Preview Questionnaire History"}):(0,y.jsx)("li",{children:"Preview Questionnaire "})]})})}),(0,y.jsx)("section",{children:(0,y.jsxs)("div",{className:"container",children:[(0,y.jsxs)("div",{className:"form-header",children:[(0,y.jsxs)("div",{className:"flex-between preview-que-ttl-blk",children:[(0,y.jsx)("h2",{className:"heading2",children:null===O||void 0===O?void 0:O.title}),(0,y.jsxs)("span",{className:"form-header-right-txt",onClick:()=>{K(!W)},children:[(0,y.jsx)("span",{className:"crud-operation ".concat(W&&"crud-operation-active"),children:(0,y.jsx)(S.Z,{})}),(0,y.jsx)("div",{className:"crud-toggle-wrap que-crud-toggle-wrap",style:{display:W?"block":"none"},children:(0,y.jsxs)("ul",{className:"crud-toggle-list",children:[(0,y.jsx)("li",{onClick:()=>(0,H.j)("Questionnaire",w,k.id,Z,M.KW,N),children:"Export to Excel"}),!k["*"].includes("version")&&!(null!==O&&void 0!==O&&O.isDraft)&&(0,y.jsx)("li",{onClick:()=>N("/questionnaire-version-history/".concat(k.id)),children:"Version History"}),(!0===z||(null===(i=Y[0])||void 0===i||null===(a=i.questionnaire)||void 0===a?void 0:a.edit))&&!k["*"].includes("version")&&((null===O||void 0===O?void 0:O.isDraft)||(null===O||void 0===O?void 0:O.isPublished))&&(0,y.jsx)("li",{onClick:()=>N("/questionnaires/edit-questionnaire/".concat(k.id)),children:"Edit Questionnaire"}),(!0===z||(null===(d=Y[0])||void 0===d||null===(c=d.questionnaire)||void 0===c?void 0:c.delete))&&(0,y.jsx)("li",{onClick:()=>g(!0),children:"Delete Questionnaire"})]})})]})]}),(0,y.jsx)("div",{className:"excel-short-name",children:(0,y.jsx)("p",{children:null===O||void 0===O?void 0:O.sheetName})})]}),h?(0,y.jsx)(U.Z,{}):(0,y.jsxs)("div",{className:"section-form-sect",children:[(0,y.jsx)("div",{className:"section-tab-blk flex-between preview-tab-blk",children:(0,y.jsx)("div",{className:"section-tab-leftblk",children:(0,y.jsx)(o.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,y.jsx)(s.Z,{value:p,onChange:(e,l)=>{m(l)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:null===O||void 0===O||null===(u=O.sections)||void 0===u?void 0:u.map(((e,l,i)=>{var n;return(0,y.jsx)(t.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,y.jsx)(r.Z,{className:"section-tab-item",label:"section ".concat(l+1),...A(l)})},null!==(n=null===e||void 0===e?void 0:e.uuid)&&void 0!==n?n:i)}))})})})}),(0,y.jsx)("div",{className:"preview-tab-data",children:null===O||void 0===O||null===(v=O.sections)||void 0===v?void 0:v.map(((e,l)=>{var i;return(0,y.jsx)(Q.x,{value:p,index:l,children:(0,y.jsx)(q,{questionnaire:O,section:e,sectionIndex:l})},null!==(i=null===e||void 0===e?void 0:e.uuid)&&void 0!==i?i:l)}))})]})]})})]})}},43989:(e,l,i)=>{i.d(l,{Z:()=>q});var n=i(35527),o=i(39281),s=i(79836),t=i(56890),r=i(35855),a=i(53994),d=i(20068),c=i(53382),u=i(72791),v=i(54261),p=i(97275),m=i(68096),h=i(58406),x=i(63903),b=i(47071),j=i(27954),g=i(12104),f=i(36571),y=i(51514),w=i(7792),Z=(i(14917),i(80184));const k={PaperProps:{style:{maxHeight:168}}},N=e=>{var l,i,n,o;let{isPreview:s,questionnaire:t,setQuestionnaire:r,sectionIndex:a,tableErr:c,setTableErr:v,rowId:N,cellId:q,cell:C}=e;const[P,T]=(0,u.useState)(!1),M=null===t||void 0===t||null===(l=t.sections[a])||void 0===l||null===(i=l.columnValues[q])||void 0===i?void 0:i.columnType,D=null===t||void 0===t||null===(n=t.sections[a])||void 0===n?void 0:n.columnValues[q];return(0,Z.jsxs)("div",{children:[M&&"prefilled"===M&&s&&D.uuid===C.columnId&&"no"==D.hideColumn&&(0,Z.jsx)("p",{style:{textAlign:"justify"},children:P?(0,Z.jsxs)("span",{children:[(0,Z.jsx)("span",{children:null===C||void 0===C?void 0:C.value}),(0,Z.jsx)("br",{}),(0,Z.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),T(!1)},style:{color:"#4596D1"},children:"Show Less"})]}):(0,Z.jsx)("span",{children:(null===C||void 0===C?void 0:C.value.length)>100?(0,Z.jsxs)("span",{children:[(0,Z.jsxs)("span",{children:[null===C||void 0===C?void 0:C.value.slice(0,100),"..."]}),(0,Z.jsx)("br",{}),(0,Z.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),T(!0)},style:{color:"#4596D1"},children:"Show More"})]}):null===C||void 0===C?void 0:C.value})}),M&&"attachments"===M&&(0,Z.jsx)("span",{className:"no-attachment-txt",children:"No Attachments"}),M&&"prefilled"===M&&!s&&(0,Z.jsx)(p.Z,{multiline:!0,className:"input-textarea ".concat(!(null!==C&&void 0!==C&&C.value)&&c&&"input-textarea-error"),name:"value",value:null===C||void 0===C?void 0:C.value,helperText:null!==C&&void 0!==C&&C.value||!c?" ":"Enter the row value",onChange:e=>((e,l,i)=>{const{name:n,value:o}=e.target,s={...t};s.sections[a].rowValues[l].cells[i][n]=o,r(s)})(e,N,q),onBlur:e=>((e,l,i)=>{const{name:n,value:o}=e.target,s={...t};s.sections[a].rowValues[l].cells[i][n]=null===o||void 0===o?void 0:o.trim(),r(s)})(e,N,q)}),M&&"textbox"===M&&(0,Z.jsx)(p.Z,{helperText:" ",disabled:!0}),M&&"dropdown"===M&&(0,Z.jsxs)(m.Z,{className:"fullwidth-field",children:[(0,Z.jsx)(h.Z,{IconComponent:e=>(0,Z.jsx)(g.Z,{...e}),displayEmpty:!0,placeholder:"Select input type",name:"columnType",value:null===D||void 0===D?void 0:D.columnType,className:"select-dropdown",renderValue:()=>(0,Z.jsx)("div",{className:"select-placeholder",children:"Select option"}),MenuProps:k,children:D&&(null===D||void 0===D||null===(o=D.options)||void 0===o?void 0:o.map(((e,l)=>(0,Z.jsx)(x.Z,{value:e,children:(null===e||void 0===e?void 0:e.length)<=40?e:(0,Z.jsx)(d.Z,{title:e,children:(0,Z.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,40))+"..."})})},l))))}),(0,Z.jsx)(b.Z,{children:" "})]}),M&&"date"===M&&(0,Z.jsx)(f._,{dateAdapter:w.y,children:(0,Z.jsx)(y.M,{disabled:!0,value:null,className:"datepicker-blk",components:{OpenPickerIcon:j.Z},onChange:()=>{},renderInput:e=>(0,Z.jsx)(p.Z,{...e,helperText:" "})})})]})},q=e=>{var l,i,u,p;let{questionnaire:m,setQuestionnaire:h,sectionIndex:x,tableErr:b,setTableErr:j,isPreview:g}=e;const f=()=>{var e,l,i,n;let o={...m},s={uuid:(0,v.Z)(),cells:[]};null===o||void 0===o||null===(e=o.sections[x])||void 0===e||null===(l=e.columnValues)||void 0===l||l.forEach(((e,l)=>{var i;return null===s||void 0===s||null===(i=s.cells)||void 0===i?void 0:i.push({columnId:null===e||void 0===e?void 0:e.uuid,value:""})})),null===o||void 0===o||null===(i=o.sections[x])||void 0===i||null===(n=i.rowValues)||void 0===n||n.push({...s}),h(o)};return(0,Z.jsx)("div",{className:"que-table-sect",children:(0,Z.jsxs)("div",{className:"que-table-wrap que-table-render-wrap ".concat(g||"que-table-create","  ").concat(g||"active"," "),children:[(0,Z.jsx)("div",{className:"que-table-innerwrap que-table-render-innerwrap flex-between no-wrap",children:(0,Z.jsx)(n.Z,{sx:{width:"96%",overflow:"hidden"},className:"que-table-infoblk que-sticky-column pb-0",children:(0,Z.jsx)(o.Z,{sx:{maxHeight:440},children:(0,Z.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"que-table que-table-render",children:[(0,Z.jsx)(t.Z,{children:(0,Z.jsxs)(r.Z,{children:[!g&&(0,Z.jsx)(a.Z,{width:75}),m&&g?null===m||void 0===m||null===(l=m.sections[x])||void 0===l?void 0:l.columnValues.filter((e=>"no"===e.hideColumn||"prefilled"!=e.columnType)).map(((e,l)=>(0,Z.jsx)(a.Z,{width:"200px",children:(0,Z.jsx)("div",{className:"que-table-column-info",children:(0,Z.jsx)("div",{className:"que-column-ttlblk",children:(0,Z.jsx)("div",{className:"form-group",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,Z.jsx)(d.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,Z.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,Z.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,Z.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title,(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,Z.jsx)("span",{className:"mandatory",children:" *"})]})})})})},null===e||void 0===e?void 0:e.uuid))):null===m||void 0===m||null===(i=m.sections[x])||void 0===i?void 0:i.columnValues.map(((e,l)=>(0,Z.jsx)(a.Z,{children:(0,Z.jsx)("div",{className:"que-table-column-info",children:(0,Z.jsx)("div",{className:"que-column-ttlblk",children:(0,Z.jsx)("div",{className:"form-group",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,Z.jsx)(d.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,Z.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,Z.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,Z.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title,(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,Z.jsx)("span",{className:"mandatory",children:" *"})]})})})})},null===e||void 0===e?void 0:e.uuid)))]})}),(0,Z.jsx)(c.Z,{children:null===m||void 0===m||null===(u=m.sections[x])||void 0===u||null===(p=u.rowValues)||void 0===p?void 0:p.map(((e,l)=>{var i,n,o;return(0,Z.jsxs)(r.Z,{children:[g||(0,Z.jsx)(a.Z,{sx:{display:"none"},children:(0,Z.jsxs)("div",{className:"que-column-count flex-between",style:{cursor:"pointer",display:""},children:[(0,Z.jsxs)("span",{className:"que-column-count-txt",children:[l+1,"."]}),(null===m||void 0===m||null===(i=m.sections[x])||void 0===i||null===(n=i.rowValues)||void 0===n?void 0:n.length)>1&&(g||(0,Z.jsx)(d.Z,{title:"Delete Row",children:(0,Z.jsx)("span",{className:"minus-iconblk",onClick:()=>(e=>{var l,i;let n={...m};null===n||void 0===n||null===(l=n.sections[x])||void 0===l||null===(i=l.rowValues)||void 0===i||i.splice(e,1),h(n)})(l),children:(0,Z.jsx)("i",{className:"fa fa-minus"})})}))]})}),e&&(null===e||void 0===e||null===(o=e.cells)||void 0===o?void 0:o.map(((e,i)=>((e,l)=>{var i;let n=null===m||void 0===m||null===(i=m.sections[x])||void 0===i?void 0:i.columnValues[l];return!g||n.uuid===e.columnId&&"no"==(null===n||void 0===n?void 0:n.hideColumn)&&"prefilled"===(null===n||void 0===n?void 0:n.columnType)||n.uuid!==e.columnId||"yes"!=(null===n||void 0===n?void 0:n.hideColumn)||"prefilled"!==(null===n||void 0===n?void 0:n.columnType)})(e,i)&&(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(N,{isPreview:g,questionnaire:m,setQuestionnaire:h,sectionIndex:x,tableErr:b,setTableErr:j,cellId:i,rowId:l,cell:e})},null===e||void 0===e?void 0:e.columnId))))]},null===e||void 0===e?void 0:e.uuid)}))})]})})})}),g||(0,Z.jsxs)("div",{className:"add-row-btnblk mt-20",children:[(0,Z.jsx)("span",{className:"addmore-icon",onClick:f,children:(0,Z.jsx)("i",{className:"fa fa-plus"})})," ",(0,Z.jsx)("span",{onClick:f,children:"Add Row"})]})]})})}},71300:(e,l,i)=>{i.d(l,{Z:()=>c});var n=i(29823),o=i(88447),s=i(52739),t=i(60627),r=i(697),a=i(20068),d=(i(72791),i(80184));const c=e=>{var l,i,c,u,v,p;let{title:m,info1:h,info2:x,primaryButtonText:b,secondaryButtonText:j,onPrimaryModalButtonClickHandler:g,isDisabledPrimaryButton:f=!1,onSecondaryModalButtonClickHandler:y,openModal:w,setOpenModal:Z,isModalForm:k,handleCloseRedirect:N,hideCloseIcon:q=!1}=e;const C=(e,l)=>{l&&"backdropClick"===l||Z(!1)},P=()=>{y()};let T="";return"object"===typeof(null===m||void 0===m||null===(l=m.props)||void 0===l?void 0:l.children)?null===m||void 0===m||null===(i=m.props)||void 0===i||null===(c=i.children)||void 0===c||c.map((e=>T+=e)):T=null===m||void 0===m||null===(u=m.props)||void 0===u?void 0:u.children,(0,d.jsx)(o.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:w,onClose:C,closeAfterTransition:!0,disableEscapeKeyDown:!!k,BackdropComponent:s.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,d.jsx)(t.Z,{in:w,children:(0,d.jsx)(r.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,d.jsxs)("div",{className:"popup-innerblk",children:[(0,d.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=T)||void 0===v?void 0:v.length)<=47?(0,d.jsx)("h2",{className:"popup-ttl heading2",children:m}):(0,d.jsx)(a.Z,{title:T,children:(0,d.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(p=T)||void 0===p?void 0:p.slice(0,50),'..."']})}),(0,d.jsx)("span",{hidden:q,className:"popup-close-icon",onClick:k?N:C,children:(0,d.jsx)(n.Z,{})})]}),(0,d.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,d.jsxs)("div",{className:"popup-content-blk text-center",children:[h,k?(0,d.jsx)("form",{onSubmit:P,children:x}):x,(0,d.jsxs)("div",{className:"form-btn flex-center",children:[j&&(0,d.jsx)("button",{type:"submit",onClick:P,className:"secondary-button mr-10",children:j}),(0,d.jsx)("button",{type:"submit",onClick:()=>{g()},disabled:f,className:"primary-button",children:b})]})]})})]})})})})}},47806:(e,l,i)=>{i.d(l,{d:()=>t,j:()=>r});var n=i(94677),o=i(14917),s=i(45736);const t=()=>{let e=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),l=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),i=(new Date).getHours();return e+l+(new Date).getFullYear().toString()+"_"+i+(new Date).getMinutes()+(new Date).getSeconds()},r=async(e,l,i,r,a,d)=>{try{const s=await n.H.get(i?a+i+"/download":a,{responseType:"blob"});o.Y.info(" download function -  from ".concat(e,"  assessment "));const d=window.URL.createObjectURL(new Blob([s.data])),c=document.createElement("a");c.href=d;let u=t();c.setAttribute("download","".concat(e," - ").concat(u,".xlsx")),document.body.appendChild(c),c.click(),200==s.status&&l({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(()=>r.current()))}catch(v){var c,u;return o.Y.info("downlaod function - error ".concat(null===v||void 0===v||null===(c=v.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)),(0,s.K)(v,l,r,d),v}}},98460:(e,l,i)=>{i.d(l,{x:()=>s});var n=i(697),o=i(80184);function s(e){const{children:l,value:i,index:s,...t}=e;return(0,o.jsx)("div",{role:"tabpanel",hidden:i!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s),...t,children:i===s&&(0,o.jsx)(n.Z,{children:l})})}},1260:(e,l,i)=>{i.d(l,{j:()=>o});var n=i(72791);const o=e=>((0,n.useEffect)((()=>{document.title="HRDD System - ".concat(e)}),[e]),null)},70034:(e,l,i)=>{var n=i(64836);l.Z=void 0;var o=n(i(45649)),s=i(80184),t=(0,o.default)((0,s.jsx)("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z"}),"ContentCopyRounded");l.Z=t},52898:(e,l,i)=>{var n=i(64836);l.Z=void 0;var o=n(i(45649)),s=i(80184),t=(0,o.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");l.Z=t},85523:(e,l,i)=>{i.d(l,{Z:()=>Z});var n=i(63366),o=i(87462),s=i(72791),t=i(63733),r=i(94419),a=i(52930),d=i(53767),c=i(20890),u=i(14036),v=i(66934),p=i(31402),m=i(75878),h=i(21217);function x(e){return(0,h.Z)("MuiFormControlLabel",e)}const b=(0,m.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var j=i(76147),g=i(80184);const f=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],y=(0,v.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:i}=e;return[{["& .".concat(b.label)]:l.label},l.root,l["labelPlacement".concat((0,u.Z)(i.labelPlacement))]]}})((e=>{let{theme:l,ownerState:i}=e;return(0,o.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(b.disabled)]:{cursor:"default"}},"start"===i.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===i.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===i.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(b.label)]:{["&.".concat(b.disabled)]:{color:(l.vars||l).palette.text.disabled}}})})),w=(0,v.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,l)=>l.asterisk})((e=>{let{theme:l}=e;return{["&.".concat(b.error)]:{color:(l.vars||l).palette.error.main}}})),Z=s.forwardRef((function(e,l){var i,v;const m=(0,p.Z)({props:e,name:"MuiFormControlLabel"}),{className:h,componentsProps:b={},control:Z,disabled:k,disableTypography:N,label:q,labelPlacement:C="end",required:P,slotProps:T={}}=m,M=(0,n.Z)(m,f),D=(0,a.Z)(),I=null!=(i=null!=k?k:Z.props.disabled)?i:null==D?void 0:D.disabled,S=null!=P?P:Z.props.required,R={disabled:I,required:S};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof Z.props[e]&&"undefined"!==typeof m[e]&&(R[e]=m[e])}));const E=(0,j.Z)({props:m,muiFormControl:D,states:["error"]}),Q=(0,o.Z)({},m,{disabled:I,labelPlacement:C,required:S,error:E.error}),V=(e=>{const{classes:l,disabled:i,labelPlacement:n,error:o,required:s}=e,t={root:["root",i&&"disabled","labelPlacement".concat((0,u.Z)(n)),o&&"error",s&&"required"],label:["label",i&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,r.Z)(t,x,l)})(Q),L=null!=(v=T.typography)?v:b.typography;let H=q;return null==H||H.type===c.Z||N||(H=(0,g.jsx)(c.Z,(0,o.Z)({component:"span"},L,{className:(0,t.Z)(V.label,null==L?void 0:L.className),children:H}))),(0,g.jsxs)(y,(0,o.Z)({className:(0,t.Z)(V.root,h),ownerState:Q,ref:l},M,{children:[s.cloneElement(Z,R),S?(0,g.jsxs)(d.Z,{display:"block",children:[H,(0,g.jsxs)(w,{ownerState:Q,"aria-hidden":!0,className:V.asterisk,children:["\u2009","*"]})]}):H]}))}))},79012:(e,l,i)=>{i.d(l,{Z:()=>j});var n=i(63366),o=i(87462),s=i(72791),t=i(63733),r=i(94419),a=i(66934),d=i(31402),c=i(75878),u=i(21217);function v(e){return(0,u.Z)("MuiFormGroup",e)}(0,c.Z)("MuiFormGroup",["root","row","error"]);var p=i(52930),m=i(76147),h=i(80184);const x=["className","row"],b=(0,a.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:i}=e;return[l.root,i.row&&l.row]}})((e=>{let{ownerState:l}=e;return(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},l.row&&{flexDirection:"row"})})),j=s.forwardRef((function(e,l){const i=(0,d.Z)({props:e,name:"MuiFormGroup"}),{className:s,row:a=!1}=i,c=(0,n.Z)(i,x),u=(0,p.Z)(),j=(0,m.Z)({props:i,muiFormControl:u,states:["error"]}),g=(0,o.Z)({},i,{row:a,error:j.error}),f=(e=>{const{classes:l,row:i,error:n}=e,o={root:["root",i&&"row",n&&"error"]};return(0,r.Z)(o,v,l)})(g);return(0,h.jsx)(b,(0,o.Z)({className:(0,t.Z)(f.root,s),ownerState:g,ref:l},c))}))},88970:(e,l,i)=>{i.d(l,{Z:()=>p});var n=i(87462),o=i(63366),s=i(72791),t=i(79012),r=i(42071),a=i(98278),d=i(18672),c=i(67384),u=i(80184);const v=["actions","children","defaultValue","name","onChange","value"],p=s.forwardRef((function(e,l){const{actions:i,children:p,defaultValue:m,name:h,onChange:x,value:b}=e,j=(0,o.Z)(e,v),g=s.useRef(null),[f,y]=(0,a.Z)({controlled:b,default:m,name:"RadioGroup"});s.useImperativeHandle(i,(()=>({focus:()=>{let e=g.current.querySelector("input:not(:disabled):checked");e||(e=g.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const w=(0,r.Z)(l,g),Z=(0,c.Z)(h),k=s.useMemo((()=>({name:Z,onChange(e){y(e.target.value),x&&x(e,e.target.value)},value:f})),[Z,x,y,f]);return(0,u.jsx)(d.Z.Provider,{value:k,children:(0,u.jsx)(t.Z,(0,n.Z)({role:"radiogroup",ref:w},j,{children:p}))})}))},54261:(e,l,i)=>{i.d(l,{Z:()=>d});const n={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const s=new Uint8Array(16);function t(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}const r=[];for(let c=0;c<256;++c)r.push((c+256).toString(16).slice(1));function a(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r[e[l+0]]+r[e[l+1]]+r[e[l+2]]+r[e[l+3]]+"-"+r[e[l+4]]+r[e[l+5]]+"-"+r[e[l+6]]+r[e[l+7]]+"-"+r[e[l+8]]+r[e[l+9]]+"-"+r[e[l+10]]+r[e[l+11]]+r[e[l+12]]+r[e[l+13]]+r[e[l+14]]+r[e[l+15]]}const d=function(e,l,i){if(n.randomUUID&&!l&&!e)return n.randomUUID();const o=(e=e||{}).random||(e.rng||t)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,l){i=i||0;for(let e=0;e<16;++e)l[i+e]=o[e];return l}return a(o)}}}]);
//# sourceMappingURL=8617.0936a25c.chunk.js.map