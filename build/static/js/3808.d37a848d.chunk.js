"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[3808],{14917:(s,e,o)=>{o.d(e,{Y:()=>n});const r=window.location.search,a=new URLSearchParams(r).get("debug"),n={debug(s,e){"1"===a?console.log(s,e):console.log=()=>{}},info(s,e){"?debug=1"===r||"?info=1"===r?console.info(s,e):console.info=()=>{}},error(s){"?debug=1"===r||"?info=1"===r||"?error=1"===r?console.error(s):console.error=()=>{}}}},93808:(s,e,o)=>{o.r(e),o.d(e,{default:()=>f});var r=o(72791),a=o(44695),n=o(77196),i=o(55294),l=o(61134),d=o(57689),t=o(81724),c=o(14917),m=o(76218),u=o(27659),w=o(12010),h=o(1260),g=o(42866),p=o(80184);const v=t.Ry().shape({newPassword:t.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:t.Z_().required("Enter the confirm password").oneOf([t.iH("newPassword"),null],"Password does not match.")}),f=()=>{var s;(0,h.j)("Reset Password");const{register:e,handleSubmit:o,setValue:t,formState:{errors:f},reset:x}=(0,l.cI)({resolver:(0,a.X)(v),defaultValues:{newPassword:"",confirmPassword:""}}),j=(0,d.s0)(),N=(0,r.useRef)(),b=(0,d.UO)(),[P,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{document.body.classList.add("login-page");let s=new AbortController;return(async()=>{c.Y.info("Reset Password - Verify forgot token handler");try{const{response:e}=await i.Z.get(m.OP+b.id,{signal:s.signal});if(200==(null===e||void 0===e?void 0:e.status))return null}catch(a){var e,o,r;c.Y.info("Reset Password - Verify forgot token handler catch error - ".concat(null===a||void 0===a||null===(e=a.response)||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)),400==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)&&y(!0)}})(),()=>{s.abort(),document.body.classList.remove("login-page")}}),[]);const[k,Z]=r.useState({newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),[C,R]=(0,r.useState)(""),[S,_]=(0,r.useState)(""),[F,D]=(0,r.useState)(""),E=s=>{s.preventDefault()};return(0,p.jsxs)("div",{className:"page-wrapper login-page-wrap",children:[(0,p.jsx)(u.Z,{messageType:C,titleMessage:S,myRef:N,descriptionMessage:F}),(0,p.jsx)("div",{className:"login-section",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"login-wrapper",children:[(0,p.jsx)("div",{className:"login-leftblk",children:(0,p.jsx)("div",{className:"login-slider",children:(0,p.jsx)(g.Z,{})})}),(0,p.jsx)("div",{className:"login-rightblk",children:(0,p.jsxs)("div",{className:"login-blk",children:[(0,p.jsx)("div",{className:"logo",children:(0,p.jsx)("img",{src:"/images/logo.png",alt:"",className:"img-fluid"})}),(0,p.jsx)("h2",{className:"".concat(P?"warning-message":"heading1 text-uppercase"),children:P?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:"Oops! The link to reset password is expired or looks like you're trying using an invalid link."}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:'If you don\'t remember your password, please click on "Forgot Password" button below to reset your password.'})]}):"Reset Password"}),(0,p.jsx)("div",{className:"login-form",children:P?(0,p.jsx)("div",{className:"form-btn flex-between",children:(0,p.jsx)("button",{type:"submit",className:"primary-button",onClick:()=>j("/forget-password"),children:"Forgot password"})}):(0,p.jsxs)("form",{onSubmit:o((async s=>{c.Y.info("Reset password - submitForm handler");try{const e=await i.Z.post("".concat(m.lP).concat(b.id),{password:s.newPassword,confirmPassword:s.confirmPassword});201==(null===e||void 0===e?void 0:e.status)&&(R("success"),_("Success"),D("Your password has been successfully updated!"),setTimeout((()=>{N.current()}),1e3),x())}catch(u){var e,o,r,a,n,l,d,t;if(c.Y.info("Reset Password - submitForm handler"),400==(null===u||void 0===u||null===(e=u.response)||void 0===e?void 0:e.status)&&"Invalid token"!==(null===u||void 0===u||null===(o=u.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message))R("error"),_("Password Reset Failure"),D(null===u||void 0===u||null===(d=u.response)||void 0===d||null===(t=d.data)||void 0===t?void 0:t.message),x(),setTimeout((()=>{N.current()}),1e3);else 400===(null===u||void 0===u||null===(a=u.response)||void 0===a?void 0:a.status)&&"Invalid token"===(null===u||void 0===u||null===(n=u.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)&&y(!0)}})),children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,p.jsx)("span",{className:"mandatory",children:"*"})]}),(0,p.jsxs)("div",{className:"password-field",children:[(0,p.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:k.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat(f.newPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,p.jsx)(w.Z,{show:null===k||void 0===k?void 0:k.showNewPassword,onClickHandler:()=>{Z({...k,showNewPassword:!k.showNewPassword})},onMouseDown:E}),...e("newPassword"),onBlur:s=>t("newPassword",s.target.value.trim())}),(0,p.jsx)("p",{className:"password-error",children:null!==f&&void 0!==f&&f.newPassword?null===(s=f.newPassword)||void 0===s?void 0:s.message:(0,p.jsx)("span",{children:"\xa0"})})]})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,p.jsx)("span",{className:"mandatory",children:"*"})]}),(0,p.jsxs)("div",{className:"password-field",children:[(0,p.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:k.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(f.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,p.jsx)(w.Z,{show:null===k||void 0===k?void 0:k.showConfirmPassword,onClickHandler:()=>{Z({...k,showConfirmPassword:!k.showConfirmPassword})},onMouseDown:E}),...e("confirmPassword"),onBlur:s=>t("confirmPassword",s.target.value.trim())}),(0,p.jsx)("p",{className:"password-error",children:null!==f&&void 0!==f&&f.confirmPassword?f.confirmPassword.message:(0,p.jsx)("span",{children:"\xa0"})})]})]}),(0,p.jsxs)("div",{className:"form-btn flex-between",children:[(0,p.jsx)("button",{type:"submit",className:"primary-button",children:"Reset"}),(0,p.jsx)("div",{onClick:()=>j("/login"),className:"tertiary-btn-blk mr-10",children:"Back to login"})]})]})})]})})]})})})]})}},42866:(s,e,o)=>{o.d(e,{Z:()=>i});o(72791);var r=o(39120),a=o.n(r),n=(o(80191),o(83835),o(80184));const i=()=>(0,n.jsxs)(a(),{className:"owl-theme",items:"1",dots:!0,loop:!0,autoplay:!0,children:[(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("div",{className:"login-slide-img",children:(0,n.jsx)("img",{rel:!0,fetchPriority:"high",src:"/images/login-slide1.png",alt:"",className:"img-fluid"})})}),(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("div",{className:"login-slide-img",children:(0,n.jsx)("img",{fetchPriority:"low",src:"/images/login-slide2.png",alt:"",className:"img-fluid"})})}),(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("div",{className:"login-slide-img",children:(0,n.jsx)("img",{src:"/images/login-slide3.png",alt:"",className:"img-fluid"})})})]})},27659:(s,e,o)=>{o.d(e,{Z:()=>d});var r=o(92131),a=o(5130),n=o(72791),i=o(29655),l=(o(5462),o(80184));const d=function(s){let{titleMessage:e,descriptionMessage:o,messageType:d,myRef:t,key:c}=s;const m=()=>{(0,i.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})},u=()=>(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===d&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===d&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===d&&(0,l.jsx)(r.Z,{}),"error"===d&&(0,l.jsx)(a.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:o})})]});return(0,n.useEffect)((()=>{t.current=m}),[m,t]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(i.Ix,{className:"toaster-wrap ".concat("success"===d&&"toaster-wrap-success"," ")})]})}},12010:(s,e,o)=>{o.d(e,{Z:()=>i});var r=o(63466),a=o(13400),n=(o(72791),o(80184));const i=s=>{let{show:e,onClickHandler:o,mouseDownHandler:i}=s;return(0,n.jsx)(r.Z,{position:"end",children:(0,n.jsx)(a.Z,{"aria-label":"toggle password visibility",onClick:o,onMouseDown:i,edge:"end",className:"eye-btn",children:e?(0,n.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,n.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},1260:(s,e,o)=>{o.d(e,{j:()=>a});var r=o(72791);const a=s=>((0,r.useEffect)((()=>{document.title="HRDD System - ".concat(s)}),[s]),null)}}]);
//# sourceMappingURL=3808.d37a848d.chunk.js.map