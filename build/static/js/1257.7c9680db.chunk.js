"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[1257],{61257:(e,s,n)=>{n.r(s),n.d(s,{default:()=>x});var l=n(35527),i=n(39281),d=n(79836),o=n(56890),t=n(35855),a=n(53994),r=n(20068),c=n(53382),u=n(72791),m=n(57689),v=n(54261),h=n(14917),p=n(80184);const f=u.lazy((()=>n.e(2700).then(n.bind(n,62700)))),x=e=>{let{setAssessmentQuestionnaire:s,assessmentQuestionnaire:n={},columnValues:x,rowValues:j,sectionUUID:w,handleAnswersChange:b,handleAnswersBlur:y,errors:N,editMode:k,myRef:Z,setToasterDetails:g}=e;const U=(0,m.UO)(),I=(e=>{let s={};return e.forEach((e=>{s[e.uuid]=e})),s})(x),R=(e=>{let s={};return e.forEach((e=>{s[e.uuid]=e})),s})(j),[D,_]=(0,u.useState)(!1);let q=[];const A=e=>{let l={};Object.keys(n[w]).forEach((s=>{s.includes(e)||(l[s]=n[w][s])}));const i={...n};i[w]=l,s(i)};return(0,p.jsx)("div",{className:"que-table-sect",children:(0,p.jsxs)("div",{className:"que-table-wrap assessment-table-wrap",children:[(0,p.jsx)("div",{className:"que-table-innerwrap assessment-table-innerwrap flex-between no-wrap",children:(0,p.jsx)(l.Z,{sx:{width:"96%",overflow:"hidden"},className:"que-table-infoblk",children:(0,p.jsx)(i.Z,{sx:{maxHeight:440},children:(0,p.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",className:D||U["*"].includes("view")?"que-table assessment-table":"que-table assessment-table not-prefilled-table",children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)(t.Z,{children:[!D&&!U["*"].includes("view")&&(0,p.jsx)(a.Z,{width:75}),null===x||void 0===x?void 0:x.map(((e,s)=>(0,p.jsxs)(a.Z,{width:"200px",children:[D||"prefilled"===(null===e||void 0===e?void 0:e.columnType)&&_(!0),(0,p.jsx)("div",{className:"que-table-column-info",children:(0,p.jsx)("div",{className:"que-column-ttlblk",children:(0,p.jsx)("div",{className:"que-table-col-ttl",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,p.jsx)(r.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,p.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(0,p.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,p.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title," ",(null===e||void 0===e?void 0:e.isRequired)&&(0,p.jsx)("span",{className:"mandatory",children:"*"})]})})})})]},null===e||void 0===e?void 0:e.uuid)))]})}),(0,p.jsxs)(c.Z,{children:[D&&(null===j||void 0===j?void 0:j.map(((e,l)=>{var i;return(0,p.jsxs)(t.Z,{children:[!D&&!U["*"].includes("view")&&(0,p.jsx)(a.Z,{className:"que-column-count",style:{cursor:"pointer",display:""},children:(0,p.jsx)(r.Z,{title:"Delete Row",children:(0,p.jsx)("span",{className:"minus-iconblk",onClick:()=>A(),children:(0,p.jsx)("i",{className:"fa fa-minus"})})})}),e&&(null===e||void 0===e||null===(i=e.cells)||void 0===i?void 0:i.map(((l,i)=>{var d,o;return(0,p.jsx)(a.Z,{children:(0,p.jsx)(f,{sectionUUID:w,isPrefilled:D,assessmentQuestionnaire:n,setAssessmentQuestionnaire:s,transformedColumns:I,tranformedRows:R,cellId:i,rowId:null===e||void 0===e?void 0:e.uuid,cell:l,answer:n[w]&&null!==(d=n[w]["".concat(l.columnId,"_").concat(null===e||void 0===e?void 0:e.uuid)])&&void 0!==d?d:"",handleAnswersChange:b,handleAnswersBlur:y,error:null!==(o=N["".concat(null===l||void 0===l?void 0:l.columnId,"_").concat(null===e||void 0===e?void 0:e.uuid)])&&void 0!==o?o:"",editMode:k,myRef:Z,setToasterDetails:g})},null===l||void 0===l?void 0:l.columnId)})))]},null===e||void 0===e?void 0:e.uuid)}))),!D&&n&&0!==Object.keys(n).length&&n[w]&&0!==Object.keys(n[w]).length&&(null===Object||void 0===Object?void 0:Object.keys(n[w]).map(((e,l)=>{let i=e.split("_")[1];if(-1===(null===q||void 0===q?void 0:q.findIndex((e=>e===i))))return null===q||void 0===q||q.push(i),(0,p.jsxs)(t.Z,{className:"not-prefilled",children:[!D&&!U["*"].includes("view")&&(0,p.jsx)(a.Z,{children:(0,p.jsxs)("div",{className:"que-column-count flex-between",style:{cursor:"pointer",display:""},children:[(null===q||void 0===q?void 0:q.length)>1&&(0,p.jsx)(r.Z,{title:"Delete Row",children:(0,p.jsx)("span",{className:"minus-iconblk",onClick:()=>A(i),children:(0,p.jsx)("i",{className:"fa fa-minus"})})}),(null===q||void 0===q?void 0:q.length)>1&&0===l&&(0,p.jsx)(r.Z,{title:"Delete Row",children:(0,p.jsx)("span",{className:"minus-iconblk",onClick:()=>A(i),children:(0,p.jsx)("i",{className:"fa fa-minus"})})})]})}),null===x||void 0===x?void 0:x.map(((e,l)=>{var d,o;return(0,p.jsx)(a.Z,{children:(0,p.jsx)(f,{isPrefilled:D,sectionUUID:w,assessmentQuestionnaire:n,setAssessmentQuestionnaire:s,transformedColumns:I,tranformedRows:R,rowId:i,columnId:null===e||void 0===e?void 0:e.uuid,columnIdx:l,answer:n[w]&&null!==(d=n[w]["".concat(null===e||void 0===e?void 0:e.uuid,"_").concat(i)])&&void 0!==d?d:"",handleAnswersChange:b,handleAnswersBlur:y,error:null!==(o=N["".concat(null===e||void 0===e?void 0:e.uuid,"_").concat(i)])&&void 0!==o?o:"",editMode:k,myRef:Z,setToasterDetails:g})},null===e||void 0===e?void 0:e.uuid)}))]},e)})))]})]})})})}),!D&&!U["*"].includes("view")&&(0,p.jsxs)("div",{className:"add-row-btnblk",onClick:()=>{const e=(0,v.Z)();let l={...n};x.forEach((s=>{l[w]["".concat([null===s||void 0===s?void 0:s.uuid],"_").concat(e)]=""})),h.Y.info("Table Assesment - onRowClickHandler"),s({...l})},children:[(0,p.jsx)("span",{className:"addmore-icon",children:(0,p.jsx)("i",{className:"fa fa-plus"})})," ",(0,p.jsx)("span",{children:"Add Row"})]})]})})}},54261:(e,s,n)=>{n.d(s,{Z:()=>r});const l={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const d=new Uint8Array(16);function o(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(d)}const t=[];for(let c=0;c<256;++c)t.push((c+256).toString(16).slice(1));function a(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e[s+0]]+t[e[s+1]]+t[e[s+2]]+t[e[s+3]]+"-"+t[e[s+4]]+t[e[s+5]]+"-"+t[e[s+6]]+t[e[s+7]]+"-"+t[e[s+8]]+t[e[s+9]]+"-"+t[e[s+10]]+t[e[s+11]]+t[e[s+12]]+t[e[s+13]]+t[e[s+14]]+t[e[s+15]]}const r=function(e,s,n){if(l.randomUUID&&!s&&!e)return l.randomUUID();const i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,s){n=n||0;for(let e=0;e<16;++e)s[n+e]=i[e];return s}return a(i)}}}]);
//# sourceMappingURL=1257.7c9680db.chunk.js.map