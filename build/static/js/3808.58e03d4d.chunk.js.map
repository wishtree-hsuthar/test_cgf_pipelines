{"version":3,"file":"static/js/3808.58e03d4d.chunk.js","mappings":"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","sources":["Pages/ResetPassword.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { OutlinedInput as ResetPasswordOutlinedInput } from \"@mui/material\";\nimport axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { Logger } from \"../Logger/Logger\";\nimport { FORGOT_PASSWORD, FORGOT_PASSWORD_VERIFY_TOKEN } from \"../api/Url\";\nimport Toaster from \"../components/Toaster\";\nimport CustomInputAdornment from \"../utils/CustomInputAdornment\";\nimport { useDocumentTitle } from \"../utils/useDocumentTitle\";\nimport Slider from \"./Slider\";\n\nconst schema = yup.object().shape({\n  newPassword: yup\n    .string()\n    .required(\"Enter the new password\")\n    .matches(\n      /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{6,15}$/,\n      \"Password must contain at least 6 characters, one uppercase, one number and one special case character\"\n    ),\n  confirmPassword: yup\n    .string()\n    .required(\"Enter the confirm password\")\n    .oneOf([yup.ref(\"newPassword\"), null], \"Password does not match.\"),\n});\nconst ResetPassword = () => {\n  //custom hook to set title of page\n  useDocumentTitle(\"Reset Password\");\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: {\n      newPassword: \"\",\n      confirmPassword: \"\",\n    },\n  });\n  const navigate = useNavigate();\n  const resetPasswordToasterRef = useRef();\n  const params = useParams();\n  const [showInvalidTokenMessage, setShowInvalidTokenMessage] = useState(false);\n  useEffect(() => {\n    document.body.classList.add(\"login-page\");\n    let controller = new AbortController();\n    const verifyForgotToken = async () => {\n      Logger.info(\"Reset Password - Verify forgot token handler\");\n      try {\n        const { response } = await axios.get(\n          FORGOT_PASSWORD_VERIFY_TOKEN + params.id,\n          {\n            signal: controller.signal,\n          }\n        );\n        if (response?.status == 200) {\n          return null;\n        }\n      } catch (error) {\n        Logger.info(\n          `Reset Password - Verify forgot token handler catch error - ${error?.response?.data?.message}`\n        );\n        if (error?.response?.status == 400) {\n          setShowInvalidTokenMessage(true);\n        }\n      }\n    };\n    verifyForgotToken();\n    return () => {\n      controller.abort();\n      document.body.classList.remove(\"login-page\");\n    };\n  }, []);\n\n  const [values, setValues] = React.useState({\n    newPassword: \"\",\n    showNewPassword: false,\n    confirmPassword: \"\",\n    showConfirmPassword: false,\n  });\n  const [resetPasswordMessageType, setResetPassordMessageType] = useState(\"\");\n  const [resetPasswordMessageTitle, setResetPasswordMessageTitle] =\n    useState(\"\");\n  const [resetPasswordMessageDescription, setResetPasswordMessageDescription] =\n    useState(\"\");\n\n  const handleClickShowNewPassword = () => {\n    setValues({\n      ...values,\n      showNewPassword: !values.showNewPassword,\n    });\n  };\n  const handleClickShowConfirmPassword = () => {\n    setValues({\n      ...values,\n      showConfirmPassword: !values.showConfirmPassword,\n    });\n  };\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n  const submitForm = async (data) => {\n    Logger.info(\"Reset password - submitForm handler\");\n    try {\n      const response = await axios.post(`${FORGOT_PASSWORD}${params.id}`, {\n        password: data.newPassword,\n        confirmPassword: data.confirmPassword,\n      });\n      if (response?.status == 201) {\n        setResetPassordMessageType(\"success\");\n        setResetPasswordMessageTitle(\"Success\");\n        setResetPasswordMessageDescription(\n          \"Your password has been successfully updated!\"\n        );\n        setTimeout(() => {\n          resetPasswordToasterRef.current();\n        }, 1000);\n        reset();\n      }\n    } catch (error) {\n      Logger.info(\"Reset Password - submitForm handler\");\n      if (\n        error?.response?.status == 400 &&\n        error?.response?.data?.message !== \"Invalid token\"\n      ) {\n        setResetPassordMessageType(\"error\");\n        setResetPasswordMessageTitle(\"Password Reset Failure\");\n        setResetPasswordMessageDescription(error?.response?.data?.message);\n        reset();\n        setTimeout(() => {\n          resetPasswordToasterRef.current();\n        }, 1000);\n      } else if (\n        error?.response?.status === 400 &&\n        error?.response?.data?.message === \"Invalid token\"\n      ) {\n        setShowInvalidTokenMessage(true);\n      }\n    }\n  };\n\n  return (\n    <div className=\"page-wrapper login-page-wrap\">\n      <Toaster\n        messageType={resetPasswordMessageType}\n        titleMessage={resetPasswordMessageTitle}\n        myRef={resetPasswordToasterRef}\n        descriptionMessage={resetPasswordMessageDescription}\n      />\n      <div className=\"login-section\">\n        <div className=\"container\">\n          <div className=\"login-wrapper\">\n            <div className=\"login-leftblk\">\n              <div className=\"login-slider\">\n                <Slider />\n              </div>\n            </div>\n            <div className=\"login-rightblk\">\n              <div className=\"login-blk\">\n                <div className=\"logo\">\n                  <img\n                    src={process.env.PUBLIC_URL + \"/images/logo.png\"}\n                    alt=\"\"\n                    className=\"img-fluid\"\n                  />\n                </div>\n                <h2\n                  className={`${\n                    showInvalidTokenMessage\n                      ? \"warning-message\"\n                      : \"heading1 text-uppercase\"\n                  }`}\n                >\n                  {showInvalidTokenMessage ? (\n                    <>\n                      <div>\n                        Oops! The link to reset password is expired or looks\n                        like you're trying using an invalid link.\n                      </div>\n                      <br />\n                      <p>\n                        If you don't remember your password, please click on\n                        \"Forgot Password\" button below to reset your password.\n                      </p>\n                    </>\n                  ) : (\n                    \"Reset Password\"\n                  )}\n                </h2>\n                <div className=\"login-form\">\n                  {showInvalidTokenMessage ? (\n                    <div className=\"form-btn flex-between\">\n                      <button\n                        type=\"submit\"\n                        className=\"primary-button\"\n                        onClick={() => navigate(\"/forget-password\")}\n                      >\n                        Forgot password\n                      </button>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleSubmit(submitForm)}>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"password\">\n                          New Password <span className=\"mandatory\">*</span>\n                        </label>\n                        <div className=\"password-field\">\n                          <ResetPasswordOutlinedInput\n                            fullWidth\n                            id=\"outlined-adornment-password\"\n                            type={values.showNewPassword ? \"text\" : \"password\"}\n                            // value={values.newPassword}\n                            // onChange={handleChange('newPassword')}\n                            placeholder=\"Enter new password\"\n                            className={`input-field ${\n                              errors.newPassword && \"input-error\"\n                            }`}\n                            inputProps={{\n                              maxLength: 15,\n                            }}\n                            endAdornment={\n                              <CustomInputAdornment\n                                show={values?.showNewPassword}\n                                onClickHandler={handleClickShowNewPassword}\n                                onMouseDown={handleMouseDownPassword}\n                              />\n                            }\n                            {...register(\"newPassword\")}\n                            onBlur={(e) =>\n                              setValue(\"newPassword\", e.target.value.trim())\n                            }\n                          />\n                          <p className={`password-error`}>\n                            {errors?.newPassword ? (\n                              errors.newPassword?.message\n                            ) : (\n                              <span>&nbsp;</span>\n                            )}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"password\">\n                          Confirm Password <span className=\"mandatory\">*</span>\n                        </label>\n                        <div className=\"password-field\">\n                          <ResetPasswordOutlinedInput\n                            fullWidth\n                            id=\"outlined-adornment-password\"\n                            type={\n                              values.showConfirmPassword ? \"text\" : \"password\"\n                            }\n                            placeholder=\"Enter confirm password\"\n                            className={`input-field ${\n                              errors.confirmPassword && \"input-error\"\n                            }`}\n                            inputProps={{\n                              maxLength: 15,\n                            }}\n                            endAdornment={\n                              <CustomInputAdornment\n                                show={values?.showConfirmPassword}\n                                onClickHandler={handleClickShowConfirmPassword}\n                                onMouseDown={handleMouseDownPassword}\n                              />\n                            }\n                            {...register(\"confirmPassword\")}\n                            onBlur={(e) =>\n                              setValue(\"confirmPassword\", e.target.value.trim())\n                            }\n                          />\n                          <p className={`password-error`}>\n                            {errors?.confirmPassword ? (\n                              errors.confirmPassword.message\n                            ) : (\n                              <span>&nbsp;</span>\n                            )}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"form-btn flex-between\">\n                        <button type=\"submit\" className=\"primary-button\">\n                          Reset\n                        </button>\n                        <div\n                          onClick={() => navigate(\"/login\")}\n                          className=\"tertiary-btn-blk mr-10\"\n                        >\n                          Back to login\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResetPassword;\n"],"names":["schema","yup","shape","newPassword","required","matches","confirmPassword","oneOf","ResetPassword","_errors$newPassword","useDocumentTitle","register","handleSubmit","setValue","formState","errors","reset","useForm","resolver","yupResolver","defaultValues","navigate","useNavigate","resetPasswordToasterRef","useRef","params","useParams","showInvalidTokenMessage","setShowInvalidTokenMessage","useState","useEffect","document","body","classList","add","controller","AbortController","async","Logger","info","response","axios","get","FORGOT_PASSWORD_VERIFY_TOKEN","id","signal","status","error","_error$response","_error$response$data","_error$response2","concat","data","message","verifyForgotToken","abort","remove","values","setValues","React","showNewPassword","showConfirmPassword","resetPasswordMessageType","setResetPassordMessageType","resetPasswordMessageTitle","setResetPasswordMessageTitle","resetPasswordMessageDescription","setResetPasswordMessageDescription","handleMouseDownPassword","event","preventDefault","_jsxs","className","children","_jsx","Toaster","messageType","titleMessage","myRef","descriptionMessage","Slider","src","alt","_Fragment","type","onClick","onSubmit","post","FORGOT_PASSWORD","password","setTimeout","current","_error$response3","_error$response4","_error$response4$data","_error$response6","_error$response7","_error$response7$data","_error$response5","_error$response5$data","htmlFor","ResetPasswordOutlinedInput","fullWidth","placeholder","inputProps","maxLength","endAdornment","CustomInputAdornment","show","onClickHandler","handleClickShowNewPassword","onMouseDown","onBlur","e","target","value","trim","handleClickShowConfirmPassword"],"sourceRoot":""}