"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[4499],{4917:function(e,s,r){r.d(s,{Y:function(){return t}});var n=window.location.search,a=new URLSearchParams(n).get("debug"),t={debug:function(e,s){"1"===a?console.log(e,s):console.log=function(){}},info:function(e,s){"?debug=1"===n||"?info=1"===n?console.info(e,s):console.info=function(){}},error:function(e){"?debug=1"===n||"?info=1"===n||"?error=1"===n?console.error(e):console.error=function(){}}}},3482:function(e,s,r){r.r(s);var n=r(1413),a=r(4165),t=r(5861),i=r(885),o=r(2791),l=r(4695),c=r(8588),d=r(6746),u=r(4569),m=r.n(u),g=r(1134),p=r(9434),f=r(7689),v=r(1724),h=r(4917),x=r(6218),w=r(4677),j=r(7659),b=r(6990),N=r(2010),y=r(2820),Z=r(1260),k=r(2866),M=r(184),C=v.Ry().shape({email:v.Z_().email("Invalid input").required("Enter the email address"),password:v.Z_().required("Enter the password")});s.default=function(e){var s;(0,Z.j)("Login");var r=(0,y.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),u=(0,i.Z)(r,2),v=u[0],E=u[1],P=(0,o.useRef)(),T=(0,p.I0)();h.Y.info(e);var I=(0,f.TH)();h.Y.debug("location",I),h.Y.debug("---------",e);var _=(0,f.s0)(),R=(0,g.cI)({resolver:(0,l.X)(C)}),S=R.register,Y=R.setValue,A=R.handleSubmit,D=R.formState.errors;(0,o.useEffect)((function(){document.body.classList.add("login-page");var e=new AbortController,s=function(){var s=(0,t.Z)((0,a.Z)().mark((function s(){var r,n,t,i;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,m().get(x.JA,{withCredentials:!0,signal:e.signal});case 3:r=s.sent,n=r.status,t=r.data,h.Y.debug("data from app fetcuser method app file",t),200==n&&_("/home"),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),401==(null===s.t0||void 0===s.t0||null===(i=s.t0.response)||void 0===i?void 0:i.status)&&h.Y.debug("Error from app file useEffect",s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(){return s.apply(this,arguments)}}();return s(),function(){document.body.classList.remove("login-page"),e.abort()}}),[]);var H=o.useState({password:"",showPassword:!1}),L=(0,i.Z)(H,2),B=L[0],F=L[1],q=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(s){var r,n,t,i,o,l,c,d,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.Y.debug(s),e.prev=1,e.next=4,w.u.post(x.ZE,s,{withCredentials:!0});case 4:201==(r=e.sent).status&&(h.Y.debug("DATA",null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.user),T((0,b.av)(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.user)),T((0,b.RR)(null===r||void 0===r||null===(i=r.data)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.role)),_("/home")),e.next=17;break;case 8:if(e.prev=8,e.t0=e.catch(1),h.Y.debug("error from submit login method",e.t0),401!=e.t0.response.status||"Unauthorized"!==e.t0.response.data.message){e.next=13;break}return e.abrupt("return",E({titleMessage:"Invalid Credentials",descriptionMessage:"Invalid email or password!",messageType:"error"},(function(){return P.current()})));case 13:if(401!=e.t0.response.status||"Access denied. Kindly contact system admin."!==e.t0.response.data.message){e.next=15;break}return e.abrupt("return",E({titleMessage:"Invalid Credentials",descriptionMessage:null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message,messageType:"error"},(function(){return P.current()})));case 15:if(400!=e.t0.response.status){e.next=17;break}return e.abrupt("return",E({titleMessage:"Session Active",descriptionMessage:null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message,messageType:"error"},(function(){return P.current()})));case 17:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(s){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{className:"page-wrapper login-page-wrap",children:[(0,M.jsx)(j.Z,{myRef:P,titleMessage:v.titleMessage,descriptionMessage:v.descriptionMessage,messageType:v.messageType}),(0,M.jsx)("div",{className:"login-section",children:(0,M.jsx)("div",{className:"container",children:(0,M.jsxs)("div",{className:"login-wrapper",children:[(0,M.jsx)("div",{className:"login-leftblk",children:(0,M.jsx)("div",{className:"login-slider",children:(0,M.jsx)(k.Z,{})})}),(0,M.jsx)("div",{className:"login-rightblk",children:(0,M.jsxs)("div",{className:"login-blk",children:[(0,M.jsx)("div",{className:"logo",children:(0,M.jsx)("img",{src:"/images/logo.png",alt:"",className:"img-fluid"})}),(0,M.jsx)("h2",{className:"heading1 text-uppercase",children:"Log in"}),(0,M.jsx)("div",{className:"login-form",children:(0,M.jsxs)("form",{onSubmit:A(q),children:[(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"emailid",children:["Email ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(c.Z,(0,n.Z)((0,n.Z)({className:"input-field ".concat(D.email&&"input-error"),id:"outlined-basic",placeholder:"example@domain.com",variant:"outlined"},S("email")),{},{onBlur:function(e){return Y("email",e.target.value.trim())},helperText:D.email?D.email.message:" "}))]}),(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"password",children:["Password ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsxs)("div",{className:"password-field",children:[(0,M.jsx)(d.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,id:"outlined-adornment-password",type:B.showPassword?"text":"password",placeholder:"Enter password",className:"input-field ".concat(D.password&&"input-error"),endAdornment:(0,M.jsx)(N.Z,{show:null===B||void 0===B?void 0:B.showPassword,onClickHandler:function(){F((0,n.Z)((0,n.Z)({},B),{},{showPassword:!B.showPassword}))},mouseDownHandler:function(e){e.preventDefault()}})},S("password")),{},{onBlur:function(e){return Y("password",e.target.value.trim())}})),(0,M.jsx)("p",{className:"password-error",children:null!==D&&void 0!==D&&D.password?null===(s=D.password)||void 0===s?void 0:s.message:(0,M.jsx)("span",{children:"\xa0"})})]})]}),(0,M.jsxs)("div",{className:"form-btn flex-between",children:[(0,M.jsx)("button",{type:"submit",className:"primary-button",children:"Log In"}),(0,M.jsx)("div",{className:"tertiary-btn-blk",onClick:function(){_("/forget-password")},children:"Forgot Password?"})]})]})})]})})]})})})]})}},2866:function(e,s,r){r(2791);var n=r(9120),a=r.n(n),t=(r(191),r(3835),r(184));s.Z=function(){return(0,t.jsxs)(a(),{className:"owl-theme",items:"1",dots:!0,loop:!0,autoplay:!0,children:[(0,t.jsx)("div",{className:"item",children:(0,t.jsx)("div",{className:"login-slide-img",children:(0,t.jsx)("img",{rel:!0,fetchPriority:"high",src:"/images/login-slide1.png",alt:"",className:"img-fluid"})})}),(0,t.jsx)("div",{className:"item",children:(0,t.jsx)("div",{className:"login-slide-img",children:(0,t.jsx)("img",{fetchPriority:"low",src:"/images/login-slide2.png",alt:"",className:"img-fluid"})})}),(0,t.jsx)("div",{className:"item",children:(0,t.jsx)("div",{className:"login-slide-img",children:(0,t.jsx)("img",{src:"/images/login-slide3.png",alt:"",className:"img-fluid"})})})]})}},7659:function(e,s,r){r.d(s,{Z:function(){return l}});var n=r(2131),a=r(5130),t=r(2791),i=r(5985),o=(r(5462),r(184));var l=function(e){e.titleMessage;var s=e.descriptionMessage,r=e.messageType,l=e.myRef,c=(e.key,function(){(0,i.Am)(d,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),d=function(){return(0,o.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===r&&"toaster-blk-success"),children:[(0,o.jsx)("div",{className:"toaster-left ".concat("success"===r&&"toaster-left-success"),children:(0,o.jsxs)("div",{className:"toaster-icon",children:["success"===r&&(0,o.jsx)(n.Z,{}),"error"===r&&(0,o.jsx)(a.Z,{})]})}),(0,o.jsx)("div",{className:"toaster-right",children:(0,o.jsx)("p",{children:s})})]})};return(0,t.useEffect)((function(){l.current=c}),[c,l]),(0,o.jsxs)("div",{className:"toaster-sect",children:[(0,o.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,o.jsx)(i.Ix,{className:"toaster-wrap ".concat("success"===r&&"toaster-wrap-success"," ")})]})}},2010:function(e,s,r){var n=r(8254),a=r(3811),t=(r(2791),r(184));s.Z=function(e){var s=e.show,r=e.onClickHandler,i=e.mouseDownHandler;return(0,t.jsx)(n.Z,{position:"end",children:(0,t.jsx)(a.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:i,edge:"end",className:"eye-btn",children:s?(0,t.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,t.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},2820:function(e,s,r){var n=r(885),a=r(2791);s.Z=function(e){var s=(0,a.useState)(e),r=(0,n.Z)(s,2),t=r[0],i=r[1],o=(0,a.useRef)([]);(0,a.useEffect)((function(){o.current.forEach((function(e){return e(t)})),o.current=[]}),[t]);return[t,function(e,s){i(e),s&&"function"===typeof s&&o.current.push(s)}]}},1260:function(e,s,r){r.d(s,{j:function(){return a}});var n=r(2791),a=function(e){return(0,n.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}}}]);
//# sourceMappingURL=4499.f9c605f7.chunk.js.map