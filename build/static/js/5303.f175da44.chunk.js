"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5303],{9710:function(e,n,i){i.r(n),i.d(n,{default:function(){return ae}});var t=i(2982),s=i(4165),l=i(1413),o=i(5861),r=i(885),a=i(2791),u=i(8588),d=i(1898),c=i(1346),v=i(9407),m=i(7924),p=i(6015),h=i(4293),x=i(5814),f=i(166),b=i(7194),g=i(2104),j=i(4677),Z=i(6218),N=i(7689),q=i(1300),y=i(4261),T=i(5473),k=i(6321),w=i(4871),C=i(4162),E=i(4565),S=i(4917),M=i(9823),V=i(277),Y=i(1573),P=(0,V.ZP)(Y.Z)((function(e){var n=e.theme;return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===n.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:n.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"dark"===n.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}})),Q=i(184),_=function(e){var n=e.question,i=e.questionIdx,s=e.questionnaire,o=e.setQuestionnaire,r=e.sectionIndex,p=e.questionsLength,h=e.err,f=(e.setErr,{uuid:(0,y.Z)(),questionTitle:"",srNo:1,inputType:"singleTextbox",validation:"",isRequired:!0,options:["",""]}),b=[{_id:"checkbox",name:"Checkbox"},{_id:"date",name:"Date"},{_id:"dropdown",name:"Drop down"},{_id:"radioGroup",name:"Radio group"},{_id:"singleTextbox",name:"Single text box"},{_id:"textarea",name:"Text area"}],j=[{_id:"alphabets",name:"Alphabets"},{_id:"alphanumeric",name:"Alphanumeric"},{_id:"numeric",name:"Numeric"}],Z={PaperProps:{style:{maxHeight:168}}},N=function(e,n){var i=e.target,t=i.name,a=i.value,u=(0,l.Z)({},s);u.sections[r].questions[n][t]=a,o(u)};(0,a.useEffect)((function(){return function(){}}),[h]);var q=function(e){var n=e.children;return(0,Q.jsx)("div",{className:"select-placeholder",children:n})},V=function(e){var n=s.sections[r].questions.filter((function(n){return n.questionTitle===e}));return n.length>1&&(S.Y.debug("Same question title appeared twice."),!0)};return(0,Q.jsx)("div",{className:"que-card-blk ".concat(i+1===p&&"active"),children:(0,Q.jsxs)("div",{className:"que-form-blk",children:[(0,Q.jsxs)("div",{className:"que-card-innerblk flex-between",children:[(0,Q.jsx)("div",{className:"que-card-form-leftfield",children:(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"questionTitle",children:["Question ","".concat(i+1)," Title"," ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)(u.Z,{className:"input-field ".concat(null!==n&&void 0!==n&&n.questionTitle||!(null===h||void 0===h?void 0:h.questionTitle)?V(null===n||void 0===n?void 0:n.questionTitle)&&(null===h||void 0===h?void 0:h.questionTitle)&&"input-error":"input-error"," "),placeholder:"Enter question title",name:"questionTitle",value:null===n||void 0===n?void 0:n.questionTitle,helperText:null!==n&&void 0!==n&&n.questionTitle||null===h||void 0===h||!h.questionTitle?V(null===n||void 0===n?void 0:n.questionTitle)&&null!==h&&void 0!==h&&h.questionTitle?"Question title already in use.":" ":"Enter the question title",onChange:function(e){return N(e,i)},onBlur:function(e){return function(e,n){var i=e.target,t=i.name,a=i.value,u=(0,l.Z)({},s);u.sections[r].questions[n][t]=null===a||void 0===a?void 0:a.trim(),o(u)}(e,i)}})]})}),(0,Q.jsxs)("div",{className:"que-card-form-rightfield flex-between",children:[(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"inputField",children:["Input Type ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsxs)(d.Z,{className:"fullwidth-field",children:[(0,Q.jsx)("div",{className:"select-field",children:(0,Q.jsx)(c.Z,{MenuProps:Z,placeholder:"Select Input type",IconComponent:function(e){return(0,Q.jsx)(g.Z,(0,l.Z)({},e))},name:"inputType",value:null===n||void 0===n?void 0:n.inputType,onChange:function(e){return function(e,n){var i=e.target,t=i.name,a=i.value,u=(0,l.Z)({},s);u.sections[r].questions[n][t]=a,u.sections[r].questions[n].validation="",o(u)}(e,i)},children:b&&b.map((function(e){return(0,Q.jsx)(v.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))})}),(0,Q.jsx)(m.Z,{children:" "})]})]}),(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsx)("label",{htmlFor:"inputField",children:"Validation"}),(0,Q.jsx)(d.Z,{className:"fullwidth-field",children:(0,Q.jsx)("div",{className:"select-field",children:(0,Q.jsx)(c.Z,{disabled:"singleTextbox"!==n.inputType&&"textarea"!==n.inputType,renderValue:""!==(null===n||void 0===n?void 0:n.validation)?void 0:function(){return(0,Q.jsx)(q,{children:"Select validation"})},placeholder:"Select Input validation",displayEmpty:!0,IconComponent:function(e){return(0,Q.jsx)(g.Z,(0,l.Z)({},e))},name:"validation",value:null===n||void 0===n?void 0:n.validation,onChange:function(e){return N(e,i)},children:j&&j.map((function(e){return(0,Q.jsx)(v.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))})})})]})]})]}),["dropdown","checkbox","radioGroup"].includes(null===n||void 0===n?void 0:n.inputType)&&n.options.map((function(e,t){var a;return(0,Q.jsx)("div",{className:"que-card-innerblk",children:(0,Q.jsxs)("div",{className:"que-card-input-type-wrapper",children:[(0,Q.jsx)("div",{className:"que-card-form-leftfield",children:(0,Q.jsx)("div",{className:"que-checkbox-sect",children:(0,Q.jsxs)("div",{className:"que-checkbox-wrap",children:[(0,Q.jsx)("div",{className:"que-checkbox-blk ".concat(("dropdown"===(null===n||void 0===n?void 0:n.inputType)?"que-dropdown-blk":"checkbox"===(null===n||void 0===n?void 0:n.inputType)&&"que-checkbox-option")||"radioGroup"===(null===n||void 0===n?void 0:n.inputType)&&"que-radio-option"),children:(0,Q.jsx)(u.Z,{name:"options",value:e,onChange:function(e){return function(e,n,i){var t=(0,l.Z)({},s);t.sections[r].questions[n].options[i]=e.target.value,o(t)}(e,i,t)},onBlur:function(e){return function(e,n,i){var t,a=(0,l.Z)({},s);a.sections[r].questions[n].options[i]=null===(t=e.target.value)||void 0===t?void 0:t.trim(),o(a)}(e,i,t)},className:2!==(null===n||void 0===n?void 0:n.options.length)?"input-field que-input-type adddropdown ".concat((null===h||void 0===h?void 0:h.option)&&!e&&"input-error"):"input-field que-input-type ".concat((null===h||void 0===h?void 0:h.option)&&!e&&"input-error"),helperText:null!==h&&void 0!==h&&h.option&&!e?"Enter the option value":" ",id:"outlined-basic",placeholder:"Enter option value",variant:"outlined"})}),"checkbox"===(null===n||void 0===n?void 0:n.inputType)&&(0,Q.jsx)(T.Z,{className:"que-checkbox",checked:!1}),"radioGroup"===(null===n||void 0===n?void 0:n.inputType)&&(0,Q.jsx)(k.Z,{className:"radio-btn que-radio-btn",color:"primary",checked:!1}),2!==(null===n||void 0===n?void 0:n.options.length)&&(0,Q.jsx)("div",{className:"que-input-type-close",onClick:function(e){return function(e,n,i){var t,a,u,d=(0,l.Z)({},s);null===d||void 0===d||null===(t=d.sections[r])||void 0===t||null===(a=t.questions[n])||void 0===a||null===(u=a.options)||void 0===u||u.splice(i,1),o(d)}(0,i,t)},children:(0,Q.jsx)(M.Z,{})})]})})}),(0,Q.jsx)("div",{className:"que-card-form-rightfield add-option-blk",children:t+1===(null===n||void 0===n||null===(a=n.options)||void 0===a?void 0:a.length)&&(0,Q.jsxs)("div",{className:"tertiary-btn-blk",onClick:function(){return function(e){var n=(0,l.Z)({},s);n.sections[r].questions[e].options.push(""),o(n)}(i)},children:[(0,Q.jsx)("span",{className:"addmore-icon",children:(0,Q.jsx)("i",{className:"fa fa-plus"})}),(0,Q.jsx)("span",{className:"addmore-txt",children:"Add Option..."})]})})]})},t)})),(0,Q.jsx)("div",{className:"que-card-icon-sect",children:(0,Q.jsxs)("div",{className:"que-card-icon-blk",children:[i===p-1&&(0,Q.jsx)("div",{className:"que-card-icon add-que-iconblk mr-40",children:(0,Q.jsx)(x.Z,{title:"Add Question",children:(0,Q.jsx)("img",{onClick:function(){var e=(0,l.Z)({},s);e.sections[r].questions.push((0,l.Z)({},f)),o(e)},src:"/images/add-question-icon.svg",alt:""})})}),1!==p&&(0,Q.jsx)("div",{className:"que-card-icon delete-iconblk mr-40",children:(0,Q.jsx)(x.Z,{title:"Delete Question",children:(0,Q.jsx)("img",{onClick:function(){return function(e,n){var i,a=(0,l.Z)({},s),u=null===a||void 0===a||null===(i=a.sections[r])||void 0===i?void 0:i.questions.filter((function(n){return n.uuid!==e}));a.sections[r].questions=(0,t.Z)(u),o(a)}(null===n||void 0===n?void 0:n.uuid)},src:"/images/delete-icon.svg",alt:""})})}),(0,Q.jsx)("div",{className:"required-toggle-btnblk",children:(0,Q.jsx)(w.Z,{children:(0,Q.jsxs)(C.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,Q.jsx)(E.Z,{children:"Required"}),(0,Q.jsx)(P,{checked:n.isRequired,onChange:function(e){return function(e,n,i){var t=(0,l.Z)({},s);t.sections[n].questions[i].isRequired=e.target.checked,o(t)}(e,r,i)},inputProps:{"aria-label":"controlled"}})]})})})]})})]})},null===n||void 0===n?void 0:n.uuid)},I=((0,y.Z)(),(0,y.Z)(),(0,y.Z)(),function(e){var n,i,t=e.sectionIndex,s=e.questionnaire,l=e.setQuestionnaire,o=e.err,r=e.setErr,a=e.questionTitleList,u=e.setQuestionTitleList;return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)("div",{className:"que-form-card-wrapper",children:[(0,Q.jsx)("div",{className:"drag-drop-box"}),s&&(null===s||void 0===s||null===(n=s.sections[t])||void 0===n||null===(i=n.questions)||void 0===i?void 0:i.map((function(e,n){var i,d;return(0,Q.jsx)(_,{question:e,questionsLength:null===s||void 0===s||null===(i=s.sections[t])||void 0===i||null===(d=i.questions)||void 0===d?void 0:d.length,questionIdx:n,questionnaire:s,setQuestionnaire:l,sectionIndex:t,err:o,setErr:r,questionTitleList:a,setQuestionTitleList:u},null===e||void 0===e?void 0:e.uuid)})))]})})}),A=i(2820),D=i(3989),R=i(9444),B=i(5112),L=i(7962),F=i(9434),O=i(6990),H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},G=function(e){e.openModal;var n,i,s,o=e.setOpenModal,d=e.questionnaire,c=e.setQuestionnaire,v=e.sectionIndex,m=e.columnId,h=(e.tableErr,e.setTableErr,(0,F.I0)()),x=(0,a.useState)(""),f=(0,r.Z)(x,2),b=f[0],g=f[1],j=function(){var e,n=(0,l.Z)({},d);null===(e=n.sections[v].columnValues[m].options)||void 0===e||e.push(""),c(n)},Z=(0,F.v9)((function(e){return e.user.questionnaire})),N=function(){S.Y.debug("old Questionnaire:- ",Z);var e=(0,l.Z)({},d);""===Z[0]&&""===Z[1]&&2===(null===Z||void 0===Z?void 0:Z.length)?(e.sections[v].columnValues[m].options=["",""],e.sections[v].columnValues[m].columnType="textbox"):e.sections[v].columnValues[m].options=(0,t.Z)(Z),c(e),o(!1)};return(0,a.useEffect)((function(){h((0,O.p7)(d.sections[v].columnValues[m].options))}),[]),(0,Q.jsx)(R.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:!0,closeAfterTransition:!0,BackdropComponent:B.Z,BackdropProps:{timeout:500},className:"popup-blk",style:{overflow:"scroll"},children:(0,Q.jsx)(L.Z,{in:!0,children:(0,Q.jsx)(p.Z,{sx:H,className:"popup-box",children:(0,Q.jsxs)("div",{className:"popup-innerblk",children:[(0,Q.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(0,Q.jsx)("h2",{className:"popup-ttl heading2",children:"Create Custom List Dropdown"}),(0,Q.jsx)("span",{className:"popup-close-icon",onClick:N,children:(0,Q.jsx)(M.Z,{})})]}),(0,Q.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,Q.jsxs)("div",{className:"popup-content-blk",children:[(0,Q.jsxs)("div",{className:"custom-list-sect",children:[null===d||void 0===d||null===(n=d.sections[v])||void 0===n||null===(i=n.columnValues[m])||void 0===i||null===(s=i.options)||void 0===s?void 0:s.map((function(e,n){var i,t,s,o,r,a;return(0,Q.jsx)("div",{className:"form-group",children:(0,Q.jsxs)("div",{className:"que-checkbox-wrap",children:[(0,Q.jsx)("div",{className:"que-checkbox-blk que-dropdown-blk",children:(0,Q.jsx)(u.Z,{className:(null===d||void 0===d||null===(i=d.sections[v])||void 0===i||null===(t=i.columnValues[m])||void 0===t||null===(s=t.options)||void 0===s?void 0:s.length)>2?"input-field que-input-type adddropdown ".concat(b&&!e&&"input-error"):"input-field que-input-type ".concat(b&&!e&&"input-error"),value:e,onChange:function(e){return function(e,n){var i=e.target.value,t=(0,l.Z)({},d);t.sections[v].columnValues[m].options[n]=i,c(t)}(e,n)},onBlur:function(e){return function(e,n){var i=e.target.value,t=(0,l.Z)({},d);t.sections[v].columnValues[m].options[n]=null===i||void 0===i?void 0:i.trim(),c(t)}(e,n)},id:"outlined-basic",helperText:b&&!e?"Enter the option":" ",placeholder:"Enter option value",variant:"outlined"})}),(null===d||void 0===d||null===(o=d.sections[v])||void 0===o||null===(r=o.columnValues[m])||void 0===r||null===(a=r.options)||void 0===a?void 0:a.length)>2&&(0,Q.jsx)("div",{className:"que-input-type-close",onClick:function(){return function(e){var n,i,t,s=(0,l.Z)({},d);null===s||void 0===s||null===(n=s.sections[v])||void 0===n||null===(i=n.columnValues[m])||void 0===i||null===(t=i.options)||void 0===t||t.splice(e,1),c(s)}(n)},children:(0,Q.jsx)(M.Z,{})})]})},n)})),(0,Q.jsxs)("div",{className:"add-dropdown-btnblk mb-30",children:[(0,Q.jsx)("span",{className:"addmore-icon",children:(0,Q.jsx)("i",{onClick:j,className:"fa fa-plus"})})," ",(0,Q.jsx)("span",{onClick:j,children:"Add Dropdown"})]})]}),(0,Q.jsxs)("div",{className:"form-btn flex-center text-center",children:[(0,Q.jsx)("button",{className:"secondary-button mr-10",onClick:N,children:"Cancel"}),(0,Q.jsx)("button",{type:"submit",className:"primary-button",onClick:function(){var e,n=(0,l.Z)({},d),i=!1;null===(e=n.sections[v].columnValues[m].options)||void 0===e||e.forEach((function(e){e||(i=!0,g("Option required"))})),!i&&o(!1)},children:"Save"})]})]})})]})})})})},U=i(3557),W=i(4405),z=(i(8890),{PaperProps:{style:{maxHeight:168}}}),X=[{_id:"attachments",name:"Attachments"},{_id:"date",name:"Date"},{_id:"dropdown",name:"Drop down"},{_id:"prefilled",name:"Prefilled"},{_id:"textbox",name:"Text box"}],K=[{_id:"alphabets",name:"Alphabets"},{_id:"alphanumeric",name:"Alphanumeric"},{_id:"numeric",name:"Numeric"}],J=function(e){var n,i,t=e.sectionIndex,s=e.questionnaire,o=e.setQuestionnaire,p=e.tableErr,h=e.setTableErr,f=(0,a.useState)(!1),b=(0,r.Z)(f,2),j=b[0],Z=b[1],N=(0,a.useState)(-1),q=(0,r.Z)(N,2),T=q[0],k=q[1],C=function(e,n){var i=e.target,r=i.name,a=i.value,u=(0,l.Z)({},s);u.sections[t].columnValues[n][r]=a,o(u)},M=function(e){Z(!0),k(e)};(0,a.useEffect)((function(){}),[s]);var V=function(e){var n=e.children;return(0,Q.jsx)("div",{className:"select-placeholder",children:n})},Y=function(e){return s.sections[t].columnValues.filter((function(n){return n.title===e})).length>1&&(S.Y.debug("Same title appeared twice."),!0)};return(0,Q.jsxs)("div",{className:"que-column-layout-sect",children:[s&&(null===s||void 0===s||null===(n=s.sections[t])||void 0===n||null===(i=n.columnValues)||void 0===i?void 0:i.map((function(e,n){var i,r;return(0,Q.jsx)("div",{className:"que-column-layout-wrap",children:(0,Q.jsx)("div",{className:"que-column-layout-blk",children:(0,Q.jsxs)("div",{className:"que-card-innerblk",children:[(0,Q.jsxs)("div",{className:"que-col-form-leftfield flex-between",children:[(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"emailid",children:["Column ",n+1," Title"," ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)(u.Z,{className:"input-field ".concat(null!==e&&void 0!==e&&e.title||!p?Y(null===e||void 0===e?void 0:e.title)&&p&&"input-error":"input-error"),id:"outlined-basic",variant:"outlined",name:"title",helperText:null!==e&&void 0!==e&&e.title||!p?Y(null===e||void 0===e?void 0:e.title)&&p?"Column title already in use.":" ":"Enter the column title",value:null===e||void 0===e?void 0:e.title,onChange:function(e){return C(e,n)},onBlur:function(e){return function(e,n){var i=e.target,r=i.name,a=i.value,u=(0,l.Z)({},s);u.sections[t].columnValues[n][r]=null===a||void 0===a?void 0:a.trim(),o(u)}(e,n)},placeholder:"Enter column title"})]}),(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"emailid",children:["Input Type"," ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsxs)("div",{className:"select-field",children:[(0,Q.jsxs)(d.Z,{className:"fullwidth-field",children:[(0,Q.jsx)(c.Z,{IconComponent:function(e){return(0,Q.jsx)(g.Z,(0,l.Z)({},e))},displayEmpty:!0,placeholder:"Select input type",name:"columnType",value:null===e||void 0===e?void 0:e.columnType,onChange:function(e){return function(e,n){var i=e.target,r=i.name,a=i.value,u=(0,l.Z)({},s);u.sections[t].columnValues[n][r]=a,u.sections[t].columnValues[n].validation="",u.sections[t].columnValues[n].options=[],"dropdown"===a&&(u.sections[t].columnValues[n].options=["",""],k(n),Z(!0)),o(u)}(e,n)},className:"select-dropdown",MenuProps:z,children:X&&X.map((function(e){return(0,Q.jsx)(v.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))}),(0,Q.jsx)(m.Z,{children:" "})]}),j&&T===n&&(0,Q.jsx)(G,{openModal:j,setOpenModal:Z,questionnaire:s,setQuestionnaire:o,sectionIndex:t,columnId:n,tableErr:p,setTableErr:h})]})]}),(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsx)("label",{htmlFor:"emailid",children:"Validation"}),(0,Q.jsx)("div",{className:"select-field",children:(0,Q.jsxs)(d.Z,{className:"fullwidth-field",children:[(0,Q.jsx)(c.Z,{disabled:"textbox"!==(null===e||void 0===e?void 0:e.columnType),IconComponent:function(e){return(0,Q.jsx)(g.Z,(0,l.Z)({},e))},renderValue:""!==(null===e||void 0===e?void 0:e.validation)?void 0:function(){return(0,Q.jsx)(V,{children:"Select validator"})},displayEmpty:!0,name:"validation",value:null===e||void 0===e?void 0:e.validation,onChange:function(e){return C(e,n)},className:"select-dropdown",MenuProps:z,children:K&&K.map((function(e){return(0,Q.jsx)(v.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))}),(0,Q.jsx)(m.Z,{children:" "})]})}),"dropdown"===(null===e||void 0===e?void 0:e.columnType)&&(0,Q.jsxs)("div",{className:"add-dropdown-btnblk edit-dropdown-btn",children:[(0,Q.jsx)("span",{className:"addmore-icon",onClick:function(){return M(n)},children:(0,Q.jsx)(U.Z,{})})," ",(0,Q.jsx)("span",{onClick:function(){return M(n)},children:"Edit Dropdown"})]})]}),(null===s||void 0===s||null===(i=s.sections[t])||void 0===i||null===(r=i.columnValues)||void 0===r?void 0:r.length)>1&&(0,Q.jsx)("div",{className:"que-col-delete delete-iconblk",children:(0,Q.jsx)(x.Z,{title:"Delete column",placement:"bottom",children:(0,Q.jsx)("img",{style:{cursor:"pointer"},onClick:function(e){return function(e,n){var i,r,a,u=(0,l.Z)({},s);null===u||void 0===u||null===(i=u.sections[t].rowValues)||void 0===i||i.forEach((function(e,i){var s,l,o;return null===u||void 0===u||null===(s=u.sections[t])||void 0===s||null===(l=s.rowValues[i])||void 0===l||null===(o=l.cells)||void 0===o?void 0:o.splice(n,1)})),null===u||void 0===u||null===(r=u.sections[t])||void 0===r||null===(a=r.columnValues)||void 0===a||a.splice(n,1),o(u)}(0,n)},src:"/images/delete-icon.svg",alt:""})})})]}),(0,Q.jsx)("div",{className:"que-card-icon-sect",children:(0,Q.jsx)("div",{className:"required-toggle-btnblk",children:(0,Q.jsx)(w.Z,{children:(0,Q.jsxs)(W.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,Q.jsx)(E.Z,{children:"Required"}),(0,Q.jsx)(P,{checked:null===e||void 0===e?void 0:e.isRequired,onChange:function(e){return function(e,n){var i=(0,l.Z)({},s);S.Y.debug("temp Questionnaire before :- ",i),i.sections[t].columnValues[n].isRequired=e.target.checked,S.Y.debug("temp Questionnaire after:- ",i),o(i)}(e,n)},inputProps:{"aria-label":"controlled"}})]})})})})]})})},null===e||void 0===e?void 0:e.uuid)}))),(0,Q.jsxs)("div",{className:"add-row-btnblk add-col-btn",onClick:function(){var e,n,i,r=(0,l.Z)({},s),a=(0,y.Z)();null===r||void 0===r||null===(e=r.sections[t])||void 0===e||null===(n=e.columnValues)||void 0===n||n.push({uuid:a,title:"",columnType:"textbox",isRequired:!0,options:[],validation:""}),null===(i=r.sections[t].rowValues)||void 0===i||i.forEach((function(e,n){var i;null===e||void 0===e||null===(i=e.cells)||void 0===i||i.push({columnId:a,value:""})})),o(r)},children:[(0,Q.jsx)("span",{className:"addmore-icon",children:(0,Q.jsx)("i",{className:"fa fa-plus"})})," ","Add Column"]}),(0,Q.jsx)(D.Z,{isPreview:!1,questionnaire:s,setQuestionnaire:o,sectionIndex:t,tableErr:p,setTableErr:h})]})},$=i(7659),ee=function(e){e.value;var n=e.questionnaire,i=e.setQuestionnaire,p=e.uuid,h=e.setValue,f=e.index,b=e.section,T=(e.id,e.globalSectionTitleError),k=e.setGlobalSectionTitleError,w=e.setSameSectionsNames,C=e.sameSectionsNames,E=e.err,M=e.setErr,V=e.tableErr,Y=e.setTableErr,P=e.questionTitleList,_=e.setQuestionTitleList,D=(0,N.s0)(),R={PaperProps:{style:{maxHeight:168}}},B=a.useRef(),L=(0,A.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),F=(0,r.Z)(L,2),O=F[0],H=F[1],G=function(e){var n,i;H({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.message&&"string"===typeof e.response.data.message?e.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return B.current()}))},U=(0,a.useState)(!1),W=(0,r.Z)(U,2),z=W[0],X=W[1],K=function(e){var t=(0,l.Z)({},n),s=t.sections.filter((function(n){return n.uuid!==e}));i((0,l.Z)((0,l.Z)({},t),{},{sections:s})),h(0),ue(!1)},ee=function(e,i){S.Y.debug("inside table question validator");var t=null===n||void 0===n?void 0:n.sections.filter((function(e){return"table"===e.layout})),s=t.map((function(e){return{section:e.sectionTitle,columnTitles:e.columnValues.map((function(e){return e.title}))}}));S.Y.debug("sameColumnTitleNamesInFilteredTableSections = ",s);for(var l=function(t){var l=n.sections[t];if(S.Y.debug("section object = ",l),"table"===l.layout)for(var o=function(o){var r,a,u=l.columnValues[o].title,d=l.columnValues[o].columnType;(""===u&&(Y("Error hai"),S.Y.debug("title not present in section = ",t),i.push(t),e++),"prefilled"===d)&&(S.Y.debug("inside prefiled"),null===n||void 0===n||null===(r=n.sections[t])||void 0===r||null===(a=r.rowValues)||void 0===a||a.forEach((function(n,s){var l;null!==n&&void 0!==n&&null!==(l=n.cells[o])&&void 0!==l&&l.value||(Y("Error hai"),i.push(t),e++)})));for(var c=0;c<s.length;c++)for(var v=0,m=s[c],p=0;p<m.columnTitles.length;p++){var h=m.columnTitles[p],x=n.sections.map((function(e,n){return e.sectionTitle})).indexOf(m.section);if(u===h&&v++,v>1){e++,S.Y.debug("Same name 1 se zyaada hai",u),S.Y.debug("in section = ",x),Y("Same name hai"),i.push(x);break}}},r=0;r<l.columnValues.length;r++)o(r)},o=0;o<n.sections.length;o++)l(o);return S.Y.debug("count Error in table validator: ",e),e},ne=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var i,o,r,a,u,d,c,v,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,o=null===n||void 0===n?void 0:n.sections.map((function(e){return e.sectionTitle})),r=[],w((0,t.Z)(o)),a=0;case 5:if(!(a<(null===n||void 0===n?void 0:n.sections.length))){e.next=25;break}for(u=0,d=0;d<o.length;d++)c=o[d],n.sections[a].sectionTitle===c&&(u++,S.Y.debug("sameNameCount for section =",u));if(!(u>1)){e.next=15;break}r.push(a),S.Y.debug("same name counter exceeds more than once",u),i++,k({errMsg:"Section name already in use"}),e.next=22;break;case 15:if("table"!=n.sections[a].layout){e.next=21;break}return e.next=18,ee(i,r);case 18:i=e.sent,e.next=22;break;case 21:"form"==n.sections[a].layout&&function(){S.Y.debug("count Error",i);for(var e={questionTitle:"",option:""},t=function(t){var s,o,a=t;S.Y.debug("index -",a);var u=n.sections[a].questions.map((function(e){return e.questionTitle}));S.Y.debug("questionsOfListEachSection = ",u),null===n||void 0===n||null===(s=n.sections[a])||void 0===s||null===(o=s.questions)||void 0===o||o.map((function(n,s){""===(null===n||void 0===n?void 0:n.questionTitle)&&(S.Y.debug("question title is empty in section",a),e.questionTitle="Enter question title",i++,r.push(t));var l,o=u.filter((function(e){return e===(null===n||void 0===n?void 0:n.questionTitle)}));(S.Y.debug("filterd question titles = ",o),o.length>1&&(S.Y.debug("Question title already in use = ",n.questionTitle),e.questionTitle="Question title already in use.",i++,r.push(t)),["dropdown","checkbox","radioGroup"].includes(null===n||void 0===n?void 0:n.inputType))&&(null===n||void 0===n||null===(l=n.options)||void 0===l||l.map((function(n){""===n&&(e.option="Enter option",i++,r.push(t))})))})),M((0,l.Z)({},e))},s=0;s<(null===n||void 0===n?void 0:n.sections.length);s++)t(s)}();case 22:a++,e.next=5;break;case 25:for(""!==(null===n||void 0===n?void 0:n.title)&&""!==(null===n||void 0===n?void 0:n.sheetName)||(k({errMsg:"Section title required"}),i++),v=0;v<n.sections.length;v++)""===n.sections[v].sectionTitle&&(k((0,l.Z)((0,l.Z)({},T),{},{sectionTitleEmpty:"Section title required"})),r.push(v),S.Y.debug("tab sections if section title is empty == ",r),i++);if(r.length>0&&(m=[].concat(r),S.Y.debug("disticet tab index = ",m),h(m[0])),S.Y.debug("tab which has errors =",r),0!==i){e.next=33;break}return S.Y.debug("count error is 0"),X(!0),e.abrupt("return",!0);case 33:return e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();S.Y.debug("same name array = ",C);var ie=function(e){var n=(0,t.Z)(C).filter((function(n){return n===e}));return S.Y.debug("filtered same name object = ",n),n.length>1&&(S.Y.debug("filteredSameName = ",n),!0)},te=function(e){var t=e.target,s=t.name,o=t.value,r=(0,l.Z)({},n);r.sections[f][s]=o,i(r)},se=function(e){var t=e.target,s=t.name,o=t.value,r=(0,l.Z)({},n);r.sections[f][s]=null===o||void 0===o?void 0:o.trim(),i(r)},le=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===n||void 0===n||n.preventDefault(),e.next=3,ne();case 3:if(!e.sent){e.next=8;break}return e.next=7,pe(void 0,i);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),oe=((0,N.UO)(),(0,a.useState)(!1)),re=(0,r.Z)(oe,2),ae=re[0],ue=re[1],de=(0,a.useState)(!1),ce=(0,r.Z)(de,2),ve=ce[0],me=ce[1],pe=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,r){var a,u,d,c,v,m,p,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.H.post(Z.ZW,t||n);case 3:return 201===(a=e.sent).status&&(u=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.H.get("".concat(Z.ZW,"/").concat(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.uuid));case 3:return t=e.sent,i((0,l.Z)({},t.data)),setTimeout((function(){h(t.data.sections.length-1)}),3e3),H({titleMessage:"Success!",descriptionMessage:a.data.message,messageType:"success"},(function(){return B.current()})),S.Y.debug("index after save section ",f),setTimeout((function(){return D("/questionnaires")}),3e3),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),S.Y.debug("error from fetch questionnaire",e.t0),G(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),u()),e.abrupt("return",a.data.uuid);case 8:if(e.prev=8,e.t0=e.catch(0),X(!1),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=13;break}return e.abrupt("return");case 13:if(401!=(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.status)){e.next=19;break}S.Y.debug("Session timeout in save questionnaire"),H({titleMessage:"Error!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(function(){return B.current()})),setTimeout((function(){return D("/login")}),3e3),e.next=26;break;case 19:if(403!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=24;break}H({titleMessage:"Error!",descriptionMessage:null!==e.t0&&void 0!==e.t0&&null!==(v=e.t0.response)&&void 0!==v&&null!==(m=v.data)&&void 0!==m&&m.message?null===e.t0||void 0===e.t0||null===(p=e.t0.response)||void 0===p||null===(x=p.data)||void 0===x?void 0:x.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return B.current()})),setTimeout((function(){return D("/home")}),3e3),e.next=26;break;case 24:return G(e.t0),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,i){return e.apply(this,arguments)}}(),he=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.Y.debug("inside publist button click"),e.next=3,le(n,!0);case 3:if(!(i=e.sent)){e.next=17;break}return e.prev=5,e.next=8,j.H.put("".concat(Z.ZW,"/publish/").concat(i));case 8:e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(5),X(!1),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=15;break}return e.abrupt("return");case 15:S.Y.debug("in onPublishButtonClickHandler "),G(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,Q.jsxs)("div",{className:"sect-form-card-wrapper",children:[(0,Q.jsx)($.Z,{myRef:B,titleMessage:O.titleMessage,descriptionMessage:O.descriptionMessage,messageType:O.messageType}),(0,Q.jsx)(q.Z,{title:(0,Q.jsxs)("p",{children:["Delete Section"," ",(null===b||void 0===b?void 0:b.sectionTitle)&&'"'+(null===b||void 0===b?void 0:b.sectionTitle)+'"']}),info1:(0,Q.jsx)("p",{children:"On deleting, all the details of this section would get deleted and this will be an irreversible action."}),info2:(0,Q.jsxs)("p",{children:["Do you still want to delete the"," ",(0,Q.jsx)("b",{children:null!==b&&void 0!==b&&b.sectionTitle?null===b||void 0===b?void 0:b.sectionTitle:"Section"}),"?"]}),primaryButtonText:"Delete",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:function(){K(p)},onSecondaryModalButtonClickHandler:function(){ue(!1)},openModal:ae,setOpenModal:ue}),(0,Q.jsx)(q.Z,{title:(0,Q.jsx)("p",{children:"Cancel Questionnaire"}),info1:(0,Q.jsx)("p",{children:" On canceling, newly added details will be discarded."}),info2:(0,Q.jsx)("p",{children:"Do you still want to cancel it?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:function(){me(!1),D("/questionnaires")},onSecondaryModalButtonClickHandler:function(){me(!1)},openModal:ve,setOpenModal:me}),(0,Q.jsx)("div",{className:"sect-form-card-info",children:(0,Q.jsxs)("div",{className:"sect-form-innercard-blk",children:[n.sections.length>1&&(0,Q.jsxs)("div",{className:"sect-ttl-blk flex-between",children:[(0,Q.jsx)("div",{className:"sect-leftblk"}),(0,Q.jsx)("div",{className:"sect-rightblk",children:(0,Q.jsx)("div",{className:"sect-ttl-right-iconblk",children:(0,Q.jsx)("span",{className:"sect-icon-blk delete-iconblk",children:(0,Q.jsx)(x.Z,{title:"Delete section",children:(0,Q.jsx)("img",{onClick:function(){return ue(!0)},src:"/images/delete-icon.svg",alt:""})})})})})]}),(0,Q.jsxs)("form",{children:[S.Y.debug("global section title error:- ",T.errMsg),(0,Q.jsxs)("div",{className:"sect-form-card-blk",children:[(0,Q.jsxs)("div",{className:"sect-form-card-innerblk flex-between",children:[(0,Q.jsx)("div",{className:"sect-card-form-leftfield",children:(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"title",children:["Section Name ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)(u.Z,{className:"input-field ".concat((""===b.sectionTitle&&(null===T||void 0===T?void 0:T.sectionTitleEmpty)||ie(b.sectionTitle)&&(null===T||void 0===T?void 0:T.errMsg))&&"input-error"),id:"outlined-basic",placeholder:"Enter section name",variant:"outlined",onChange:te,onBlur:se,value:b.sectionTitle,name:"sectionTitle",helperText:""===b.sectionTitle&&null!==T&&void 0!==T&&T.sectionTitleEmpty?"Enter the section name":ie(b.sectionTitle)&&null!==T&&void 0!==T&&T.errMsg?null===T||void 0===T?void 0:T.errMsg:" "})]})}),(0,Q.jsx)("div",{className:"sect-card-form-rightfield",children:(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"layout",children:["Layout ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)("div",{className:"select-field",children:(0,Q.jsxs)(d.Z,{className:"fullwidth-field",children:[(0,Q.jsxs)(c.Z,{IconComponent:function(e){return(0,Q.jsx)(g.Z,(0,l.Z)({},e))},name:"layout",value:null===b||void 0===b?void 0:b.layout,onChange:function(e){var t=e.target,s=t.name,o=t.value;S.Y.debug("name:",s,"value:",o);var r=(0,l.Z)({},n);if(S.Y.debug("tempQuestionnaire: ",r),r.sections[f].layout=o,"table"===o){r.sections[f].questions=[];var a=(0,y.Z)();r.sections[f].columnValues=[{uuid:a,title:"",isRequired:!0,columnType:"textbox",options:["",""],validation:""}],r.sections[f].rowValues=[{uuid:(0,y.Z)(),cells:[{columnId:a,value:""}]},{uuid:(0,y.Z)(),cells:[{columnId:a,value:""}]}]}"form"===o&&(r.sections[f].columnValues=[],r.sections[f].rowValues=[],r.sections[f].questions=[{uuid:(0,y.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}]),S.Y.debug("tempQuestionnaire after layout update",r),i(r)},MenuProps:R,children:[(0,Q.jsx)(v.Z,{value:"form",children:"Form"}),(0,Q.jsx)(v.Z,{value:"table",selected:!0,children:"Table"})]}),(0,Q.jsx)(m.Z,{children:" "})]})})]})})]}),(0,Q.jsx)("div",{className:"sect-form-card-innerblk",children:(0,Q.jsx)("div",{className:"sect-card-form-leftfield full-width",children:(0,Q.jsxs)("div",{className:"form-group mb-0",children:[(0,Q.jsx)("label",{htmlFor:"emailid",children:"Description"}),(0,Q.jsx)(u.Z,{className:"input-field",id:"outlined-basic",placeholder:"Enter description",variant:"outlined",onChange:te,onBlur:se,name:"description",value:b.description})]})})})]})]})]})}),"form"===(null===b||void 0===b?void 0:b.layout)?(0,Q.jsx)(I,{sectionIndex:f,questionnaire:n,setQuestionnaire:i,err:E,setErr:M,questionTitleList:P,setQuestionTitleList:_}):(0,Q.jsx)(J,{sectionIndex:f,questionnaire:n,setQuestionnaire:i,tableErr:V,setTableErr:Y}),(0,Q.jsxs)("div",{className:"form-btn flex-between add-members-btn que-page-btn",children:[(0,Q.jsx)("button",{type:"reset",className:"secondary-button mr-10",onClick:function(){me(!0)},children:"Cancel"}),(0,Q.jsx)("button",{type:"submit",onClick:le,disabled:z,className:"outlined-button add-button mr-10",children:null!==n&&void 0!==n&&n.isDraft||null!==n&&void 0!==n&&n.isPublished?"Update":"Save"}),(0,Q.jsx)("button",{type:"submit",disabled:z,className:"primary-button add-button",onClick:he,children:"Publish"})]})]})},ne=i(1087),ie=i(1260),te=i(8460),se=i(8386),le=i(5736);function oe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var re={PaperProps:{style:{maxHeight:99}}};var ae=function(){var e;(0,ie.j)("Add Questionnaire");var n=(0,a.useState)(!1),i=(0,r.Z)(n,2),q=i[0],T=i[1],k=(0,a.useState)([]),w=(0,r.Z)(k,2),C=w[0],E=w[1],M=a.useState(0),V=(0,r.Z)(M,2),Y=V[0],P=V[1],_=(0,a.useState)({questionTitle:"",option:""}),I=(0,r.Z)(_,2),D=I[0],R=I[1],B=(0,a.useState)(""),L=(0,r.Z)(B,2),O=L[0],H=L[1],G=(0,a.useState)([]),U=(0,r.Z)(G,2),W=U[0],z=U[1],X=(0,N.UO)().id,K=(0,a.useState)({errMsg:""}),J=(0,r.Z)(K,2),ae=J[0],ue=J[1],de=a.useRef(),ce=(0,A.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),ve=(0,r.Z)(ce,2),me=ve[0],pe=ve[1],he=function(e,n){P(n)},xe=(0,N.s0)(),fe=(0,a.useState)({uuid:X,version:"",title:"",sheetName:"",sections:[{id:"",isRequired:!0,uuid:(0,y.Z)(),sectionTitle:"",description:"",layout:"form",isActive:!0,questions:[{uuid:(0,y.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}],value:1}],createdAt:Date,updatedAt:Date,createdBy:"",updatedBy:"",isActive:!0}),be=(0,r.Z)(fe,2),ge=be[0],je=be[1],Ze=(0,N.UO)();S.Y.debug("urlParams- ",Ze);var Ne=(0,F.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.privilege})),qe=(0,F.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userObj})),ye="Super Admin"===(null===Ne||void 0===Ne?void 0:Ne.name),Te=("Super Admin"===(null===qe||void 0===qe||null===(e=qe.roleId)||void 0===e?void 0:e.name)?[]:Object.values(null===Ne||void 0===Ne?void 0:Ne.privileges)).filter((function(e){var n;return"Questionnaire"===(null===e||void 0===e||null===(n=e.moduleId)||void 0===n?void 0:n.name)})).map((function(e){return{questionnaire:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}}}));(0,a.useEffect)((function(){var e,n,i=!0,t=new AbortController,r=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,j.H.get("".concat(Z.ZW,"/").concat(X),{signal:t.signal});case 4:n=e.sent,T(!1),S.Y.debug("response from fetch questionnaire",n),i&&je((0,l.Z)({},n.data)),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(0),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=14;break}return e.abrupt("return");case 14:T(!1),(0,le.K)(e.t0,pe,de,xe,"/questionnaires");case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(null!==(e=Te[0])&&void 0!==e&&null!==(n=e.questionnaire)&&void 0!==n&&n.edit||ye)&&Ze["*"].includes("edit")&&r(),function(){i=!1,t.abort()}}),[]);var ke=function(){je((0,l.Z)((0,l.Z)({},ge),{},{sections:[].concat((0,t.Z)(ge.sections),[{id:"",uuid:(0,y.Z)(),srNo:"",sectionTitle:"",description:"",layout:"form",isActive:!0,questions:[{uuid:(0,y.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}],value:ge.sections.length+1}])})),P(ge.sections.length)};return(0,Q.jsxs)("div",{className:"page-wrapper",children:[(0,Q.jsx)($.Z,{myRef:de,titleMessage:me.titleMessage,descriptionMessage:me.descriptionMessage,messageType:me.messageType}),(0,Q.jsx)("div",{className:"breadcrumb-wrapper",children:(0,Q.jsx)("div",{className:"container",children:(0,Q.jsxs)("ul",{className:"breadcrumb",children:[(0,Q.jsx)("li",{children:(0,Q.jsx)(ne.rU,{to:"/questionnaires",children:"Questionnaire"})}),((null===ge||void 0===ge?void 0:ge.isDraft)||(null===ge||void 0===ge?void 0:ge.isPublished))&&(0,Q.jsx)("li",{children:(0,Q.jsx)(ne.rU,{to:"/questionnaires/preview-questionnaire/".concat(Ze.id),children:"Preview Questionnaire"})}),null!==ge&&void 0!==ge&&ge.isDraft||null!==ge&&void 0!==ge&&ge.isPublished?(0,Q.jsx)("li",{children:"Edit Questionnaire"}):(0,Q.jsx)("li",{children:"Add Questionnaire"})]})})}),(0,Q.jsx)("section",{children:q?(0,Q.jsx)(se.Z,{}):(0,Q.jsxs)("div",{className:"container",children:[(0,Q.jsx)("div",{className:"form-header flex-between",children:null!==ge&&void 0!==ge&&ge.isDraft||null!==ge&&void 0!==ge&&ge.isPublished?(0,Q.jsx)("h2",{className:"heading2",children:"Edit Questionnaire"}):(0,Q.jsx)("h2",{className:"heading2",children:"Add Questionnaire"})}),(0,Q.jsxs)("div",{className:"que-ttl-blk flex-between",children:[(0,Q.jsx)("div",{className:"que-ttl-left",children:(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"emailid",children:["Questionnaire Title ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)(u.Z,{className:"input-field ".concat(""===ge.title&&(null===ae||void 0===ae?void 0:ae.errMsg)&&"input-error"),id:"outlined-basic",value:ge.title,placeholder:"Enter questionnaire title",disabled:(null===ge||void 0===ge?void 0:ge.isPublished)||(null===ge||void 0===ge?void 0:ge.isDraft),variant:"outlined",onChange:function(e){je((0,l.Z)((0,l.Z)({},ge),{},{title:e.target.value}))},onBlur:function(e){var n;return je((0,l.Z)((0,l.Z)({},ge),{},{title:null===(n=e.target.value)||void 0===n?void 0:n.trim()}))},helperText:""===ge.title&&null!==ae&&void 0!==ae&&ae.errMsg?"Enter the questionnaire title":" "})]})}),(0,Q.jsxs)("div",{className:"que-ttl-right flex-between",children:[(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"emailid",children:["Sheet Name ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)(u.Z,{className:"input-field ".concat(""===ge.sheetName&&(null===ae||void 0===ae?void 0:ae.errMsg)&&"input-error"),id:"outlined-basic",inputProps:{maxLength:31},value:ge.sheetName,placeholder:"Enter sheet name",variant:"outlined",onChange:function(e){je((0,l.Z)((0,l.Z)({},ge),{},{sheetName:e.target.value}))},helperText:""===ge.sheetName&&null!==ae&&void 0!==ae&&ae.errMsg?"Enter the sheet name":" "})]}),(0,Q.jsxs)("div",{className:"form-group",children:[(0,Q.jsxs)("label",{htmlFor:"status",children:["Status ",(0,Q.jsx)("span",{className:"mandatory",children:"*"})]}),(0,Q.jsx)("div",{className:"select-field",children:(0,Q.jsxs)(d.Z,{className:"fullwidth-field",children:[(0,Q.jsxs)(c.Z,{IconComponent:function(e){return(0,Q.jsx)(g.Z,(0,l.Z)({},e))},value:null!==ge&&void 0!==ge&&ge.isActive?"active":"inActive",onChange:function(e){je((0,l.Z)((0,l.Z)({},ge),{},{isActive:"active"===e.target.value}))},MenuProps:re,name:"isActive",children:[(0,Q.jsx)(v.Z,{value:"active",selected:!0,children:"Active"}),(0,Q.jsx)(v.Z,{value:"inActive",children:"Inactive"})]}),(0,Q.jsx)(m.Z,{children:" "})]})})]})]})]}),(0,Q.jsxs)("div",{className:"section-form-sect",children:[(0,Q.jsxs)("div",{className:"section-tab-blk flex-between",children:[(0,Q.jsx)("div",{className:"section-tab-leftblk",children:(0,Q.jsx)(p.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,Q.jsx)(h.Z,{value:Y,onChange:he,"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:ge.sections.map((function(e,n,i){return(0,Q.jsx)(x.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,Q.jsx)(f.Z,(0,l.Z)({className:"section-tab-item",label:"section ".concat(n+1)},oe(n)))},null===e||void 0===e?void 0:e.uuid)}))})})}),(0,Q.jsx)("div",{className:"section-tab-rightblk",children:(0,Q.jsxs)("div",{className:"form-header-right-txt",children:[(0,Q.jsxs)("div",{onClick:function(){((null===ge||void 0===ge?void 0:ge.isDraft)||(null===ge||void 0===ge?void 0:ge.isPublished))&&xe("/questionnaires/preview-questionnaire/".concat(X))},className:"tertiary-btn-blk ".concat((null===ge||void 0===ge?void 0:ge.isDraft)||(null===ge||void 0===ge?void 0:ge.isPublished)||"disabled-tertiary-btn","  mr-20"),children:[(0,Q.jsx)("span",{className:"preview-icon",children:(0,Q.jsx)(b.Z,{})}),(0,Q.jsx)("span",{className:"addmore-txt",children:"Preview"})]}),(0,Q.jsxs)("div",{className:"tertiary-btn-blk",children:[(0,Q.jsx)("span",{className:"addmore-icon",onClick:ke,children:(0,Q.jsx)("i",{className:"fa fa-plus"})}),(0,Q.jsx)("span",{onClick:ke,className:"addmore-txt",children:"Add Section"})]})]})})]}),(0,Q.jsx)("div",{className:"que-tab-data",children:ge.sections.map((function(e,n){return(0,Q.jsx)(te.x,{value:Y,index:n,children:(0,Q.jsx)(ee,{sameSectionsNames:C,err:D,setErr:R,setSameSectionsNames:E,setQuestionnaire:je,tableErr:O,setTableErr:H,questionnaire:ge,value:e.value,uuid:e.uuid,setValue:P,index:n,section:e,tabChange:he,globalSectionTitleError:ae,setGlobalSectionTitleError:ue,questionTitleList:W,setQuestionTitleList:z})},null===e||void 0===e?void 0:e.uuid)}))})]})]})})]})}}}]);
//# sourceMappingURL=5303.f175da44.chunk.js.map