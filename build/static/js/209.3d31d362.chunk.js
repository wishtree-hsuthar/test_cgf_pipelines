(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[209],{6916:function(e,n,t){"use strict";t.r(n),t.d(n,{AlphaNumRegEx:function(){return U},AlphaRegEx:function(){return H},NumericRegEx:function(){return F},default:function(){return V}});var i=t(4942),s=t(4165),o=t(5861),l=t(885),a=t(1413),r=t(5987),d=t(2898),u=t(6015),c=t(5814),v=t(8588),p=t(7205),m=t(4293),h=t(166),g=t(7194),f=t(2791),b=t(1134),x=t(9434),y=t(7689),j=t(4677),Z=t(6218),w=t(1300),k=t(7444),T=t(7806),N=t(2820),M=t(1260),R=t(4917),S=t(600),D=t(8386),C=t(3623),E=t(550),A=t(1213),O=t(184);E.ZP.register(A.Z),E.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var i=e.ctx;i.save(),i.globalCompositeOperation="destination-over",i.fillStyle=t.color||"#fff",i.fillRect(0,0,e.width,e.height),i.restore()}});var I=function(e){var n,t,i,s,o,r,d=e.graphLevelBreakdown,u=e.chartImages,c=e.setChartImages,v=(0,f.useState)(0),p=(0,l.Z)(v,2),m=p[0],h=p[1],g=(0,f.useRef)(null),b={labels:[["Policy"," Commitment","& Governance"],["Assess","Human Rights Potential"," & Actual Impacts"],["Integrate","& Act in Order to Prevent","& Mitigate"],["Track the","Effectiveness of Responses"],"Report","Remedy"],datasets:[{backgroundColor:"#f7a823",borderColor:"#f7a823",data:[null!==(n=d["Policy Commitment & Governance"])&&void 0!==n?n:0,null!==(t=d["Assess Human Rights Potential and Actual Impacts"])&&void 0!==t?t:0,null!==(i=d["Integrate and Act in Order to Prevent and Mitigate"])&&void 0!==i?i:0,null!==(s=d["Track the Effectiveness of Responses"])&&void 0!==s?s:0,null!==(o=d.Report)&&void 0!==o?o:0,null!==(r=d.Remedy)&&void 0!==r?r:0],barThickness:50}]};return(0,f.useEffect)((function(){if(console.log("chartImages in chart2:- ",g.current.toBase64Image()),m<3){h((function(e){return e+1}));var e=(0,a.Z)({},u);e.levelBreakdownGraph=g.current.toBase64Image(),c(e)}}),[m]),(0,O.jsx)("div",{style:{height:"400px"},className:"card-wrapper",children:(0,O.jsx)(C.$Q,{ref:g,data:b,options:{animation:!1,responsive:!0,maintainAspectRatio:!1,layout:{},plugins:{legend:{display:!1},title:{text:"HRDD Step Level Breakdown",display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}},x:{grid:{display:!1},alignToPixels:"center",align:"start"}}}})})};E.ZP.register(A.Z),E.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var i=e.ctx;i.save(),i.globalCompositeOperation="destination-over",i.fillStyle=t.color||"#fff",i.fillRect(0,0,e.width,e.height),i.restore()}});var B=function(e){var n,t,i,s,o,l=e.graphResult,r=e.questionnaireTitle,d=e.chartImages,u=e.setChartImages,c=(0,f.useRef)(null),v=function(){switch(r){case"HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)":return"HRDD HQ Level Result";case"GLOBAL OPERATION HRDD REQUIREMENTS (SELECTED OPERATION)":return"Global Operation HRDD Result";case"COUNTRY- OPERATION HRDD REQUIREMENTS":return"Country Operation HRDD Result";default:return"HRDD Result"}},p={labels:["Not Initiated","Launched","Established","Leadership","General Result"],datasets:[{label:v(),backgroundColor:"#3498db",borderColor:"#3498db",data:[null!==(n=l["Not Initiated"])&&void 0!==n?n:0,null!==(t=l.Launched)&&void 0!==t?t:0,null!==(i=l.Established)&&void 0!==i?i:0,null!==(s=l.Leadership)&&void 0!==s?s:0,null!==(o=l.General)&&void 0!==o?o:0],barThickness:25}]};return(0,f.useEffect)((function(){if(console.log("chartImages in chart1:- ",d.resultsGraph),void 0===d.resultsGraph){console.log("inside condition");var e=(0,a.Z)({},d);e.resultsGraph=c.current.toBase64Image(),u(e)}})),(0,O.jsx)("div",{style:{height:"400px"},className:"preview-card-wrapper",children:(0,O.jsx)(C.$Q,{ref:c,data:p,options:{animation:!1,indexAxis:"y",responsive:!0,maintainAspectRatio:!1,layout:{padding:10},plugins:{legend:{display:!1},title:{text:v(),display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return"    "+e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},alignToPixels:"center",align:"start"},x:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}}}}})})},Y=function(e){var n=e.graphResult,t=e.graphLevelBreakdown,i=e.questionnaireTitle,s=e.chartImages,o=e.setChartImages;return console.log("inside charts"),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(B,{graphResult:n,questionnaireTitle:i,chartImages:s,setChartImages:o}),(0,O.jsx)(I,{graphLevelBreakdown:t,chartImages:s,setChartImages:o})]})},_=t(5736),P=(t(4569),["children","value","index"]),L=f.lazy((function(){return t.e(747).then(t.bind(t,4747))})),H=/^[a-zA-Z ]*$/,F=/^[0-9]+$/i,U=/^[a-z0-9 ]+$/i,q=t(9704);function G(e){var n=e.children,t=e.value,i=e.index,s=(0,r.Z)(e,P);return(0,O.jsx)("div",(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},s),{},{children:t===i&&(0,O.jsx)(u.Z,{children:n})}))}function Q(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var z={comment:{required:"Enter the reason for rejecting assessment.",minLength:"Minimum 3 character required."}};var V=function(){var e,n,t,r,C,E,A,I,B,P,V,K,$,J;(0,M.j)("Fill Assessment");var W=(0,f.useState)({}),X=(0,l.Z)(W,2),ee=X[0],ne=X[1],te=(0,f.useState)(!1),ie=(0,l.Z)(te,2),se=ie[0],oe=ie[1],le=(0,f.useState)(""),ae=(0,l.Z)(le,2),re=ae[0],de=ae[1],ue=(0,b.cI)({}),ce=ue.handleSubmit,ve=ue.control,pe=ue.setValue,me=(0,f.useState)(0),he=(0,l.Z)(me,2),ge=he[0],fe=he[1],be=(0,y.UO)(),xe=(0,x.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userObj})),ye=(0,y.s0)(),je=(0,f.useState)({}),Ze=(0,l.Z)(je,2),we=Ze[0],ke=Ze[1],Te=(0,f.useState)({}),Ne=(0,l.Z)(Te,2),Me=Ne[0],Re=Ne[1],Se=(0,f.useState)({}),De=(0,l.Z)(Se,2),Ce=De[0],Ee=De[1],Ae=(0,f.useState)(null),Oe=(0,l.Z)(Ae,2),Ie=Oe[0],Be=Oe[1],Ye=(0,f.useState)(null),_e=(0,l.Z)(Ye,2),Pe=_e[0],Le=_e[1],He=(0,f.useState)(""),Fe=(0,l.Z)(He,2),Ue=Fe[0],qe=Fe[1],Ge=(0,f.useState)(""),Qe=(0,l.Z)(Ge,2),ze=Qe[0],Ve=Qe[1],Ke=(0,f.useState)(!1),$e=(0,l.Z)(Ke,2),Je=$e[0],We=$e[1],Xe=(0,f.useState)(!1),en=(0,l.Z)(Xe,2),nn=en[0],tn=en[1],sn=(0,f.useState)(!1),on=(0,l.Z)(sn,2),ln=on[0],an=on[1],rn=(0,f.useState)({}),dn=(0,l.Z)(rn,2),un=dn[0],cn=dn[1],vn=(0,f.useState)(!1),pn=(0,l.Z)(vn,2),mn=pn[0],hn=pn[1],gn=(0,N.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),fn=(0,l.Z)(gn,2),bn=fn[0],xn=fn[1],yn=function(e,n){R.Y.debug("error occured in ",n),(0,_.K)(e,xn,Tn,ye,"/assessment-list")},jn=(0,f.useState)(!1),Zn=(0,l.Z)(jn,2),wn=Zn[0],kn=Zn[1];(0,f.useEffect)((function(){var e=!0,n=new AbortController,t=function(){var t=(0,o.Z)((0,s.Z)().mark((function t(i,o,l){var r,d,u;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.H.get("".concat(Z.ZW,"/").concat(i),{signal:n.signal});case 3:u=t.sent,e&&Re((0,a.Z)({},u.data)),o&&l&&fe(null===u||void 0===u||null===(r=u.data)||void 0===r||null===(d=r.sections)||void 0===d?void 0:d.length),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),"ERR_CANCELED"!==(null===t.t0||void 0===t.t0?void 0:t.t0.code)){t.next=12;break}return t.abrupt("return");case 12:R.Y.debug("error from fetch questionnaire",t.t0),(0,_.K)(t.t0,xn,Tn,ye);case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n,i){return t.apply(this,arguments)}}(),i=function(){var i=(0,o.Z)((0,s.Z)().mark((function i(){var o,l,r,d,u,c,v,p,m,h,g,f,b,x,y,w,k,T;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,oe(!0),i.next=4,j.H.get("".concat(Z.IG).concat(be.id),{signal:n.signal});case 4:x=i.sent,oe(!1),R.Y.debug("response from fetch assessment",x),We((null===xe||void 0===xe?void 0:xe._id)===(null===x||void 0===x||null===(o=x.data)||void 0===o||null===(l=o.assignedOperationMember)||void 0===l?void 0:l._id)),e&&ke((0,a.Z)({},x.data)),e&&Ee((0,a.Z)({},x.data.answers)),e&&(null===x||void 0===x||null===(r=x.data)||void 0===r?void 0:r.graphResult)&&Le((0,a.Z)({},null===x||void 0===x||null===(d=x.data)||void 0===d?void 0:d.graphResult)),e&&(null===x||void 0===x||null===(u=x.data)||void 0===u?void 0:u.graphLevelBreakdown)&&Be((0,a.Z)({},null===x||void 0===x||null===(c=x.data)||void 0===c?void 0:c.graphLevelBreakdown)),t(null===x||void 0===x||null===(v=x.data)||void 0===v?void 0:v.questionnaireId,null===x||void 0===x||null===(p=x.data)||void 0===p?void 0:p.graphResult,null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.graphLevelBreakdown),hn((null===x||void 0===x||null===(h=x.data)||void 0===h?void 0:h.isSubmitted)&&!be["*"].includes("view")),kn(xe._id===(null===x||void 0===x||null===(g=x.data)||void 0===g||null===(f=g.assignedOperationMember)||void 0===f?void 0:f._id)&&!be["*"].includes("view")&&"Pending"==(null===x||void 0===x||null===(b=x.data)||void 0===b?void 0:b.assessmentStatus)),i.next=25;break;case 17:if(i.prev=17,i.t0=i.catch(0),"ERR_CANCELED"!==(null===i.t0||void 0===i.t0?void 0:i.t0.code)){i.next=21;break}return i.abrupt("return");case 21:401===(null===i.t0||void 0===i.t0||null===(y=i.t0.response)||void 0===y?void 0:y.status)&&(e&&xn({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(function(){return Tn.current()})),setTimeout((function(){ye("/login")}),3e3)),400===(null===i.t0||void 0===i.t0||null===(w=i.t0.response)||void 0===w?void 0:w.status)&&"Invalid assessment!"===(null===i.t0||void 0===i.t0||null===(k=i.t0.response)||void 0===k||null===(T=k.data)||void 0===T?void 0:T.message)&&(e&&xn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Tn.current()})),setTimeout((function(){ye("/assessment-list")}),3e3)),oe(!1),R.Y.debug("error from fetch assessment",i.t0);case 25:case"end":return i.stop()}}),i,null,[[0,17]])})));return function(){return i.apply(this,arguments)}}();return i(),function(){e=!1,n.abort()}}),[]);var Tn=(0,f.useRef)(),Nn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t,i){var o,l,r,d,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.H.post(n?Z.FU+be.id:Z.FU+be.id+"/submit",(0,a.Z)({},i));case 3:201==(o=e.sent).status&&(!t&&xn({titleMessage:"Success",descriptionMessage:null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message,messageType:"success"},(function(){return Tn.current()})),!t&&setTimeout((function(){!n&&ye("/assessment-list"),tn(!1)}),2e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),tn(!1),400===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&(console.log("in invalid assessment"),xn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Tn.current()})),setTimeout((function(){ye("/assessment-list")}),3e3));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t,i){return e.apply(this,arguments)}}(),Mn=function(e,n){var t;e.preventDefault();var s={},o=[],l=(0,a.Z)({},Ce);null===Me||void 0===Me||null===(t=Me.sections)||void 0===t||t.map((function(e,t){var r,d,u=null!==(r=un[null===e||void 0===e?void 0:e.uuid])&&void 0!==r?r:{},c=null!==(d=Ce[null===e||void 0===e?void 0:e.uuid])&&void 0!==d?d:{};if("table"===(null===e||void 0===e?void 0:e.layout)){var v=function(e){var n={};return e.forEach((function(e){n[e.uuid]=e})),n}(null===e||void 0===e?void 0:e.columnValues);R.Y.debug("curren assessment Questionnaire:- ",c),R.Y.debug("transformed column values:- ",v),Object.keys(c).forEach((function(s){var r,d=null===s||void 0===s?void 0:s.split("_")[1];null===e||void 0===e||null===(r=e.columnValues)||void 0===r||r.forEach((function(s){var r,v,p,m,h=null===s||void 0===s||null===(r=s.options)||void 0===r?void 0:r.map((function(e){return e.toLowerCase()}));"prefilled"===s.columnType||!1!==n||null===s||void 0===s||!s.isRequired||c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]&&0!==c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)].length?"dropdown"===s.columnType&&c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]&&!h.options.includes(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)].toLowerCase())?(R.Y.debug("Fetched value not present in column dropdown options"),u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)],'" is not part of above list. Please select valid option among listed values from list.\n\n\n                            '),o.push(t),R.Y.debug("sections = ",o),l=(0,a.Z)((0,a.Z)({},l),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,i.Z)({},"".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d),"")))),n||(u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]="This is required field",o.push(t))):"date"===s.columnType&&c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]&&isNaN(new Date(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]).getTime())?(R.Y.debug("Fetched value not present in column dropdown options"),u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)],'" is not valid date format.\n\n\n                            '),o.push(t),R.Y.debug("sections = ",o),l=(0,a.Z)((0,a.Z)({},l),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,i.Z)({},"".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d),""))))):"prefilled"!==s.columnType&&"alphabets"==(null===s||void 0===s?void 0:s.validation)&&(null===(v=c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)])||void 0===v?void 0:v.length)>0&&!H.test(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)])?(u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]="This is an alphabetic field.",R.Y.debug("in table alphabets only"),o.push(t)):"prefilled"!==(null===s||void 0===s?void 0:s.columnType)&&"numeric"==(null===s||void 0===s?void 0:s.validation)&&(null===(p=c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)])||void 0===p?void 0:p.length)>0&&!F.test(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)])?(u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]="This is a numeric field.",R.Y.debug("in table numeric only"),o.push(t)):"prefilled"!==s.columnType&&"alphanumeric"==(null===s||void 0===s?void 0:s.validation)&&(null===(m=c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)])||void 0===m?void 0:m.length)>0&&!U.test(c["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)])?(u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]=" This is an alphanumeric field.",R.Y.debug("in table alphanumeric only"),o.push(t)):delete u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]:(u["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(d)]="This is required field",o.push(t))}))})),R.Y.debug("Section errors in table layout ",u)}else null===e||void 0===e||e.questions.forEach((function(s){if(!s.isRequired||c[null===s||void 0===s?void 0:s.uuid]&&0!==c[null===s||void 0===s?void 0:s.uuid].length||!1!==n)if("radioGroup"!=s.inputType&&"dropdown"!=s.inputType||!c[null===s||void 0===s?void 0:s.uuid]||s.options.includes(c[null===s||void 0===s?void 0:s.uuid]))if("checkbox"==s.inputType&&c[null===s||void 0===s?void 0:s.uuid]){var r,d=c[null===s||void 0===s?void 0:s.uuid];"string"===typeof d&&(d=c[null===s||void 0===s?void 0:s.uuid].split(",")),R.Y.debug("error from checkbox question"),R.Y.debug("section no",t),R.Y.debug("section no",o),R.Y.debug("answer for checkbox",d);var v=s.options,p=d&&(null===(r=d)||void 0===r?void 0:r.filter((function(e){return null===v||void 0===v?void 0:v.includes(e)})));0===p.length?(u[null===s||void 0===s?void 0:s.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===s||void 0===s?void 0:s.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),o.push(t)):delete u[null===s||void 0===s?void 0:s.uuid],l=(0,a.Z)((0,a.Z)({},l),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,i.Z)({},null===s||void 0===s?void 0:s.uuid,p))))}else"alphabets"===s.validation&&c[null===s||void 0===s?void 0:s.uuid]&&!1===H.test(c[null===s||void 0===s?void 0:s.uuid])?(R.Y.debug("error from numric if elese"),u[null===s||void 0===s?void 0:s.uuid]="This is an alphabetic field",o.push(t)):"numeric"===s.validation&&c[null===s||void 0===s?void 0:s.uuid]&&!1===F.test(c[null===s||void 0===s?void 0:s.uuid])?(u[null===s||void 0===s?void 0:s.uuid]="This is a numeric field",o.push(t)):"alphanumeric"===s.validation&&c[null===s||void 0===s?void 0:s.uuid]&&!1===U.test(c[null===s||void 0===s?void 0:s.uuid])?(u[null===s||void 0===s?void 0:s.uuid]=" This is an alphanumeric field",o.push(t)):"date"===s.inputType&&c[null===s||void 0===s?void 0:s.uuid]&&isNaN(new Date(c[null===s||void 0===s?void 0:s.uuid]).getTime())?(R.Y.debug("error from date question"),R.Y.debug("section no",t),R.Y.debug("section no",o),u[null===s||void 0===s?void 0:s.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===s||void 0===s?void 0:s.uuid],'" is not valid date.\n                        '),l=(0,a.Z)((0,a.Z)({},l),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,i.Z)({},null===s||void 0===s?void 0:s.uuid,"")))),o.push(t)):delete u[null===s||void 0===s?void 0:s.uuid];else R.Y.debug("error from radio group question"),R.Y.debug("section no",t),R.Y.debug("section no",o),u[null===s||void 0===s?void 0:s.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===s||void 0===s?void 0:s.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),l=(0,a.Z)((0,a.Z)({},l),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,i.Z)({},null===s||void 0===s?void 0:s.uuid,"")))),o.push(t);else R.Y.debug("error from required"),R.Y.debug("section no",t),R.Y.debug("answer in required",c[null===s||void 0===s?void 0:s.uuid]),u[null===s||void 0===s?void 0:s.uuid]="This is required field",o.push(t)}));fe(o.length>0?o[0]:0),R.Y.debug("Section errors in  ",u),R.Y.debug("Section : ",o),s[null===e||void 0===e?void 0:e.uuid]=(0,a.Z)({},u)})),Ee((0,a.Z)({},l)),function(e){cn((0,a.Z)({},e))}(s),Object.keys(s).every((function(e){return 0===Object.keys(s[e]).length}))&&(tn(!0),Nn(n,void 0,l))},Rn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.H.post(Z.zJ+be.id+"/decline",{comment:n.comment});case 3:t=e.sent,R.Y.debug("Response from backend for decline assessment",t),201==t.status&&(xn({titleMessage:"Success",descriptionMessage:null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message,messageType:"success"},(function(){return Tn.current()})),setTimeout((function(){ye("/assessment-list")}),3e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),yn(e.t0,"onSubmitReason");case 11:kn(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),Sn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.H.post(Z.XI+be.id+"/accept");case 3:201==(n=e.sent).status&&(xn({titleMessage:"Success",descriptionMessage:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message,messageType:"success"},(function(){return Tn.current()})),kn(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),yn(e.t0,"onAcceptAssessments"),kn(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Dn=(0,f.useState)(!1),Cn=(0,l.Z)(Dn,2),En=Cn[0],An=Cn[1],On=function(){ye("/assessment-list")},In=(0,f.useState)(""),Bn=(0,l.Z)(In,2),Yn=Bn[0],_n=Bn[1],Pn=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n,t,i,o,l,r,d,u,c,v,p,m,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ie||!Pe){e.next=20;break}return e.next=4,j.H.post(Z.j5+be.id+"/download",(0,a.Z)({},ee),{responseType:"blob"});case 4:n=e.sent,t=window.URL.createObjectURL(new Blob([n.data])),(i=document.createElement("a")).href=t,o=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),l=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),r=(new Date).getFullYear().toString(),d=(new Date).getHours(),u=(new Date).getMinutes(),c=(new Date).getSeconds(),v=l+o+r+"_"+d+u+c,i.setAttribute("download","Assessment - ".concat(v,".xlsx")),document.body.appendChild(i),i.click(),e.next=22;break;case 20:return e.next=22,(0,T.j)("Assessment",xn,be.id,Tn,Z.j5,ye);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),400===(null===e.t0||void 0===e.t0||null===(p=e.t0.response)||void 0===p?void 0:p.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.message)&&(xn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Tn.current()})),setTimeout((function(){ye("/assessment-list")}),3e3));case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}(),Ln=(0,f.useState)(!1),Hn=(0,l.Z)(Ln,2),Fn=Hn[0],Un=Hn[1],qn=function(){de(""),_n(""),oe(!1),Un(!1)},Gn=function(){var e,n;(R.Y.debug("Inside add Table assessment value function"),Me&&(null===(e=Object.keys(Me))||void 0===e?void 0:e.length)>0)&&(null===Me||void 0===Me||null===(n=Me.sections)||void 0===n||n.forEach((function(e){if("table"===(null===e||void 0===e?void 0:e.layout)&&(!Ce[null===e||void 0===e?void 0:e.uuid]||0===Object.keys(Ce[null===e||void 0===e?void 0:e.uuid]).length)){var n=(0,a.Z)({},Ce);n[null===e||void 0===e?void 0:e.uuid]={},null===e||void 0===e||e.rowValues.forEach((function(t){var i;null===e||void 0===e||null===(i=e.columnValues)||void 0===i||i.forEach((function(i){n[null===e||void 0===e?void 0:e.uuid]["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(null===t||void 0===t?void 0:t.uuid)]=""}))})),Ee(n)}})))};return Gn(),console.log("charts:- ",ee),(0,O.jsxs)("div",{className:"page-wrapper",onClick:function(){return En&&An(!1)},children:[(0,O.jsx)(w.Z,{title:(0,O.jsx)("p",{children:"Accept/Reject Assessment "}),info1:(0,O.jsxs)("p",{className:"accrej-txtwrap",children:[(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Assessment title ",(0,O.jsx)("span",{children:":"})]}),(null===we||void 0===we||null===(e=we.title)||void 0===e?void 0:e.length)<=36?(0,O.jsx)("span",{className:"accrej-desc",children:null===we||void 0===we?void 0:we.title}):(0,O.jsx)(c.Z,{title:null===we||void 0===we?void 0:we.title,children:(0,O.jsxs)("span",{className:"accrej-desc",children:[" ",null===we||void 0===we||null===(n=we.title)||void 0===n?void 0:n.slice(0,39),"..."]})})]}),(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Assessment type ",(0,O.jsx)("span",{children:":"})]}),(null===we||void 0===we||null===(t=we.assessmentType)||void 0===t?void 0:t.length)<=36?(0,O.jsx)("span",{className:"accrej-desc",children:null===we||void 0===we?void 0:we.assessmentType}):(0,O.jsx)(c.Z,{title:null===we||void 0===we?void 0:we.assessmentType,children:(0,O.jsxs)("span",{className:"accrej-desc",children:[" ",null===we||void 0===we||null===(r=we.assessmentType)||void 0===r?void 0:r.slice(0,39),"..."]})})]}),(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Member company ",(0,O.jsx)("span",{children:":"})]}),(null===we||void 0===we||null===(C=we.assignedMember)||void 0===C||null===(E=C.companyName)||void 0===E?void 0:E.length)<=36?(0,O.jsx)("span",{className:"accrej-desc",children:null===we||void 0===we||null===(A=we.assignedMember)||void 0===A?void 0:A.companyName}):(0,O.jsx)(c.Z,{title:null===we||void 0===we||null===(I=we.assignedMember)||void 0===I?void 0:I.companyName,children:(0,O.jsxs)("span",{className:"accrej-desc",children:[" ",null===we||void 0===we||null===(B=we.assignedMember)||void 0===B||null===(P=B.companyName)||void 0===P?void 0:P.slice(0,39),"..."]})})]}),(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Due date ",(0,O.jsx)("span",{children:":"})]}),(0,O.jsx)("span",{className:"accrej-desc",children:new Date(new Date(null===we||void 0===we?void 0:we.dueDate).setDate(new Date(null===we||void 0===we?void 0:we.dueDate).getDate()-1)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),"Click \u201cAccept\u201d if you want to fill out the assessment. Or else, provide a reason and reject the assessment, if you don\u2019t want to continue with it."]}),info2:(0,O.jsx)(b.Qr,{name:"comment",control:ve,rules:{required:!0,minLength:3},render:function(e){var n=e.field,t=e.fieldState.error;return(0,O.jsx)(v.Z,(0,a.Z)((0,a.Z)({multiline:!0},n),{},{onBlur:function(e){var n;return pe("comment",null===(n=e.target.value)||void 0===n?void 0:n.trim())},inputProps:{maxLength:250},className:"input-textarea ".concat(t&&"input-textarea-error"),style:{marginBottom:"10px"},id:"outlined-basic",placeholder:"Enter reason",helperText:t?z.comment[t.type]:" ",variant:"outlined"}))}}),primaryButtonText:"Accept",secondaryButtonText:"Reject",onPrimaryModalButtonClickHandler:function(){Sn()},onSecondaryModalButtonClickHandler:ce(Rn),openModal:wn,setOpenModal:kn,isModalForm:!0,handleCloseRedirect:On}),(0,O.jsx)(w.Z,{title:(0,O.jsx)("p",{children:"Re-open Assessment ?"}),info1:" ",info2:(0,O.jsx)("p",{className:"mb-30",children:"Are you sure you want to edit the given submitted assessment?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:function(){return Nn(!0,!0,Ce),void hn(!1)},onSecondaryModalButtonClickHandler:function(){return hn(!1),void ye("/assessment-list")},openModal:mn,setOpenModal:hn,isModalForm:!0,handleCloseRedirect:On}),(0,O.jsx)(w.Z,{title:(0,O.jsx)("p",{children:"Data Upload"}),info1:" ",info2:(0,O.jsxs)("div",{className:"upload-file-wrap",children:[(0,O.jsx)(p.Z,{variant:"contained",component:"label",className:"upload-file-btn",children:(0,O.jsxs)("div",{className:re?"upload-file-blk selected-file-blk":"upload-file-blk",children:[(0,O.jsx)("input",{type:"file",hidden:!0,accept:".xls, .xlsx",onChange:function(e){_n(e.target.files[0].name),de(e.target.files[0])}}),(0,O.jsx)("span",{className:"upload-icon",children:(0,O.jsx)(S.Z,{})}),(0,O.jsx)("span",{className:"file-upload-txt",children:"Click here to choose file (.xlsx)"})]})}),(0,O.jsx)("p",{className:"select-filename",children:Yn})]}),primaryButtonText:"Upload",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:function(){return function(){oe(!0);try{if(!re)return oe(!1),oe(!1),xn({titleMessage:"error",descriptionMessage:"Please select excel file",messageType:"error"},(function(){return Tn.current()}));var e=new FileReader;if(e.readAsDataURL(re),"application/vnd.ms-excel"!==re.type&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==re.type)return de(""),_n(""),oe(!1),xn({titleMessage:"error",descriptionMessage:"Invalid file type Please uplaod excel file",messageType:"error"},(function(){return Tn.current()}));e.onloadend=(0,o.Z)((0,s.Z)().mark((function n(){var t,i,o,l,a,r,d,u,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.result,i=q.AES.encrypt(t,Z.kc).toString(),n.prev=2,an(!0),n.next=6,j.H.post(Z.fh+"".concat(be.id,"/upload"),{encryptedFile:i});case 6:if(201!=(o=n.sent).status){n.next=34;break}if(oe(!1),de(""),_n(""),an(!1),Un(!1),xn({titleMessage:"Success",descriptionMessage:"Successfully imported excel file!",messageType:"success"},(function(){return Tn.current()})),Ee(o.data.answers),Gn(),!o.data.containsErrors){n.next=34;break}return n.prev=17,n.next=20,j.H.get(Z.fh+"".concat(o.data.correctionId,"/corrections"),{responseType:"blob"});case 20:l=n.sent,a=window.URL.createObjectURL(new Blob([l.data])),(r=document.createElement("a")).href=a,r.setAttribute("download","Corrections - ".concat((new Date).toLocaleString("en"),".xlsx")),document.body.appendChild(r),r.click(),xn({titleMessage:"error",descriptionMessage:(0,O.jsxs)("p",{children:["Excel file has missing/invalid fields.Please check"," ",(0,O.jsx)("b",{children:"Corrections sheet"}),' attached with it".']}),messageType:"error"},(function(){return Tn.current()})),n.next=34;break;case 30:n.prev=30,n.t0=n.catch(17),oe(!1),R.Y.debug("Error from corections doc download",n.t0);case 34:n.next=43;break;case 36:n.prev=36,n.t1=n.catch(2),R.Y.debug("Error from UPLOAD api",n.t1),an(!1),oe(!1),_n(""),400===(null===n.t1||void 0===n.t1||null===(d=n.t1.response)||void 0===d?void 0:d.status)&&"Invalid assessment!"===(null===n.t1||void 0===n.t1||null===(u=n.t1.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message)?xn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Tn.current()})):(0,_.K)(n.t1,xn,Tn,ye);case 43:return n.prev=43,oe(!1),n.finish(43);case 46:case"end":return n.stop()}}),n,null,[[2,36,43,46],[17,30]])})))}catch(n){de(""),_n(""),oe(!1),R.Y.debug("error in reupload assessment",n)}}()},isDisabledPrimaryButton:ln,onSecondaryModalButtonClickHandler:function(){return qn()},openModal:Fn,setOpenModal:Un,isModalForm:!0,handleCloseRedirect:qn}),(0,O.jsx)(k.Z,{myRef:Tn,titleMessage:bn.titleMessage,descriptionMessage:bn.descriptionMessage,messageType:bn.messageType}),(0,O.jsx)("div",{className:"breadcrumb-wrapper",children:(0,O.jsx)("div",{className:"container",children:(0,O.jsxs)("ul",{className:"breadcrumb",children:[(0,O.jsx)("li",{children:(0,O.jsx)("a",{onClick:function(){return ye("/assessment-list")},style:{cursor:"pointer"},children:"Assessments"})}),be["*"].includes("view")?(0,O.jsx)("li",{children:"View Assessment"}):(0,O.jsx)("li",{children:"Fill Assessment"})]})})}),(0,O.jsx)("section",{children:(0,O.jsxs)("div",{className:"container",children:[(0,O.jsxs)("div",{className:"form-header flex-between preview-assessment-ttl",children:[(0,O.jsx)("h2",{className:"heading2",children:Me.title}),(0,O.jsxs)("div",{className:"flex-between",children:[(0,O.jsxs)("div",{className:"tertiary-btn-blk mr-20",onClick:function(){ye("/assessment-list/instructions")},children:[(0,O.jsx)("span",{className:"preview-icon",children:(0,O.jsx)(g.Z,{})}),(0,O.jsx)("span",{className:"addmore-txt",children:"View Instructions"})]}),(0,O.jsxs)("span",{className:"form-header-right-txt",onClick:function(){An(!En)},children:[(0,O.jsx)("span",{className:"crud-operation",children:(0,O.jsx)(d.Z,{})}),(0,O.jsx)("div",{className:"crud-toggle-wrap assessment-crud-toggle-wrap",style:{display:En?"block":"none"},children:(0,O.jsxs)("ul",{className:"crud-toggle-list",children:[(0,O.jsx)("li",{onClick:function(){return Pn()},children:"Export to Excel"}),be["*"].includes("view")||(0,O.jsx)("li",{onClick:function(){return Un(!0)},children:"Import File"})]})})]})]})]}),(0,O.jsxs)("div",{className:"section-form-sect",children:[(0,O.jsx)("div",{className:"section-tab-blk flex-between preview-tab-blk",children:(0,O.jsx)("div",{className:"section-tab-leftblk",children:(0,O.jsx)(u.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,O.jsxs)(m.Z,{value:ge,onChange:function(e,n){fe(n)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:[null===Me||void 0===Me||null===(V=Me.sections)||void 0===V?void 0:V.map((function(e,n,t){return(0,O.jsx)(c.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,O.jsx)(h.Z,(0,a.Z)({className:"section-tab-item",label:"section ".concat(n+1)},Q(n)))},null===e||void 0===e?void 0:e.uuid)})),Pe&&Ie&&(0,O.jsx)(h.Z,(0,a.Z)({className:"section-tab-item",label:"Results"},Q(null===Me||void 0===Me||null===(K=Me.sections)||void 0===K?void 0:K.length)))]})})})}),se?(0,O.jsx)(D.Z,{}):(0,O.jsxs)("div",{className:"preview-tab-data",children:[null===Me||void 0===Me||null===($=Me.sections)||void 0===$?void 0:$.map((function(e,n){var t,i;return(0,O.jsx)(G,{value:ge,index:n,children:(0,O.jsx)(L,{assessmentQuestionnaire:Ce,disableFillAssessment:nn,setAssessmentQuestionnaire:Ee,section:e,questionnaireTitle:null===Me||void 0===Me?void 0:Me.title,errorQuestion:Ue,setErrorQuestion:qe,errorQuestionUUID:ze,setErrorQuestionUUID:Ve,errors:null!==(t=un[null===e||void 0===e?void 0:e.uuid])&&void 0!==t?t:{},handleFormSubmit:Mn,editMode:Je,setEditMode:We,index:n,totalSections:null===Me||void 0===Me||null===(i=Me.sections)||void 0===i?void 0:i.length})},null===e||void 0===e?void 0:e.uuid)})),Ie&&Pe&&(0,O.jsx)(G,{value:ge,index:null===Me||void 0===Me||null===(J=Me.sections)||void 0===J?void 0:J.length,children:(0,O.jsx)(Y,{chartImages:ee,setChartImages:ne,questionnaireTitle:null===Me||void 0===Me?void 0:Me.title,graphResult:Pe,graphLevelBreakdown:Ie})})]})]})]})})]})}},1300:function(e,n,t){"use strict";var i=t(9823),s=t(9444),o=t(5112),l=t(7962),a=t(6015),r=t(5814),d=(t(2791),t(184));n.Z=function(e){var n,t,u,c,v,p,m=e.title,h=e.info1,g=e.info2,f=e.primaryButtonText,b=e.secondaryButtonText,x=void 0===b?void 0:b,y=e.onPrimaryModalButtonClickHandler,j=e.isDisabledPrimaryButton,Z=void 0!==j&&j,w=e.onSecondaryModalButtonClickHandler,k=e.openModal,T=e.setOpenModal,N=e.isModalForm,M=e.handleCloseRedirect,R=function(e,n){n&&"backdropClick"===n||T(!1)},S=function(){w()},D="";return"object"===typeof(null===m||void 0===m||null===(n=m.props)||void 0===n?void 0:n.children)?null===m||void 0===m||null===(t=m.props)||void 0===t||null===(u=t.children)||void 0===u||u.map((function(e){return D+=e})):D=null===m||void 0===m||null===(c=m.props)||void 0===c?void 0:c.children,(0,d.jsx)(s.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:k,onClose:R,closeAfterTransition:!0,disableEscapeKeyDown:!!N,BackdropComponent:o.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,d.jsx)(l.Z,{in:k,children:(0,d.jsx)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,d.jsxs)("div",{className:"popup-innerblk",children:[(0,d.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=D)||void 0===v?void 0:v.length)<=47?(0,d.jsx)("h2",{className:"popup-ttl heading2",children:m}):(0,d.jsx)(r.Z,{title:D,children:(0,d.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(p=D)||void 0===p?void 0:p.slice(0,50),'..."']})}),(0,d.jsx)("span",{className:"popup-close-icon",onClick:N?M:R,children:(0,d.jsx)(i.Z,{})})]}),(0,d.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,d.jsxs)("div",{className:"popup-content-blk text-center",children:[h,N?(0,d.jsx)("form",{onSubmit:S,children:g}):g,(0,d.jsxs)("div",{className:"form-btn flex-center",children:[x&&(0,d.jsx)("button",{type:"submit",onClick:S,className:"secondary-button mr-10",children:x}),(0,d.jsx)("button",{type:"submit",onClick:function(){y()},disabled:Z,className:"primary-button",children:f})]})]})})]})})})})}},5736:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var i=t(4165),s=t(5861),o=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n,t,s,o,l){var a,r,d,u,c,v,p,m,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:401==n.response.status?(t({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return s.current()})),setTimeout((function(){o("/login")}),3e3)):403===(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)?(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(r=n.response)&&void 0!==r&&null!==(d=r.data)&&void 0!==d&&d.message?null===n||void 0===n||null===(u=n.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return s.current()})),setTimeout((function(){o("/home")}),3e3)):(console.log("Else block"),console.log("route = ",l),console.log("erro in else block",n),t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(v=n.response)&&void 0!==v&&null!==(p=v.data)&&void 0!==p&&p.message?null===n||void 0===n||null===(m=n.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return s.current()})),l&&setTimeout((function(){o(l)}),3e3));case 1:case"end":return e.stop()}}),e)})));return function(n,t,i,s,o){return e.apply(this,arguments)}}()},7806:function(e,n,t){"use strict";t.d(n,{j:function(){return r}});var i=t(4165),s=t(5861),o=t(4677),l=t(4917),a=t(5736),r=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n,t,s,r,d,u){var c,v,p,m,h,g,f,b,x,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.Y.debug("navigate = ",u),e.prev=1,e.next=4,o.H.get(s?d+s+"/download":d,{responseType:"blob"});case 4:c=e.sent,l.Y.debug("resposne from ".concat(n,"  assessment "),c),v=window.URL.createObjectURL(new Blob([c.data])),(p=document.createElement("a")).href=v,m=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),h=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),g=(new Date).getFullYear().toString(),f=(new Date).getHours(),b=(new Date).getMinutes(),x=(new Date).getSeconds(),y=h+m+g+"_"+f+b+x,p.setAttribute("download","".concat(n," - ").concat(y,".xlsx")),document.body.appendChild(p),p.click(),200==c.status&&t({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return r.current()})),e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(1),l.Y.debug("Error from ".concat(n,"  Assessment"),e.t0),(0,a.K)(e.t0,t,r,u),e.abrupt("return",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(n,t,i,s,o,l){return e.apply(this,arguments)}}()},2480:function(){}}]);
//# sourceMappingURL=209.3d31d362.chunk.js.map