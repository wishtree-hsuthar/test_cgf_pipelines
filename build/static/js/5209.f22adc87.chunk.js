(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5209],{6916:function(e,n,t){"use strict";t.r(n),t.d(n,{AlphaNumRegEx:function(){return U},AlphaRegEx:function(){return L},NumericRegEx:function(){return F},default:function(){return K}});var s=t(4942),i=t(4165),o=t(5861),a=t(885),l=t(1413),r=t(5987),d=t(600),u=t(2898),c=t(7194),v=t(6015),p=t(5814),m=t(8588),h=t(7205),f=t(4293),g=t(166),b=t(2791),x=t(1134),y=t(9434),j=t(7689),Z=t(4917),w=t(6218),k=t(4677),T=t(1300),N=t(7659),M=t(5736),S=t(8386),R=t(7806),D=t(2820),E=t(1260),C=t(3623),A=t(550),O=t(1213),I=t(184);A.ZP.register(O.Z),A.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var s=e.ctx;s.save(),s.globalCompositeOperation="destination-over",s.fillStyle=t.color||"#fff",s.fillRect(0,0,e.width,e.height),s.restore()}});var B=function(e){var n,t,s,i,o,r,d=e.graphLevelBreakdown,u=e.chartImages,c=e.setChartImages,v=(0,b.useState)(0),p=(0,a.Z)(v,2),m=p[0],h=p[1],f=(0,b.useRef)(null),g={labels:[["Policy"," Commitment","& Governance"],["Assess","Human Rights Potential"," & Actual Impact"],["Integrate","& Act in Order to Prevent","& Mitigate"],["Track the","Effectiveness of Responses"],"Report","Remedy"],datasets:[{backgroundColor:"#f7a823",borderColor:"#f7a823",data:[null!==(n=d["Policy Commitment & Governance"])&&void 0!==n?n:0,null!==(t=d["Assess Human Rights Potential and Actual Impact"])&&void 0!==t?t:0,null!==(s=d["Integrate and Act in Order to Prevent and Mitigate"])&&void 0!==s?s:0,null!==(i=d["Track the Effectiveness of Responses"])&&void 0!==i?i:0,null!==(o=d.Report)&&void 0!==o?o:0,null!==(r=d.Remedy)&&void 0!==r?r:0],barThickness:50}]};return(0,b.useEffect)((function(){if(console.log("chartImages in chart2:- ",f.current.toBase64Image()),m<3){h((function(e){return e+1}));var e=(0,l.Z)({},u);e.levelBreakdownGraph=f.current.toBase64Image(),c(e)}}),[m]),(0,I.jsx)("div",{style:{height:"400px"},className:"card-wrapper",children:(0,I.jsx)(C.$Q,{ref:f,data:g,options:{animation:!1,responsive:!0,maintainAspectRatio:!1,layout:{},plugins:{legend:{display:!1},title:{text:"HRDD Step Level Breakdown",display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}},x:{grid:{display:!1},alignToPixels:"center",align:"start"}}}})})};A.ZP.register(O.Z),A.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var s=e.ctx;s.save(),s.globalCompositeOperation="destination-over",s.fillStyle=t.color||"#fff",s.fillRect(0,0,e.width,e.height),s.restore()}});var Y=function(e){var n,t,s,i,o,a=e.graphResult,r=e.questionnaireTitle,d=e.chartImages,u=e.setChartImages,c=(0,b.useRef)(null),v=function(){switch(r){case"HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)":return"HRDD HQ Level Result";case"GLOBAL OPERATION HRDD REQUIREMENTS (SELECTED OPERATION)":return"Global Operation HRDD Result";case"COUNTRY- OPERATION HRDD REQUIREMENTS":return"Country Operation HRDD Result";default:return"HRDD Result"}},p={labels:["Not Initiated","Launched","Established","Leadership","General Result"],datasets:[{label:v(),backgroundColor:"#3498db",borderColor:"#3498db",data:[null!==(n=a["Not Initiated"])&&void 0!==n?n:0,null!==(t=a.Launched)&&void 0!==t?t:0,null!==(s=a.Established)&&void 0!==s?s:0,null!==(i=a.Leadership)&&void 0!==i?i:0,null!==(o=a.General)&&void 0!==o?o:0],barThickness:25}]};return(0,b.useEffect)((function(){if(console.log("chartImages in chart1:- ",d.resultsGraph),void 0===d.resultsGraph){console.log("inside condition");var e=(0,l.Z)({},d);e.resultsGraph=c.current.toBase64Image(),u(e)}})),(0,I.jsx)("div",{style:{height:"400px"},className:"preview-card-wrapper",children:(0,I.jsx)(C.$Q,{ref:c,data:p,options:{animation:!1,indexAxis:"y",responsive:!0,maintainAspectRatio:!1,layout:{padding:10},plugins:{legend:{display:!1},title:{text:v(),display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return"    "+e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},alignToPixels:"center",align:"start"},x:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}}}}})})},_=function(e){var n=e.graphResult,t=e.graphLevelBreakdown,s=e.questionnaireTitle,i=e.chartImages,o=e.setChartImages;return console.log("inside charts"),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Y,{graphResult:n,questionnaireTitle:s,chartImages:i,setChartImages:o}),(0,I.jsx)(B,{graphLevelBreakdown:t,chartImages:i,setChartImages:o})]})},P=["children","value","index"],H=b.lazy((function(){return t.e(4747).then(t.bind(t,4747))})),L=/^[a-zA-Z ]*$/,F=/^[0-9]+$/i,U=/^[a-z0-9 ]+$/i,q=t(9704);function G(e){var n=e.children,t=e.value,s=e.index,i=(0,r.Z)(e,P);return(0,I.jsx)("div",(0,l.Z)((0,l.Z)({role:"tabpanel",hidden:t!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s)},i),{},{children:t===s&&(0,I.jsx)(v.Z,{children:n})}))}function Q(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var z={comment:{required:"Enter the reason for rejecting assessment.",minLength:"Minimum 3 character required."}};var K=function(){var e,n,t,r,C,A,O,B,Y,P,K,V,$,J;(0,E.j)("Fill Assessment");var W=(0,b.useState)({}),X=(0,a.Z)(W,2),ee=X[0],ne=X[1],te=(0,b.useState)(!1),se=(0,a.Z)(te,2),ie=se[0],oe=se[1],ae=(0,b.useState)(""),le=(0,a.Z)(ae,2),re=le[0],de=le[1],ue=(0,x.cI)({}),ce=ue.handleSubmit,ve=ue.control,pe=ue.setValue,me=(0,b.useState)(0),he=(0,a.Z)(me,2),fe=he[0],ge=he[1],be=(0,j.UO)(),xe=(0,y.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userObj})),ye=(0,j.s0)(),je=(0,b.useState)({}),Ze=(0,a.Z)(je,2),we=Ze[0],ke=Ze[1],Te=(0,b.useState)({}),Ne=(0,a.Z)(Te,2),Me=Ne[0],Se=Ne[1],Re=(0,b.useState)({}),De=(0,a.Z)(Re,2),Ee=De[0],Ce=De[1],Ae=(0,b.useState)(null),Oe=(0,a.Z)(Ae,2),Ie=Oe[0],Be=Oe[1],Ye=(0,b.useState)(null),_e=(0,a.Z)(Ye,2),Pe=_e[0],He=_e[1],Le=(0,b.useState)(""),Fe=(0,a.Z)(Le,2),Ue=Fe[0],qe=Fe[1],Ge=(0,b.useState)(""),Qe=(0,a.Z)(Ge,2),ze=Qe[0],Ke=Qe[1],Ve=(0,b.useState)(!1),$e=(0,a.Z)(Ve,2),Je=$e[0],We=$e[1],Xe=(0,b.useState)(!1),en=(0,a.Z)(Xe,2),nn=en[0],tn=en[1],sn=(0,b.useState)(!1),on=(0,a.Z)(sn,2),an=on[0],ln=on[1],rn=(0,b.useState)(!1),dn=(0,a.Z)(rn,2),un=dn[0],cn=dn[1],vn=(0,b.useState)({}),pn=(0,a.Z)(vn,2),mn=pn[0],hn=pn[1],fn=(0,b.useState)(!1),gn=(0,a.Z)(fn,2),bn=gn[0],xn=gn[1],yn=(0,b.useState)(!1),jn=(0,a.Z)(yn,2),Zn=jn[0],wn=jn[1],kn=(0,D.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),Tn=(0,a.Z)(kn,2),Nn=Tn[0],Mn=Tn[1],Sn=function(e,n){Z.Y.debug("error occured in ",n),(0,M.K)(e,Mn,In,ye,"/assessment-list")},Rn=(0,b.useState)(!1),Dn=(0,a.Z)(Rn,2),En=Dn[0],Cn=Dn[1],An=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,s,o,a){var r,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.get("".concat(w.ZW,"/").concat(n),{signal:a.signal});case 3:u=e.sent,o&&Se((0,l.Z)({},u.data)),t&&s&&ge(null===u||void 0===u||null===(r=u.data)||void 0===r||null===(d=r.sections)||void 0===d?void 0:d.length),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=12;break}return e.abrupt("return");case 12:Z.Y.debug("error from fetch questionnaire",e.t0),(0,M.K)(e.t0,Mn,In,ye);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t,s,i,o){return e.apply(this,arguments)}}(),On=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var s,o,a,r,d,u,c,v,p,m,h,f,g,b,x,y,j,T;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe(!0),e.next=4,k.H.get("".concat(w.IG).concat(be.id),{signal:t.signal});case 4:b=e.sent,oe(!1),Z.Y.debug("response from fetch assessment",b),We((null===xe||void 0===xe?void 0:xe._id)===(null===b||void 0===b||null===(s=b.data)||void 0===s||null===(o=s.assignedOperationMember)||void 0===o?void 0:o._id)),n&&ke((0,l.Z)({},b.data)),n&&Ce((0,l.Z)({},b.data.answers)),n&&(null===b||void 0===b||null===(a=b.data)||void 0===a?void 0:a.graphResult)&&He((0,l.Z)({},null===b||void 0===b||null===(r=b.data)||void 0===r?void 0:r.graphResult)),n&&(null===b||void 0===b||null===(d=b.data)||void 0===d?void 0:d.graphLevelBreakdown)&&Be((0,l.Z)({},null===b||void 0===b||null===(u=b.data)||void 0===u?void 0:u.graphLevelBreakdown)),An(null===b||void 0===b||null===(c=b.data)||void 0===c?void 0:c.questionnaireId,null===b||void 0===b||null===(v=b.data)||void 0===v?void 0:v.graphResult,null===b||void 0===b||null===(p=b.data)||void 0===p?void 0:p.graphLevelBreakdown,n,t),xn((null===b||void 0===b||null===(m=b.data)||void 0===m?void 0:m.isSubmitted)&&!be["*"].includes("view")),Cn(xe._id===(null===b||void 0===b||null===(h=b.data)||void 0===h||null===(f=h.assignedOperationMember)||void 0===f?void 0:f._id)&&!be["*"].includes("view")&&"Pending"==(null===b||void 0===b||null===(g=b.data)||void 0===g?void 0:g.assessmentStatus)),e.next=25;break;case 17:if(e.prev=17,e.t0=e.catch(0),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=21;break}return e.abrupt("return");case 21:401===(null===e.t0||void 0===e.t0||null===(x=e.t0.response)||void 0===x?void 0:x.status)&&(n&&Mn({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(function(){return In.current()})),setTimeout((function(){ye("/login")}),3e3)),400===(null===e.t0||void 0===e.t0||null===(y=e.t0.response)||void 0===y?void 0:y.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j||null===(T=j.data)||void 0===T?void 0:T.message)&&(n&&Mn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return In.current()})),setTimeout((function(){ye("/assessment-list")}),3e3)),oe(!1),Z.Y.debug("error from fetch assessment",e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(n,t){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){var e=!0,n=new AbortController;return On(e,n),function(){e=!1,n.abort()}}),[un]);var In=(0,b.useRef)(),Bn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,s){var o,a,r,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(n?w.FU+be.id:w.FU+be.id+"/submit",(0,l.Z)({},s));case 3:201==(o=e.sent).status&&(Pe&&cn(!un),ne({}),!t&&Mn({titleMessage:"Success",descriptionMessage:null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message,messageType:"success"},(function(){return In.current()})),!t&&setTimeout((function(){!n&&ye("/assessment-list"),tn(!1)}),2e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),tn(!1),400===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&(console.log("in invalid assessment"),Mn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return In.current()})),setTimeout((function(){ye("/assessment-list")}),3e3));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t,s){return e.apply(this,arguments)}}(),Yn=function(e,n){var t;e.preventDefault();var i={},o=[],a=(0,l.Z)({},Ee);null===Me||void 0===Me||null===(t=Me.sections)||void 0===t||t.map((function(e,t){var r,d,u=null!==(r=mn[null===e||void 0===e?void 0:e.uuid])&&void 0!==r?r:{},c=null!==(d=Ee[null===e||void 0===e?void 0:e.uuid])&&void 0!==d?d:{};if("table"===(null===e||void 0===e?void 0:e.layout)){var v=function(e){var n={};return e.forEach((function(e){n[e.uuid]=e})),n}(null===e||void 0===e?void 0:e.columnValues);Z.Y.debug("curren assessment Questionnaire:- ",c),Z.Y.debug("transformed column values:- ",v),Object.keys(c).forEach((function(i){var r,d=null===i||void 0===i?void 0:i.split("_")[1];null===e||void 0===e||null===(r=e.columnValues)||void 0===r||r.forEach((function(i){var r,v,p,m;"prefilled"===i.columnType||!1!==n||null===i||void 0===i||!i.isRequired||c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]&&0!==c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)].length?"dropdown"!==i.columnType||!c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]||null!==(r=i.options)&&void 0!==r&&r.includes(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?"date"===i.columnType&&c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]&&isNaN(new Date(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]).getTime())?(Z.Y.debug("Fetched value not present in column dropdown options"),u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)],'" is not valid date format.\n\n\n                            '),o.push(t),Z.Y.debug("sections = ",o),a=(0,l.Z)((0,l.Z)({},a),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,l.Z)((0,l.Z)({},a[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},"".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d),""))))):"prefilled"!==i.columnType&&"alphabets"==(null===i||void 0===i?void 0:i.validation)&&(null===(v=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===v?void 0:v.length)>0&&!L.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is an alphabetic field.",Z.Y.debug("in table alphabets only"),o.push(t)):"prefilled"!==(null===i||void 0===i?void 0:i.columnType)&&"numeric"==(null===i||void 0===i?void 0:i.validation)&&(null===(p=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===p?void 0:p.length)>0&&!F.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is a numeric field.",Z.Y.debug("in table numeric only"),o.push(t)):"prefilled"!==i.columnType&&"alphanumeric"==(null===i||void 0===i?void 0:i.validation)&&(null===(m=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===m?void 0:m.length)>0&&!U.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]=" This is an alphanumeric field.",Z.Y.debug("in table alphanumeric only"),o.push(t)):delete u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]:(Z.Y.debug("Fetched value not present in column dropdown options"),u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)],'" is not part of above list. Please select valid option among listed values from list.\n\n\n                            '),o.push(t),Z.Y.debug("sections = ",o),a=(0,l.Z)((0,l.Z)({},a),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,l.Z)((0,l.Z)({},a[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},"".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d),"")))),n||(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is required field",o.push(t))):(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is required field",o.push(t))}))})),Z.Y.debug("Section errors in table layout ",u)}else null===e||void 0===e||e.questions.forEach((function(i){if(!i.isRequired||c[null===i||void 0===i?void 0:i.uuid]&&0!==c[null===i||void 0===i?void 0:i.uuid].length||!1!==n)if("radioGroup"!=i.inputType&&"dropdown"!=i.inputType||!c[null===i||void 0===i?void 0:i.uuid]||i.options.includes(c[null===i||void 0===i?void 0:i.uuid]))if("checkbox"==i.inputType&&c[null===i||void 0===i?void 0:i.uuid]){var r,d=c[null===i||void 0===i?void 0:i.uuid];"string"===typeof d&&(d=c[null===i||void 0===i?void 0:i.uuid].split(",")),Z.Y.debug("error from checkbox question"),Z.Y.debug("section no",t),Z.Y.debug("section no",o),Z.Y.debug("answer for checkbox",d);var v=i.options,p=d&&(null===(r=d)||void 0===r?void 0:r.filter((function(e){return null===v||void 0===v?void 0:v.includes(e)})));0===p.length?(u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),o.push(t)):delete u[null===i||void 0===i?void 0:i.uuid],a=(0,l.Z)((0,l.Z)({},a),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,l.Z)((0,l.Z)({},a[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,p))))}else"alphabets"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===L.test(c[null===i||void 0===i?void 0:i.uuid])?(Z.Y.debug("error from numric if elese"),u[null===i||void 0===i?void 0:i.uuid]="This is an alphabetic field",o.push(t)):"numeric"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===F.test(c[null===i||void 0===i?void 0:i.uuid])?(u[null===i||void 0===i?void 0:i.uuid]="This is a numeric field",o.push(t)):"alphanumeric"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===U.test(c[null===i||void 0===i?void 0:i.uuid])?(u[null===i||void 0===i?void 0:i.uuid]=" This is an alphanumeric field",o.push(t)):"date"===i.inputType&&c[null===i||void 0===i?void 0:i.uuid]&&isNaN(new Date(c[null===i||void 0===i?void 0:i.uuid]).getTime())?(Z.Y.debug("error from date question"),Z.Y.debug("section no",t),Z.Y.debug("section no",o),u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not valid date.\n                        '),a=(0,l.Z)((0,l.Z)({},a),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,l.Z)((0,l.Z)({},a[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,"")))),o.push(t)):delete u[null===i||void 0===i?void 0:i.uuid];else Z.Y.debug("error from radio group question"),Z.Y.debug("section no",t),Z.Y.debug("section no",o),u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),a=(0,l.Z)((0,l.Z)({},a),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,l.Z)((0,l.Z)({},a[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,"")))),o.push(t);else Z.Y.debug("error from required"),Z.Y.debug("section no",t),Z.Y.debug("answer in required",c[null===i||void 0===i?void 0:i.uuid]),u[null===i||void 0===i?void 0:i.uuid]="This is required field",o.push(t)}));ge(o.length>0?o[0]:0),Z.Y.debug("Section errors in  ",u),Z.Y.debug("Section : ",o),i[null===e||void 0===e?void 0:e.uuid]=(0,l.Z)({},u)})),Ce((0,l.Z)({},a)),function(e){hn((0,l.Z)({},e))}(i),Object.keys(i).every((function(e){return 0===Object.keys(i[e]).length}))&&(tn(!0),Bn(n,void 0,a))},_n=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(w.zJ+be.id+"/decline",{comment:n.comment});case 3:t=e.sent,Z.Y.debug("Response from backend for decline assessment",t),201==t.status&&(Mn({titleMessage:"Success",descriptionMessage:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message,messageType:"success"},(function(){return In.current()})),setTimeout((function(){ye("/assessment-list")}),3e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Sn(e.t0,"onSubmitReason");case 11:Cn(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),Pn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(w.XI+be.id+"/accept");case 3:201==(n=e.sent).status&&(Mn({titleMessage:"Success",descriptionMessage:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message,messageType:"success"},(function(){return In.current()})),Cn(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Sn(e.t0,"onAcceptAssessments"),Cn(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Hn=(0,b.useState)(!1),Ln=(0,a.Z)(Hn,2),Fn=Ln[0],Un=Ln[1],qn=function(){ye("/assessment-list")},Gn=(0,b.useState)(""),Qn=(0,a.Z)(Gn,2),zn=Qn[0],Kn=Qn[1],Vn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t,s,o,a,r,d,u,c,v,p,m,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ie||!Pe){e.next=21;break}return e.next=4,k.H.post(w.j5+be.id+"/download",(0,l.Z)({},ee),{responseType:"blob"});case 4:n=e.sent,t=window.URL.createObjectURL(new Blob([n.data])),(s=document.createElement("a")).href=t,o=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),a=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),r=(new Date).getHours(),d=(new Date).getFullYear().toString(),u=(new Date).getMinutes(),c=(new Date).getSeconds(),v=o+a+d+"_"+r+u+c,s.setAttribute("download","Assessment - ".concat(v,".xlsx")),document.body.appendChild(s),s.click(),201==n.status&&Mn({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return In.current()})),e.next=23;break;case 21:return e.next=23,(0,R.j)("Assessment",Mn,be.id,In,w.j5,ye);case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),400===(null===e.t0||void 0===e.t0||null===(p=e.t0.response)||void 0===p?void 0:p.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.message)?(Mn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return In.current()})),setTimeout((function(){ye("/assessment-list")}),3e3)):(0,M.K)(e.t0,Mn,In,ye);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(){return e.apply(this,arguments)}}(),$n=(0,b.useState)(!1),Jn=(0,a.Z)($n,2),Wn=Jn[0],Xn=Jn[1],et=function(){de(""),Kn(""),oe(!1),Xn(!1)},nt=function(){var e,n;(Z.Y.debug("Inside add Table assessment value function"),Me&&(null===(e=Object.keys(Me))||void 0===e?void 0:e.length)>0)&&(null===Me||void 0===Me||null===(n=Me.sections)||void 0===n||n.forEach((function(e){if("table"===(null===e||void 0===e?void 0:e.layout)&&(!Ee[null===e||void 0===e?void 0:e.uuid]||0===Object.keys(Ee[null===e||void 0===e?void 0:e.uuid]).length)){var n=(0,l.Z)({},Ee);n[null===e||void 0===e?void 0:e.uuid]={},null===e||void 0===e||e.rowValues.forEach((function(t){var s;null===e||void 0===e||null===(s=e.columnValues)||void 0===s||s.forEach((function(s){n[null===e||void 0===e?void 0:e.uuid]["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(null===t||void 0===t?void 0:t.uuid)]=""}))})),Ce(n)}})))};return nt(),console.log("charts:- ",ee),(0,I.jsxs)("div",{className:"page-wrapper",onClick:function(){return Fn&&Un(!1)},children:[(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Accept/Reject Assessment "}),info1:(0,I.jsxs)("p",{className:"accrej-txtwrap",children:[(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Assessment title ",(0,I.jsx)("span",{children:":"})]}),(null===we||void 0===we||null===(e=we.title)||void 0===e?void 0:e.length)<=36?(0,I.jsx)("span",{className:"accrej-desc",children:null===we||void 0===we?void 0:we.title}):(0,I.jsx)(p.Z,{title:null===we||void 0===we?void 0:we.title,children:(0,I.jsxs)("span",{className:"accrej-desc",children:[" ",null===we||void 0===we||null===(n=we.title)||void 0===n?void 0:n.slice(0,39),"..."]})})]}),(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Assessment type ",(0,I.jsx)("span",{children:":"})]}),(null===we||void 0===we||null===(t=we.assessmentType)||void 0===t?void 0:t.length)<=36?(0,I.jsx)("span",{className:"accrej-desc",children:null===we||void 0===we?void 0:we.assessmentType}):(0,I.jsx)(p.Z,{title:null===we||void 0===we?void 0:we.assessmentType,children:(0,I.jsxs)("span",{className:"accrej-desc",children:[" ",null===we||void 0===we||null===(r=we.assessmentType)||void 0===r?void 0:r.slice(0,39),"..."]})})]}),(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Member company ",(0,I.jsx)("span",{children:":"})]}),(null===we||void 0===we||null===(C=we.assignedMember)||void 0===C||null===(A=C.companyName)||void 0===A?void 0:A.length)<=36?(0,I.jsx)("span",{className:"accrej-desc",children:null===we||void 0===we||null===(O=we.assignedMember)||void 0===O?void 0:O.companyName}):(0,I.jsx)(p.Z,{title:null===we||void 0===we||null===(B=we.assignedMember)||void 0===B?void 0:B.companyName,children:(0,I.jsxs)("span",{className:"accrej-desc",children:[" ",null===we||void 0===we||null===(Y=we.assignedMember)||void 0===Y||null===(P=Y.companyName)||void 0===P?void 0:P.slice(0,39),"..."]})})]}),(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Due date ",(0,I.jsx)("span",{children:":"})]}),(0,I.jsx)("span",{className:"accrej-desc",children:new Date(new Date(null===we||void 0===we?void 0:we.dueDate).setDate(new Date(null===we||void 0===we?void 0:we.dueDate).getDate()-1)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),"Click \u201cAccept\u201d if you want to fill out the assessment, or else provide a reason and reject the assessment, if you don\u2019t want to continue with it."]}),info2:(0,I.jsx)(x.Qr,{name:"comment",control:ve,rules:{required:!0,minLength:3},render:function(e){var n=e.field,t=e.fieldState.error;return(0,I.jsx)(m.Z,(0,l.Z)((0,l.Z)({multiline:!0},n),{},{onBlur:function(e){var n;return pe("comment",null===(n=e.target.value)||void 0===n?void 0:n.trim())},inputProps:{maxLength:250},className:"input-textarea ".concat(t&&"input-textarea-error"),style:{marginBottom:"10px"},id:"outlined-basic",placeholder:"Enter reason",helperText:t?z.comment[t.type]:" ",variant:"outlined"}))}}),primaryButtonText:"Accept",secondaryButtonText:"Reject",onPrimaryModalButtonClickHandler:function(){Pn()},onSecondaryModalButtonClickHandler:ce(_n),openModal:En,setOpenModal:Cn,isModalForm:!0,handleCloseRedirect:qn}),(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Re-open Assessment ?"}),info1:" ",info2:(0,I.jsx)("p",{className:"mb-30",children:"Are you sure you want to edit the given submitted assessment?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:function(){return Bn(!0,!0,Ee),void xn(!1)},onSecondaryModalButtonClickHandler:function(){return xn(!1),void ye("/assessment-list")},openModal:bn,setOpenModal:xn,isModalForm:!0,handleCloseRedirect:qn}),(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Data Upload"}),info1:" ",info2:(0,I.jsxs)("div",{className:"upload-file-wrap",children:[(0,I.jsx)(h.Z,{variant:"contained",component:"label",className:"upload-file-btn",children:(0,I.jsxs)("div",{className:re?"upload-file-blk selected-file-blk":"upload-file-blk",children:[(0,I.jsx)("input",{type:"file",hidden:!0,accept:".xls, .xlsx",onChange:function(e){Kn(e.target.files[0].name),de(e.target.files[0])}}),(0,I.jsx)("span",{className:"upload-icon",children:(0,I.jsx)(d.Z,{})}),(0,I.jsx)("span",{className:"file-upload-txt",children:"Click here to choose file (.xlsx)"})]})}),(0,I.jsx)("p",{className:"select-filename",children:zn})]}),primaryButtonText:"Upload",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:function(){return function(){oe(!0);try{if(!re)return oe(!1),oe(!1),Mn({titleMessage:"error",descriptionMessage:"Please select excel file",messageType:"error"},(function(){return In.current()}));var e=new FileReader;if(e.readAsDataURL(re),"application/vnd.ms-excel"!==re.type&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==re.type)return de(""),Kn(""),oe(!1),Mn({titleMessage:"error",descriptionMessage:"Invalid file type Please uplaod excel file",messageType:"error"},(function(){return In.current()}));e.onloadend=(0,o.Z)((0,i.Z)().mark((function n(){var t,s,o,a,l,r,d,u,c;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.result,s=q.AES.encrypt(t,w.kc).toString(),n.prev=2,ln(!0),n.next=6,k.H.post(w.fh+"".concat(be.id,"/upload"),{encryptedFile:s});case 6:if(201!=(o=n.sent).status){n.next=35;break}if(oe(!1),de(""),Kn(""),ln(!1),Xn(!1),Mn({titleMessage:"Success",descriptionMessage:"Successfully imported excel file!",messageType:"success"},(function(){return In.current()})),Ce(o.data.answers),nt(),!o.data.containsErrors){n.next=35;break}return n.prev=17,n.next=20,k.H.get(w.fh+"".concat(o.data.correctionId,"/corrections"),{responseType:"blob"});case 20:a=n.sent,l=window.URL.createObjectURL(new Blob([a.data])),(r=document.createElement("a")).href=l,r.setAttribute("download","Corrections - ".concat((new Date).toLocaleString("en"),".xlsx")),document.body.appendChild(r),r.click(),wn(!0),Mn({titleMessage:"error",descriptionMessage:(0,I.jsxs)("p",{children:["Excel file has missing/invalid fields.Please check"," ",(0,I.jsx)("b",{children:"Corrections sheet"}),' attached with it".']}),messageType:"error"},(function(){return In.current()})),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(17),oe(!1),Z.Y.debug("Error from corections doc download",n.t0);case 35:n.next=44;break;case 37:n.prev=37,n.t1=n.catch(2),Z.Y.debug("Error from UPLOAD api",n.t1),ln(!1),oe(!1),Kn(""),400===(null===n.t1||void 0===n.t1||null===(d=n.t1.response)||void 0===d?void 0:d.status)&&"Invalid assessment!"===(null===n.t1||void 0===n.t1||null===(u=n.t1.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message)?Mn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return In.current()})):(0,M.K)(n.t1,Mn,In,ye);case 44:return n.prev=44,oe(!1),n.finish(44);case 47:case"end":return n.stop()}}),n,null,[[2,37,44,47],[17,31]])})))}catch(n){de(""),Kn(""),oe(!1),Z.Y.debug("error in reupload assessment",n)}}()},isDisabledPrimaryButton:an,onSecondaryModalButtonClickHandler:function(){return et()},openModal:Wn,setOpenModal:Xn,isModalForm:!0,handleCloseRedirect:et}),(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Alert"}),info1:" ",info2:(0,I.jsx)("p",{className:"mb-30",children:"Please open the correction sheet, make necessary changes in the imported excel sheet and import again."}),openModal:Zn,setOpenModal:wn,isModalForm:!0,primaryButtonText:"OK",onPrimaryModalButtonClickHandler:function(){return wn(!1)},handleCloseRedirect:function(){return wn(!1)}}),(0,I.jsx)(N.Z,{myRef:In,titleMessage:Nn.titleMessage,descriptionMessage:Nn.descriptionMessage,messageType:Nn.messageType}),(0,I.jsx)("div",{className:"breadcrumb-wrapper",children:(0,I.jsx)("div",{className:"container",children:(0,I.jsxs)("ul",{className:"breadcrumb",children:[(0,I.jsx)("li",{children:(0,I.jsx)("a",{onClick:function(){return ye("/assessment-list")},style:{cursor:"pointer"},children:"Assessments"})}),be["*"].includes("view")?(0,I.jsx)("li",{children:"View Assessment"}):(0,I.jsx)("li",{children:"Fill Assessment"})]})})}),(0,I.jsx)("section",{children:(0,I.jsxs)("div",{className:"container",children:[(0,I.jsxs)("div",{className:"form-header flex-between preview-assessment-ttl",children:[(0,I.jsx)("h2",{className:"heading2",children:Me.title}),(0,I.jsxs)("div",{className:"flex-between",children:[(0,I.jsxs)("div",{className:"tertiary-btn-blk mr-20",onClick:function(){ye("/assessment-list/instructions")},children:[(0,I.jsx)("span",{className:"preview-icon",children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)("span",{className:"addmore-txt",children:"View Instructions"})]}),(0,I.jsxs)("span",{className:"form-header-right-txt",onClick:function(){Un(!Fn)},children:[(0,I.jsx)("span",{className:"crud-operation",children:(0,I.jsx)(u.Z,{})}),(0,I.jsx)("div",{className:"crud-toggle-wrap assessment-crud-toggle-wrap",style:{display:Fn?"block":"none"},children:(0,I.jsxs)("ul",{className:"crud-toggle-list",children:[(0,I.jsx)("li",{onClick:function(){return Vn()},children:"Export to Excel"}),be["*"].includes("view")||(0,I.jsx)("li",{onClick:function(){return Xn(!0)},children:"Import File"})]})})]})]})]}),(0,I.jsxs)("div",{className:"section-form-sect",children:[(0,I.jsx)("div",{className:"section-tab-blk flex-between preview-tab-blk",children:(0,I.jsx)("div",{className:"section-tab-leftblk",children:(0,I.jsx)(v.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,I.jsxs)(f.Z,{value:fe,onChange:function(e,n){ge(n)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:[null===Me||void 0===Me||null===(K=Me.sections)||void 0===K?void 0:K.map((function(e,n,t){return(0,I.jsx)(p.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,I.jsx)(g.Z,(0,l.Z)({className:"section-tab-item",label:"section ".concat(n+1)},Q(n)))},null===e||void 0===e?void 0:e.uuid)})),Pe&&Ie&&(0,I.jsx)(g.Z,(0,l.Z)({className:"section-tab-item",label:"Results"},Q(null===Me||void 0===Me||null===(V=Me.sections)||void 0===V?void 0:V.length)))]})})})}),ie?(0,I.jsx)(S.Z,{}):(0,I.jsxs)("div",{className:"preview-tab-data",children:[null===Me||void 0===Me||null===($=Me.sections)||void 0===$?void 0:$.map((function(e,n){var t,s;return(0,I.jsx)(G,{value:fe,index:n,children:(0,I.jsx)(H,{assessmentQuestionnaire:Ee,disableFillAssessment:nn,setAssessmentQuestionnaire:Ce,section:e,questionnaireTitle:null===Me||void 0===Me?void 0:Me.title,errorQuestion:Ue,setErrorQuestion:qe,errorQuestionUUID:ze,setErrorQuestionUUID:Ke,errors:null!==(t=mn[null===e||void 0===e?void 0:e.uuid])&&void 0!==t?t:{},handleFormSubmit:Yn,editMode:Je,setEditMode:We,index:n,totalSections:null===Me||void 0===Me||null===(s=Me.sections)||void 0===s?void 0:s.length})},null===e||void 0===e?void 0:e.uuid)})),Ie&&Pe&&(0,I.jsx)(G,{value:fe,index:null===Me||void 0===Me||null===(J=Me.sections)||void 0===J?void 0:J.length,children:(0,I.jsx)(_,{chartImages:ee,setChartImages:ne,questionnaireTitle:null===Me||void 0===Me?void 0:Me.title,graphResult:Pe,graphLevelBreakdown:Ie})})]})]})]})})]})}},1300:function(e,n,t){"use strict";var s=t(9823),i=t(9444),o=t(5112),a=t(7962),l=t(6015),r=t(5814),d=(t(2791),t(184));n.Z=function(e){var n,t,u,c,v,p,m=e.title,h=e.info1,f=e.info2,g=e.primaryButtonText,b=e.secondaryButtonText,x=void 0===b?void 0:b,y=e.onPrimaryModalButtonClickHandler,j=e.isDisabledPrimaryButton,Z=void 0!==j&&j,w=e.onSecondaryModalButtonClickHandler,k=e.openModal,T=e.setOpenModal,N=e.isModalForm,M=e.handleCloseRedirect,S=function(e,n){n&&"backdropClick"===n||T(!1)},R=function(){w()},D="";return"object"===typeof(null===m||void 0===m||null===(n=m.props)||void 0===n?void 0:n.children)?null===m||void 0===m||null===(t=m.props)||void 0===t||null===(u=t.children)||void 0===u||u.map((function(e){return D+=e})):D=null===m||void 0===m||null===(c=m.props)||void 0===c?void 0:c.children,(0,d.jsx)(i.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:k,onClose:S,closeAfterTransition:!0,disableEscapeKeyDown:!!N,BackdropComponent:o.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,d.jsx)(a.Z,{in:k,children:(0,d.jsx)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,d.jsxs)("div",{className:"popup-innerblk",children:[(0,d.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=D)||void 0===v?void 0:v.length)<=47?(0,d.jsx)("h2",{className:"popup-ttl heading2",children:m}):(0,d.jsx)(r.Z,{title:D,children:(0,d.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(p=D)||void 0===p?void 0:p.slice(0,50),'..."']})}),(0,d.jsx)("span",{className:"popup-close-icon",onClick:N?M:S,children:(0,d.jsx)(s.Z,{})})]}),(0,d.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,d.jsxs)("div",{className:"popup-content-blk text-center",children:[h,N?(0,d.jsx)("form",{onSubmit:R,children:f}):f,(0,d.jsxs)("div",{className:"form-btn flex-center",children:[x&&(0,d.jsx)("button",{type:"submit",onClick:R,className:"secondary-button mr-10",children:x}),(0,d.jsx)("button",{type:"submit",onClick:function(){y()},disabled:Z,className:"primary-button",children:g})]})]})})]})})})})}},7659:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(2131),i=t(5130),o=t(2791),a=t(5985),l=(t(5462),t(184));var r=function(e){e.titleMessage;var n=e.descriptionMessage,t=e.messageType,r=e.myRef,d=(e.key,function(){(0,a.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),u=function(){return(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,l.jsx)(s.Z,{}),"error"===t&&(0,l.jsx)(i.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:n})})]})};return(0,o.useEffect)((function(){r.current=d}),[d,r]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(a.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},5736:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var s=t(4165),i=t(5861),o=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i,o,a){var l,r,d,u,c,v,p,m,h,f,g=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=g.length>5&&void 0!==g[5]?g[5]:0,401==n.response.status?(t({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return i.current()})),setTimeout((function(){o("/login")}),3e3)):403===(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.status)?(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(d=n.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&u.message?null===n||void 0===n||null===(c=n.response)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),setTimeout((function(){o("/home")}),3e3)):(console.log("Else block"),console.log("route = ",a),console.log("erro in else block",n),t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(p=n.response)&&void 0!==p&&null!==(m=p.data)&&void 0!==m&&m.message?null===n||void 0===n||null===(h=n.response)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),a&&setTimeout((function(){o(a,{state:r})}),3e3));case 2:case"end":return e.stop()}}),e)})));return function(n,t,s,i,o){return e.apply(this,arguments)}}()},7806:function(e,n,t){"use strict";t.d(n,{j:function(){return r}});var s=t(4165),i=t(5861),o=t(4677),a=t(4917),l=t(5736),r=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i,r,d,u){var c,v,p,m,h,f,g,b,x,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.Y.debug("navigate = ",u),e.prev=1,e.next=4,o.H.get(i?d+i+"/download":d,{responseType:"blob"});case 4:c=e.sent,a.Y.debug("resposne from ".concat(n,"  assessment "),c),v=window.URL.createObjectURL(new Blob([c.data])),(p=document.createElement("a")).href=v,m=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),h=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),f=(new Date).getFullYear().toString(),g=(new Date).getHours(),b=(new Date).getMinutes(),x=(new Date).getSeconds(),y=h+m+f+"_"+g+b+x,p.setAttribute("download","".concat(n," - ").concat(y,".xlsx")),document.body.appendChild(p),p.click(),200==c.status&&t({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return r.current()})),e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(1),a.Y.debug("Error from ".concat(n,"  Assessment"),e.t0),(0,l.K)(e.t0,t,r,u),e.abrupt("return",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(n,t,s,i,o,a){return e.apply(this,arguments)}}()},2820:function(e,n,t){"use strict";var s=t(885),i=t(2791);n.Z=function(e){var n=(0,i.useState)(e),t=(0,s.Z)(n,2),o=t[0],a=t[1],l=(0,i.useRef)([]);(0,i.useEffect)((function(){l.current.forEach((function(e){return e(o)})),l.current=[]}),[o]);return[o,function(e,n){a(e),n&&"function"===typeof n&&l.current.push(n)}]}},1260:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var s=t(2791),i=function(e){return(0,s.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}},2480:function(){}}]);
//# sourceMappingURL=5209.f22adc87.chunk.js.map