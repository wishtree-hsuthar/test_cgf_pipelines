{"version":3,"file":"static/js/6657.66113b45.chunk.js","mappings":"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","sources":["Pages/SetPassword.js"],"sourcesContent":["import { yupResolver } from \"@hookform/resolvers/yup\";\nimport OutlinedInput from \"@mui/material/OutlinedInput\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { Logger } from \"../Logger/Logger\";\nimport { CONFIRM_PASSWORD, SET_PASSWORD_VERIFY_TOKEN } from \"../api/Url\";\nimport { publicAxios } from \"../api/axios\";\nimport Toaster from \"../components/Toaster\";\nimport CustomInputAdornment from \"../utils/CustomInputAdornment\";\nimport useCallbackState from \"../utils/useCallBackState\";\nimport { useDocumentTitle } from \"../utils/useDocumentTitle\";\nimport Slider from \"./Slider\";\nconst schema = yup.object().shape({\n  password: yup\n    .string()\n    .required(\"Enter the new password\")\n    .matches(\n      /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{6,15}$/,\n      \"Password must contain at least 6 characters, one uppercase, one number and one special case character\"\n    ),\n\n  confirmPassword: yup\n    .string()\n    .required(\"Enter the confirm password\")\n    .oneOf([yup.ref(\"password\"), null], \"Password does not match.\"),\n});\nconst SetPassword = () => {\n  //custom hook to set title of page\n  useDocumentTitle(\"Set Password\");\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const [showExpiredLinkMessage, setShowExpiredLinkMessage] = useState(false);\n  useEffect(() => {\n    let controller = new AbortController();\n    document.body.classList.add(\"login-page\");\n    const verifyForgotToken = async () => {\n      Logger.info(\"Set Password - verify confirm token handler\");\n      try {\n        const { response } = await publicAxios.get(\n          SET_PASSWORD_VERIFY_TOKEN + params.id,\n          {\n            signal: controller.signal,\n          }\n        );\n        if (response?.status == 200) {\n          return null;\n        }\n      } catch (error) {\n        Logger.info(\"Set Password - verify confirm token catch handler error\");\n        if (error?.response?.status == 400) {\n          setShowExpiredLinkMessage(true);\n        }\n      }\n    };\n    verifyForgotToken();\n    return () => {\n      document.body.classList.remove(\"login-page\");\n      controller.abort();\n    };\n  }, []);\n  const expiredLinkMessage =\n    \"Oops! The link to set password is expired or looks like you're trying using an invalid link. Please contact CGF Admin.\";\n\n  const [passwordToasterDetails, setPasswordToasterDetails] = useCallbackState({\n    titleMessage: \"\",\n    descriptionMessage: \"\",\n    messageType: \"\",\n  });\n  const [values, setValues] = React.useState({\n    password: \"\",\n    showNewPassword: false,\n    confirmPassword: \"\",\n    showConfirmPassword: false,\n  });\n  const navigate = useNavigate();\n  const setPasswordToasterRef = useRef();\n  const params = useParams();\n  const handleClickShowNewPassword = () => {\n    setValues({\n      ...values,\n      showNewPassword: !values.showNewPassword,\n    });\n  };\n  const submitForm = async (data) => {\n    try {\n      const response = await publicAxios.post(\n        CONFIRM_PASSWORD + params.id,\n        data\n      );\n      Logger.info(\"Set Password - submitForm confirm passowrd handler\");\n      if (response.status == 201) {\n        setPasswordToasterDetails(\n          {\n            titleMessage: \"Hurray!\",\n            descriptionMessage: response.data.message,\n            messageType: \"success\",\n          },\n          () => setPasswordToasterRef.current()\n        );\n        setTimeout(() => {\n          navigate(\"/login\");\n        }, 3000);\n      }\n    } catch (error) {\n      Logger.info(\n        \"Set Password - submitForm confirm passowrd handler catch error\"\n      );\n      if (error?.response?.status == 400) {\n        setShowExpiredLinkMessage(true);\n      } else {\n        setPasswordToasterDetails(\n          {\n            titleMessage: \"Oops!\",\n            descriptionMessage: error?.response?.data?.message,\n            messageType: \"error\",\n          },\n          () => setPasswordToasterRef.current()\n        );\n        setTimeout(() => {\n          navigate(\"/login\");\n        }, 3000);\n      }\n    }\n  };\n  const handleClickShowConfirmPassword = () => {\n    setValues({\n      ...values,\n      showConfirmPassword: !values.showConfirmPassword,\n    });\n  };\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  return (\n    <div className=\"page-wrapper login-page-wrap\">\n      <Toaster\n        myRef={setPasswordToasterRef}\n        titleMessage={passwordToasterDetails.titleMessage}\n        descriptionMessage={passwordToasterDetails.descriptionMessage}\n        messageType={passwordToasterDetails.messageType}\n      />\n      <div className=\"login-section\">\n        <div className=\"container\">\n          <div className=\"login-wrapper\">\n            <div className=\"login-leftblk\">\n              <div className=\"login-slider\">\n                <Slider />\n              </div>\n            </div>\n            <div className=\"login-rightblk\">\n              <div className=\"login-blk\">\n                <div className=\"logo\">\n                  <img\n                    src={process.env.PUBLIC_URL + \"/images/logo.png\"}\n                    alt=\"\"\n                    className=\"img-fluid\"\n                  />\n                </div>\n                <h2\n                  className={`${\n                    showExpiredLinkMessage\n                      ? \"warning-message\"\n                      : \"heading1 text-uppercase\"\n                  } `}\n                >\n                  {showExpiredLinkMessage ? expiredLinkMessage : \"Set Password\"}\n                </h2>\n                {showExpiredLinkMessage ? null : (\n                  <div className=\"login-form\">\n                    <form onSubmit={handleSubmit(submitForm)}>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"password\">\n                          New Password <span className=\"mandatory\">*</span>\n                        </label>\n                        <div className=\"password-field\">\n                          <OutlinedInput\n                            fullWidth\n                            id=\"outlined-adornment-password\"\n                            type={values.showNewPassword ? \"text\" : \"password\"}\n                            // value={values.password}\n                            // onChange={handleChange('password')}\n                            placeholder=\"Enter new password\"\n                            className={`input-field ${\n                              errors.password && \"input-error\"\n                            }`}\n                            inputProps={{\n                              maxLength: 15,\n                            }}\n                            endAdornment={\n                              <CustomInputAdornment\n                                show={values?.showNewPassword}\n                                onClickHandler={handleClickShowNewPassword}\n                                mouseDownHandler={handleMouseDownPassword}\n                              />\n                            }\n                            {...register(\"password\")}\n                            error={errors.password ? true : false}\n                          />\n                          <p className={`password-error`}>\n                            {errors?.password ? (\n                              errors.password.message\n                            ) : (\n                              <span>&nbsp;</span>\n                            )}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"password\">\n                          Confirm Password <span className=\"mandatory\">*</span>\n                        </label>\n                        <div className=\"password-field\">\n                          <OutlinedInput\n                            fullWidth\n                            id=\"outlined-adornment-password\"\n                            type={\n                              values.showConfirmPassword ? \"text\" : \"password\"\n                            }\n                            // value={values.confirmPassword}\n                            // onChange={handleChange('confirmPassword')}\n                            placeholder=\"Enter confirm password\"\n                            className={`input-field ${\n                              errors.confirmPassword && \"input-error\"\n                            }`}\n                            inputProps={{\n                              maxLength: 15,\n                            }}\n                            endAdornment={\n                              <CustomInputAdornment\n                                show={values?.showConfirmPassword}\n                                onClickHandler={handleClickShowConfirmPassword}\n                                mouseDownHandler={handleMouseDownPassword}\n                              />\n                            }\n                            {...register(\"confirmPassword\")}\n                            error={errors.confirmPassword ? true : false}\n                          />\n                          <p className={`password-error`}>\n                            {errors?.confirmPassword ? (\n                              errors.confirmPassword.message\n                            ) : (\n                              <span>&nbsp;</span>\n                            )}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"form-btn flex-between\">\n                        <button className=\"primary-button\">Submit</button>\n                        {/* <div className=\"tertiary-btn-blk mr-10\">Back to login</div> */}\n                      </div>\n                    </form>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SetPassword;\n"],"names":["schema","yup","shape","password","required","matches","confirmPassword","oneOf","SetPassword","useDocumentTitle","register","handleSubmit","formState","errors","useForm","resolver","yupResolver","showExpiredLinkMessage","setShowExpiredLinkMessage","useState","useEffect","controller","AbortController","document","body","classList","add","async","Logger","info","response","publicAxios","get","SET_PASSWORD_VERIFY_TOKEN","params","id","signal","status","error","_error$response","verifyForgotToken","remove","abort","passwordToasterDetails","setPasswordToasterDetails","useCallbackState","titleMessage","descriptionMessage","messageType","values","setValues","React","showNewPassword","showConfirmPassword","navigate","useNavigate","setPasswordToasterRef","useRef","useParams","handleMouseDownPassword","event","preventDefault","_jsxs","className","children","_jsx","Toaster","myRef","Slider","src","alt","concat","onSubmit","post","CONFIRM_PASSWORD","data","message","current","setTimeout","_error$response2","_error$response3","_error$response3$data","htmlFor","OutlinedInput","fullWidth","type","placeholder","inputProps","maxLength","endAdornment","CustomInputAdornment","show","onClickHandler","handleClickShowNewPassword","mouseDownHandler","handleClickShowConfirmPassword"],"sourceRoot":""}