"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[3482],{14917:(s,e,a)=>{a.d(e,{Y:()=>l});const i=window.location.search,r=new URLSearchParams(i).get("debug"),l={debug(s,e){"1"===r?console.log(s,e):console.log=()=>{}},info(s,e){"?debug=1"===i||"?info=1"===i?console.info(s,e):console.info=()=>{}},error(s){"?debug=1"===i||"?info=1"===i||"?error=1"===i?console.error(s):console.error=()=>{}}}},23482:(s,e,a)=>{a.r(e),a.d(e,{default:()=>y});var i=a(72791),r=a(44695),l=a(97275),o=a(77196),n=a(55294),t=a(61134),d=a(59434),c=a(57689),m=a(81724),u=a(14917),g=a(76218),p=a(94677),h=a(27659),v=a(16990),f=a(12010),x=a(12820),j=a(1260),w=a(42866),N=a(80184);const b=m.Ry().shape({email:m.Z_().email("Invalid input").required("Enter the email address"),password:m.Z_().required("Enter the password")}),y=s=>{var e;(0,j.j)("Login");const[a,m]=(0,x.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),y=(0,i.useRef)(),Z=(0,d.I0)(),k=((0,c.TH)(),(0,c.s0)()),{register:M,setValue:C,handleSubmit:P,formState:{errors:S}}=(0,t.cI)({resolver:(0,r.X)(b)});(0,i.useEffect)((()=>{document.body.classList.add("login-page");const s=new AbortController;return(async()=>{u.Y.info("Login - Fetch user handler");try{const{status:e,data:a}=await n.Z.get(g.JA,{withCredentials:!0,signal:s.signal});200==e&&k("/home")}catch(a){var e;401==(null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.status)&&u.Y.info("Login - Fetch user hanller catch error")}})(),()=>{document.body.classList.remove("login-page"),s.abort()}}),[]);const[E,I]=i.useState({password:"",showPassword:!1});return(0,N.jsxs)("div",{className:"page-wrapper login-page-wrap",children:[(0,N.jsx)(h.Z,{myRef:y,titleMessage:a.titleMessage,descriptionMessage:a.descriptionMessage,messageType:a.messageType}),(0,N.jsx)("div",{className:"login-section",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("div",{className:"login-wrapper",children:[(0,N.jsx)("div",{className:"login-leftblk",children:(0,N.jsx)("div",{className:"login-slider",children:(0,N.jsx)(w.Z,{})})}),(0,N.jsx)("div",{className:"login-rightblk",children:(0,N.jsxs)("div",{className:"login-blk",children:[(0,N.jsx)("div",{className:"logo",children:(0,N.jsx)("img",{src:"/images/logo.png",alt:"",className:"img-fluid"})}),(0,N.jsx)("h2",{className:"heading1 text-uppercase",children:"Log in"}),(0,N.jsx)("div",{className:"login-form",children:(0,N.jsxs)("form",{onSubmit:P((async s=>{u.Y.info("Login - Submit login data handler");try{const r=await p.u.post(g.ZE,s,{withCredentials:!0});var e,a,i;if(201==r.status)Z((0,v.av)(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.user)),Z((0,v.RR)(null===r||void 0===r||null===(a=r.data)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.role)),k("/home")}catch(c){var r,l,o,n,t,d;if(u.Y.info("Login - Submit login data handler catch error - ".concat(null===c||void 0===c||null===(r=c.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)),401==c.response.status&&"Unauthorized"===c.response.data.message)return m({titleMessage:"Invalid Credentials",descriptionMessage:"Invalid email or password!",messageType:"error"},(()=>y.current()));if(401==c.response.status&&"Access denied. Kindly contact system admin."===c.response.data.message)return m({titleMessage:"Invalid Credentials",descriptionMessage:null===c||void 0===c||null===(o=c.response)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message,messageType:"error"},(()=>y.current()));if(400==c.response.status)return m({titleMessage:"Session Active",descriptionMessage:null===c||void 0===c||null===(t=c.response)||void 0===t||null===(d=t.data)||void 0===d?void 0:d.message,messageType:"error"},(()=>y.current()))}})),children:[(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"emailid",children:["Email ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsx)(l.Z,{className:"input-field ".concat(S.email&&"input-error"),id:"outlined-basic",placeholder:"example@domain.com",variant:"outlined",...M("email"),onBlur:s=>C("email",s.target.value.trim()),helperText:S.email?S.email.message:" "})]}),(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"password",children:["Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(o.Z,{fullWidth:!0,id:"outlined-adornment-password",type:E.showPassword?"text":"password",placeholder:"Enter password",className:"input-field ".concat(S.password&&"input-error"),endAdornment:(0,N.jsx)(f.Z,{show:null===E||void 0===E?void 0:E.showPassword,onClickHandler:()=>{I({...E,showPassword:!E.showPassword})},mouseDownHandler:s=>{s.preventDefault()}}),...M("password"),onBlur:s=>C("password",s.target.value.trim())}),(0,N.jsx)("p",{className:"password-error",children:null!==S&&void 0!==S&&S.password?null===(e=S.password)||void 0===e?void 0:e.message:(0,N.jsx)("span",{children:"\xa0"})})]})]}),(0,N.jsxs)("div",{className:"form-btn flex-between",children:[(0,N.jsx)("button",{type:"submit",className:"primary-button",children:"Log In"}),(0,N.jsx)("div",{className:"tertiary-btn-blk",onClick:()=>{k("/forget-password")},children:"Forgot Password?"})]})]})})]})})]})})})]})}},42866:(s,e,a)=>{a.d(e,{Z:()=>o});a(72791);var i=a(39120),r=a.n(i),l=(a(80191),a(83835),a(80184));const o=()=>(0,l.jsxs)(r(),{className:"owl-theme",items:"1",dots:!0,loop:!0,autoplay:!0,children:[(0,l.jsx)("div",{className:"item",children:(0,l.jsx)("div",{className:"login-slide-img",children:(0,l.jsx)("img",{rel:!0,fetchPriority:"high",src:"/images/login-slide1.png",alt:"",className:"img-fluid"})})}),(0,l.jsx)("div",{className:"item",children:(0,l.jsx)("div",{className:"login-slide-img",children:(0,l.jsx)("img",{fetchPriority:"low",src:"/images/login-slide2.png",alt:"",className:"img-fluid"})})}),(0,l.jsx)("div",{className:"item",children:(0,l.jsx)("div",{className:"login-slide-img",children:(0,l.jsx)("img",{src:"/images/login-slide3.png",alt:"",className:"img-fluid"})})})]})},27659:(s,e,a)=>{a.d(e,{Z:()=>t});var i=a(92131),r=a(5130),l=a(72791),o=a(29655),n=(a(5462),a(80184));const t=function(s){let{titleMessage:e,descriptionMessage:a,messageType:t,myRef:d,key:c}=s;const m=()=>{(0,o.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})},u=()=>(0,n.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,n.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,n.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,n.jsx)(i.Z,{}),"error"===t&&(0,n.jsx)(r.Z,{})]})}),(0,n.jsx)("div",{className:"toaster-right",children:(0,n.jsx)("p",{children:a})})]});return(0,l.useEffect)((()=>{d.current=m}),[m,d]),(0,n.jsxs)("div",{className:"toaster-sect",children:[(0,n.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,n.jsx)(o.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},12010:(s,e,a)=>{a.d(e,{Z:()=>o});var i=a(63466),r=a(13400),l=(a(72791),a(80184));const o=s=>{let{show:e,onClickHandler:a,mouseDownHandler:o}=s;return(0,l.jsx)(i.Z,{position:"end",children:(0,l.jsx)(r.Z,{"aria-label":"toggle password visibility",onClick:a,onMouseDown:o,edge:"end",className:"eye-btn",children:e?(0,l.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,l.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},12820:(s,e,a)=>{a.d(e,{Z:()=>r});var i=a(72791);const r=s=>{const[e,a]=(0,i.useState)(s),r=(0,i.useRef)([]);(0,i.useEffect)((()=>{r.current.forEach((s=>s(e))),r.current=[]}),[e]);return[e,(s,e)=>{a(s),e&&"function"===typeof e&&r.current.push(e)}]}},1260:(s,e,a)=>{a.d(e,{j:()=>r});var i=a(72791);const r=s=>((0,i.useEffect)((()=>{document.title="HRDD System - ".concat(s)}),[s]),null)}}]);
//# sourceMappingURL=3482.3256157b.chunk.js.map