"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5103],{65103:(e,r,n)=>{n.r(r),n.d(r,{default:()=>E});var a=n(72791),l=n(57689),o=n(11087),t=n(45904),i=n(35527),s=n(97275),d=n(88970),c=n(85523),u=n(61419),m=n(55294),p=n(61134),v=n(27181),h=n(12820),b=n(76218),f=n(94677),g=n(12104),x=n(48086),j=n(46363),Z=n(1260),y=n(28386),N=n(14917),C=n(45736),w=n(80184);const R={countryCode:{validate:"Select the country code"},phoneNumber:{maxLength:"Max digits limit exceed",minLength:"Enter the valid phone number (Eg: 1234567890)",validate:"Enter the valid phone number (Eg: 1234567890)",pattern:"Invalid format"},name:{required:"Enter the CGF admin name",maxLength:"Max char limit exceed",minLength:"minimum 3 characters required",pattern:"Invalid format"},email:{required:"Enter the email",pattern:"Invalid format"},subRoleId:{required:"Select the role"}},E=()=>{var e;(0,Z.j)("Edit Admin");const[r,n]=(0,a.useState)(!1),E=(0,l.s0)(),S=(0,l.UO)(),P=S["*"].includes("pending")?1:0,L=(0,a.useRef)(),[A,M]=(0,a.useState)([]),[I,F]=(0,a.useState)(!1),[k,q]=(0,a.useState)([]),[H,T]=(0,h.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[_,D]=(0,a.useState)({}),{handleSubmit:Y,control:G,formState:{errors:O},reset:B,watch:U,setValue:V,trigger:z}=(0,p.cI)({defaultValues:{name:"",email:"",subRoleId:"",phoneNumber:"",countryCode:{name:"India",countryCode:""},status:"",role:""}});(0,a.useEffect)((()=>{let e=!0,r=new AbortController;(async()=>{try{const n=await m.Z.get(b.od,{signal:r.signal});if(N.Y.info("Edit sub admin - fetchCountries  handler"),e){let e=null===n||void 0===n?void 0:n.data.map((e=>e.countryCode)),r=new Set(e);M([...r])}}catch(l){var n,a;if(N.Y.info("Edit sub admin - fetchCountries  handler catch error - ".concat(null===l||void 0===l||null===(n=l.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)),"ERR_CANCELED"===(null===l||void 0===l?void 0:l.code))return;(0,C.K)(l,T,L,E)}})();(async()=>{try{var a,l,o,t,i,s,d,c;n(!0);const u=await f.H.get(S["*"].includes("pending")?b.we+S.id:b.BJ+S.id,{signal:r.signal});n(!1),N.Y.info("Edit sub admin - fetchSubAdmin  handler"),e&&D(u.data),B({name:null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.name,email:null===u||void 0===u||null===(l=u.data)||void 0===l?void 0:l.email,countryCode:null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.countryCode,phoneNumber:null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.phoneNumber,status:null!==u&&void 0!==u&&null!==(i=u.data)&&void 0!==i&&i.isActive?"active":"inactive",subRoleId:null!==(s=null===u||void 0===u||null===(d=u.data)||void 0===d||null===(c=d.subRoleId)||void 0===c?void 0:c._id)&&void 0!==s?s:""})}catch(p){var u,m;if("ERR_CANCELED"===(null===p||void 0===p?void 0:p.code))return;n(!1),N.Y.info("Edit sub admin - fetchSubAdmin  handler catch error -".concat(null===p||void 0===p||null===(u=p.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)),(0,C.K)(p,T,L,E,"/users/cgf-admin",P)}})();return(async()=>{try{const e=await f.H.get(b.Lp);N.Y.info("Edit sub admin - fetchRoles handler"),q(e.data)}catch(n){var e,r;N.Y.info("Edit sub admin - fetchRoles handler catch error ".concat(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)),(0,C.K)(n,T,L,E)}})(),()=>{e=!1,r.abort()}}),[]);(0,l.TH)();return(0,w.jsxs)("div",{className:"page-wrapper",children:[(0,w.jsx)(v.Z,{myRef:L,titleMessage:H.titleMessage,descriptionMessage:H.descriptionMessage,messageType:H.messageType}),(0,w.jsx)("div",{className:"breadcrumb-wrapper",children:(0,w.jsx)("div",{className:"container",children:(0,w.jsxs)("ul",{className:"breadcrumb",children:[(0,w.jsx)("li",{children:(0,w.jsxs)(o.rU,{to:"/users/cgf-admin/",state:S["*"].includes("pending")?1:0,children:["Admins"," ",S["*"].includes("pending")?"(Pending)":"(Onboarded)"]})}),(0,w.jsx)("li",{children:(0,w.jsx)(o.rU,{to:S["*"].includes("pending")?"/users/cgf-admin/pending/view-cgf-admin/".concat(S.id):"/users/cgf-admin/view-cgf-admin/".concat(S.id),children:"View Admin"})}),(0,w.jsx)("li",{children:"Edit Admin"})]})})}),(0,w.jsx)("section",{children:(0,w.jsxs)("div",{className:"container",children:[(0,w.jsx)("div",{className:"form-header flex-between",children:(0,w.jsx)("h2",{className:"heading2",children:"Edit Admin"})}),r?(0,w.jsx)(y.Z,{}):(0,w.jsx)("div",{className:"card-wrapper",children:(0,w.jsx)("form",{onSubmit:Y((async e=>{N.Y.info("Edit sub admin - handleOnSubmit handler"),F(!0),n(!0);try{var r,a,l,o,t;const i=await f.H.put(S["*"].includes("pending")?b.v4+(null===S||void 0===S?void 0:S.id):b.pU+S.id,{name:null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:"",email:null!==(a=null===e||void 0===e?void 0:e.email)&&void 0!==a?a:"",subRoleId:null!==(l=null===e||void 0===e?void 0:e.subRoleId)&&void 0!==l?l:"",phoneNumber:null!==(o=null===e||void 0===e?void 0:e.phoneNumber)&&void 0!==o?o:"",countryCode:null!==(t=null===e||void 0===e?void 0:e.countryCode)&&void 0!==t?t:"",isActive:"active"===(null===e||void 0===e?void 0:e.status)});200==i.status&&(n(!1),T({titleMessage:"Success!",descriptionMessage:i.data.message,messageType:"success"},(()=>L.current())),setTimeout((()=>{E("/users/cgf-admin/",{state:P})}),2e3))}catch(d){var i,s;N.Y.info("Edit sub admin - handleOnSubmit handler catch error ".concat(null===d||void 0===d||null===(i=d.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)),n(!1),F(!1),(0,C.K)(d,T,L,E)}})),children:(0,w.jsxs)("div",{className:"card-blk flex-between",children:[(0,w.jsx)("div",{className:"card-form-field",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsxs)("label",{htmlFor:"subAdminName",children:["Admin Name ",(0,w.jsx)("span",{className:"mandatory",children:"*"})]}),(0,w.jsx)(x.Z,{name:"name",onBlur:e=>{var r;return V("name",null===(r=e.target.value)||void 0===r?void 0:r.trim())},control:G,placeholder:"Enter CGF admin name",myHelper:R,rules:{required:!0,maxLength:50,minLength:3,pattern:/^[a-zA-Z][a-zA-Z ]*$/}})]})}),(0,w.jsx)("div",{className:"card-form-field",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsxs)("label",{htmlFor:"email",children:["Email ",(0,w.jsx)("span",{className:"mandatory",children:"*"})]}),(0,w.jsx)(x.Z,{name:"email",onBlur:e=>{var r;return V("email",null===(r=e.target.value)||void 0===r?void 0:r.trim())},isDisabled:!S["*"].includes("pending"),control:G,placeholder:"Enter email address",myHelper:R,rules:{required:!0,maxLength:50,minLength:3,pattern:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}})]})}),(0,w.jsx)("div",{className:"card-form-field",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number"}),(0,w.jsxs)("div",{className:"phone-number-field",children:[(0,w.jsx)("div",{className:"select-field country-code",children:(0,w.jsx)(p.Qr,{control:G,name:"countryCode",rules:{validate:()=>{if(!U("countryCode")&&U("phoneNumber"))return"Invalid input"}},render:e=>{let{field:r,fieldState:{error:n}}=e;return(0,w.jsx)(t.Z,{className:"".concat(n&&"autocomplete-error"),PaperComponent:e=>{let{children:r}=e;return(0,w.jsx)(i.Z,{className:(null===A||void 0===A?void 0:A.length)>5?"autocomplete-option-txt autocomplete-option-limit":"autocomplete-option-txt",children:r})},popupIcon:(0,w.jsx)(g.Z,{}),...r,onChange:(e,r)=>{V("countryCode",r&&"object"===typeof r?r.name:r),z("countryCode"),z("phoneNumber")},options:A||[],autoHighlight:!0,getOptionLabel:e=>e,renderOption:(e,r)=>(0,w.jsx)("li",{...e,children:r}),renderInput:e=>(0,w.jsx)(s.Z,{...e,inputProps:{...e.inputProps},onChange:()=>z("countryCode"),placeholder:"+00",helperText:n?R.countryCode[null===n||void 0===n?void 0:n.type]:" "})})}})}),(0,w.jsx)(x.Z,{name:"phoneNumber",myOnChange:e=>((e,r,n)=>{V(r,e.target.value),z(r),z(n)})(e,"phoneNumber","countryCode"),onBlur:e=>{var r;return V("phoneNumber",null===(r=e.target.value)||void 0===r?void 0:r.trim())},control:G,myHelper:R,placeholder:"1234567890",rules:{maxLength:15,minLength:7,validate:e=>!U("phoneNumber")&&U("countryCode")?"invalid input":e&&!Number(e)?"Invalid input":void 0}})]})]})}),(0,w.jsx)("div",{className:"card-form-field",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsxs)("label",{htmlFor:"role",children:["Role ",(0,w.jsx)("span",{className:"mandatory",children:"*"})]}),(0,w.jsx)("div",{className:"select-field",children:(0,w.jsx)(j.Z,{name:"subRoleId",control:G,options:k,rules:{required:!0},myHelper:R,placeholder:"Select role"})}),(0,w.jsx)("p",{className:"input-error-msg",children:null===(e=O.role)||void 0===e?void 0:e.message})]})}),(0,w.jsx)("div",{className:"card-form-field",children:(0,w.jsxs)("div",{className:"form-group",hidden:S["*"].includes("pending"),children:[(0,w.jsx)("label",{htmlFor:"cgfAdmin-status",children:"Status"}),(0,w.jsx)("div",{className:"radio-btn-field",children:(0,w.jsx)(p.Qr,{name:"status",control:G,render:e=>{let{field:r}=e;return(0,w.jsxs)(d.Z,{...r,"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",className:"radio-btn",children:[(0,w.jsx)(c.Z,{value:"active",control:(0,w.jsx)(u.Z,{}),label:"Active"}),(0,w.jsx)(c.Z,{value:"inactive",control:(0,w.jsx)(u.Z,{}),label:"Inactive"})]})}})})]})}),(0,w.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,w.jsx)("button",{onClick:()=>{E("/users/cgf-admin/",{state:P})},type:"reset",className:"secondary-button mr-10",children:"Cancel"}),(0,w.jsx)("button",{type:"submit",className:"primary-button add-button",disabled:I,children:"Update"})]})]})})})]})})]})}},85523:(e,r,n)=>{n.d(r,{Z:()=>N});var a=n(63366),l=n(87462),o=n(72791),t=n(63733),i=n(94419),s=n(52930),d=n(53767),c=n(20890),u=n(14036),m=n(66934),p=n(31402),v=n(75878),h=n(21217);function b(e){return(0,h.Z)("MuiFormControlLabel",e)}const f=(0,v.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var g=n(76147),x=n(80184);const j=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Z=(0,m.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[{["& .".concat(f.label)]:r.label},r.root,r["labelPlacement".concat((0,u.Z)(n.labelPlacement))]]}})((e=>{let{theme:r,ownerState:n}=e;return(0,l.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(f.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(f.label)]:{["&.".concat(f.disabled)]:{color:(r.vars||r).palette.text.disabled}}})})),y=(0,m.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,r)=>r.asterisk})((e=>{let{theme:r}=e;return{["&.".concat(f.error)]:{color:(r.vars||r).palette.error.main}}})),N=o.forwardRef((function(e,r){var n,m;const v=(0,p.Z)({props:e,name:"MuiFormControlLabel"}),{className:h,componentsProps:f={},control:N,disabled:C,disableTypography:w,label:R,labelPlacement:E="end",required:S,slotProps:P={}}=v,L=(0,a.Z)(v,j),A=(0,s.Z)(),M=null!=(n=null!=C?C:N.props.disabled)?n:null==A?void 0:A.disabled,I=null!=S?S:N.props.required,F={disabled:M,required:I};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof N.props[e]&&"undefined"!==typeof v[e]&&(F[e]=v[e])}));const k=(0,g.Z)({props:v,muiFormControl:A,states:["error"]}),q=(0,l.Z)({},v,{disabled:M,labelPlacement:E,required:I,error:k.error}),H=(e=>{const{classes:r,disabled:n,labelPlacement:a,error:l,required:o}=e,t={root:["root",n&&"disabled","labelPlacement".concat((0,u.Z)(a)),l&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",l&&"error"]};return(0,i.Z)(t,b,r)})(q),T=null!=(m=P.typography)?m:f.typography;let _=R;return null==_||_.type===c.Z||w||(_=(0,x.jsx)(c.Z,(0,l.Z)({component:"span"},T,{className:(0,t.Z)(H.label,null==T?void 0:T.className),children:_}))),(0,x.jsxs)(Z,(0,l.Z)({className:(0,t.Z)(H.root,h),ownerState:q,ref:r},L,{children:[o.cloneElement(N,F),I?(0,x.jsxs)(d.Z,{display:"block",children:[_,(0,x.jsxs)(y,{ownerState:q,"aria-hidden":!0,className:H.asterisk,children:["\u2009","*"]})]}):_]}))}))},79012:(e,r,n)=>{n.d(r,{Z:()=>g});var a=n(63366),l=n(87462),o=n(72791),t=n(63733),i=n(94419),s=n(66934),d=n(31402),c=n(75878),u=n(21217);function m(e){return(0,u.Z)("MuiFormGroup",e)}(0,c.Z)("MuiFormGroup",["root","row","error"]);var p=n(52930),v=n(76147),h=n(80184);const b=["className","row"],f=(0,s.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,n.row&&r.row]}})((e=>{let{ownerState:r}=e;return(0,l.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})})),g=o.forwardRef((function(e,r){const n=(0,d.Z)({props:e,name:"MuiFormGroup"}),{className:o,row:s=!1}=n,c=(0,a.Z)(n,b),u=(0,p.Z)(),g=(0,v.Z)({props:n,muiFormControl:u,states:["error"]}),x=(0,l.Z)({},n,{row:s,error:g.error}),j=(e=>{const{classes:r,row:n,error:a}=e,l={root:["root",n&&"row",a&&"error"]};return(0,i.Z)(l,m,r)})(x);return(0,h.jsx)(f,(0,l.Z)({className:(0,t.Z)(j.root,o),ownerState:x,ref:r},c))}))},88970:(e,r,n)=>{n.d(r,{Z:()=>p});var a=n(87462),l=n(63366),o=n(72791),t=n(79012),i=n(42071),s=n(98278),d=n(18672),c=n(67384),u=n(80184);const m=["actions","children","defaultValue","name","onChange","value"],p=o.forwardRef((function(e,r){const{actions:n,children:p,defaultValue:v,name:h,onChange:b,value:f}=e,g=(0,l.Z)(e,m),x=o.useRef(null),[j,Z]=(0,s.Z)({controlled:f,default:v,name:"RadioGroup"});o.useImperativeHandle(n,(()=>({focus:()=>{let e=x.current.querySelector("input:not(:disabled):checked");e||(e=x.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const y=(0,i.Z)(r,x),N=(0,c.Z)(h),C=o.useMemo((()=>({name:N,onChange(e){Z(e.target.value),b&&b(e,e.target.value)},value:j})),[N,b,Z,j]);return(0,u.jsx)(d.Z.Provider,{value:C,children:(0,u.jsx)(t.Z,(0,a.Z)({role:"radiogroup",ref:y},g,{children:p}))})}))}}]);
//# sourceMappingURL=5103.ddc308b6.chunk.js.map