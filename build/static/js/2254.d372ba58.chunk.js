"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[2254],{14917:(e,a,t)=>{t.d(a,{Y:()=>i});const l=window.location.search,s=new URLSearchParams(l).get("debug"),i={debug(e,a){"1"===s?console.log(e,a):console.log=()=>{}},info(e,a){"?debug=1"===l||"?info=1"===l?console.info(e,a):console.info=()=>{}},error(e){"?debug=1"===l||"?info=1"===l||"?error=1"===l?console.error(e):console.error=()=>{}}}},46363:(e,a,t)=>{t.d(a,{Z:()=>u});var l=t(12104),s=t(68096),i=t(58406),n=t(63903),d=t(20068),r=t(47071),o=(t(72791),t(61134)),c=t(80184);const u=function(e){let{control:a,name:t,myOnChange:u,myHelper:m,placeholder:p,rules:h,options:v,isDisabled:b}=e;const{field:{value:g,onChange:x,ref:j},fieldState:{error:y}}=(0,o.bc)({name:t,control:a,rules:h,defaultValue:""}),f={PaperProps:{style:{maxHeight:168}}},D=window.innerWidth>1e3?60:45,N=e=>{let{children:a}=e;return(0,c.jsx)("div",{className:"select-placeholder",children:a})};return(0,c.jsxs)(s.Z,{className:"select-reusable",disabled:b,children:[(0,c.jsx)("div",{className:"select-field ".concat(y&&"select-field-error"),children:(0,c.jsx)(i.Z,{IconComponent:e=>(0,c.jsx)(l.Z,{...e}),MenuProps:f,displayEmpty:!0,value:g,placeholder:p,onChange:u||x,inputRef:j,fullWidth:!0,renderValue:""!==g?void 0:()=>(0,c.jsx)(N,{children:p}),children:v&&(null===v||void 0===v?void 0:v.map((e=>{var a,t;return(0,c.jsx)(n.Z,{value:e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e,children:e.hasOwnProperty("_id")?(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.length)<=D?null===e||void 0===e?void 0:e.name:(0,c.jsx)(d.Z,{title:null===e||void 0===e?void 0:e.name,children:(0,c.jsxs)("span",{children:[" ",(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.slice(0,D))+"..."]})}):(null===e||void 0===e?void 0:e.length)<=D?e:(0,c.jsx)(d.Z,{title:e,children:(0,c.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,D))+"..."})})},e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e)})))})}),(0,c.jsx)(r.Z,{children:y?m&&m[t]&&m[t][y.type]?m[t][y.type]:"Invalid Input":" "})]})}},27659:(e,a,t)=>{t.d(a,{Z:()=>r});var l=t(92131),s=t(5130),i=t(72791),n=t(29655),d=(t(5462),t(80184));const r=function(e){let{titleMessage:a,descriptionMessage:t,messageType:r,myRef:o,key:c}=e;const u=()=>{(0,n.Am)(m,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})},m=()=>(0,d.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===r&&"toaster-blk-success"),children:[(0,d.jsx)("div",{className:"toaster-left ".concat("success"===r&&"toaster-left-success"),children:(0,d.jsxs)("div",{className:"toaster-icon",children:["success"===r&&(0,d.jsx)(l.Z,{}),"error"===r&&(0,d.jsx)(s.Z,{})]})}),(0,d.jsx)("div",{className:"toaster-right",children:(0,d.jsx)("p",{children:t})})]});return(0,i.useEffect)((()=>{o.current=u}),[u,o]),(0,d.jsxs)("div",{className:"toaster-sect",children:[(0,d.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,d.jsx)(n.Ix,{className:"toaster-wrap ".concat("success"===r&&"toaster-wrap-success"," ")})]})}},98473:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ia});var l=t(72791),s=t(57689),i=t(84395),n=t(34663),d=t(697),r=t(20068),o=t(65422),c=t(63903),u=t(85172),m=t(59434),p=t(16990),h=t(76218),v=t(94677),b=t(29823),g=t(27293),x=t(95457),j=(t(14917),t(80184));const y=()=>{var e,a,t,y,f,D,N,w,S,C,P,k,A,G,M,W,Z,I,E,R,H;const[T,O]=l.useState(null),[z,Q]=l.useState("false"),F=(0,m.v9)((e=>{var a;return null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.userObj})),L=(0,m.v9)((e=>{var a;return null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.privilege}));let q=null===F||void 0===F||null===(e=F.name)||void 0===e?void 0:e.split(" ");const _="Sub Admin"==(null===F||void 0===F||null===(a=F.roleId)||void 0===a?void 0:a.name),B="Operation Member"==(null===F||void 0===F||null===(t=F.roleId)||void 0===t?void 0:t.name),U="Super Admin"===(null===L||void 0===L?void 0:L.name),Y=(0,s.s0)(),$=(0,m.I0)(),V=(0,s.TH)(),K=()=>{O(null),Q(!z)};let J="Super Admin"===(null===F||void 0===F||null===(y=F.role)||void 0===y?void 0:y.name)?[]:Object.values(null!==(f=null===L||void 0===L?void 0:L.privileges)&&void 0!==f?f:{});console.log("privilege array = ",J);let X=J.filter((e=>{var a;return"Members"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({member:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),ee=J.filter((e=>{var a;return"Operation Members"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({operationMember:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),ae=J.filter((e=>{var a;return"Questionnaire"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({questionnaire:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),te=J.filter((e=>{var a;return"Assessment"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({assessment:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),le=J.filter((e=>{var a;return"Dashboard"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({dashboard:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}})));const se=()=>{let e="";var a;return q.length>1?(e=q[0].slice(0,1)+(null===(a=q[1])||void 0===a?void 0:a.slice(0,1)),e):(e=q[0].slice(0,1),e)},ie=(0,l.useRef)(),ne=(0,l.useRef)(),de=()=>{const e=ie.current.scrollWidth>ie.current.clientWidth,a=ne.current.scrollWidth>ne.current.clientWidth;oe(e),ue(a)};(0,l.useEffect)((()=>{de(),window.addEventListener("resize",de)}),[]),(0,l.useEffect)((()=>()=>{window.removeEventListener("resize",de)}),[]);(0,l.useEffect)((()=>{}),[]);const[re,oe]=(0,l.useState)(!1),[ce,ue]=(0,l.useState)(!1);return(0,j.jsx)(i.Z,{position:"sticky",className:"header-sect",children:(0,j.jsx)("div",{className:"nav",children:(0,j.jsx)("div",{className:"container",children:(0,j.jsx)(n.Z,{disableGutters:!0,children:(0,j.jsxs)("div",{className:"header-wrapper",children:[(0,j.jsxs)("div",{className:"header-left",children:[(0,j.jsx)("div",{className:"logo-blk",children:(0,j.jsx)("a",{href:"/home",children:(0,j.jsx)("img",{src:"/images/logo.png",className:"img-fluid",alt:""})})}),(0,j.jsx)("div",{className:"nav-listblk",children:(0,j.jsxs)("ul",{className:"nav-list flex-between",children:[(0,j.jsxs)("li",{className:"/home"==V.pathname?"list-item active":"list-item",children:[(0,j.jsx)("a",{hidden:_?"active":""}),(0,j.jsx)("a",{onClick:()=>Y("/home"),style:{cursor:"pointer"},children:"Home"})]}),(U||(null===(D=le[0])||void 0===D||null===(N=D.dashboard)||void 0===N?void 0:N.view))&&(0,j.jsx)("li",{className:V.pathname.includes("/cgf-dashboard")?"list-item active":"list-item",children:(0,j.jsx)("a",{style:{cursor:"pointer"},onClick:()=>Y("/cgf-dashboard"),children:"Dashboard"})}),(U||(null===(w=te[0])||void 0===w||null===(S=w.assessment)||void 0===S?void 0:S.list))&&(0,j.jsx)("li",{className:V.pathname.includes("/assessment-list")?"list-item active":"list-item",children:(0,j.jsx)("a",{style:{cursor:"pointer"},onClick:()=>Y("/assessment-list"),children:"Assessments"})}),(U||(null===(C=ae[0])||void 0===C||null===(P=C.questionnaire)||void 0===P?void 0:P.list))&&(0,j.jsx)("li",{className:V.pathname.includes("/questionnaires")?"list-item active":"list-item",children:(0,j.jsx)("a",{style:{cursor:"pointer"},onClick:()=>Y("/questionnaires"),children:"Questionnaires"})}),(U||(null===(k=ee[0])||void 0===k||null===(A=k.operationMember)||void 0===A?void 0:A.list)||(null===(G=X[0])||void 0===G?void 0:G.member.list))&&(0,j.jsxs)("li",{className:V.pathname.includes("/users")?"list-item active":"list-item",children:[(0,j.jsx)("a",{hidden:B,style:{cursor:"pointer"},children:"User Management"}),(0,j.jsxs)("ul",{className:"header-submenu",children:[U&&(0,j.jsx)("li",{className:V.pathname.includes("/users/cgf-admin")?"subactive":"",children:(0,j.jsx)("a",{onClick:()=>{Y("/users/cgf-admin")},style:{cursor:"pointer"},children:"Admins"})}),(0,j.jsx)("li",{hidden:!0!==U&&!(null!==(M=X[0])&&void 0!==M&&null!==(W=M.member)&&void 0!==W&&W.list),className:"/users/members"===V.pathname?"subactive":"",children:(0,j.jsx)("a",{onClick:()=>{Y("/users/members")},children:"Company Members"})}),(0,j.jsx)("li",{className:"/users/operation-members"===V.pathname?"subactive":"",hidden:!0!==U&&!(null!==(Z=ee[0])&&void 0!==Z&&null!==(I=Z.operationMember)&&void 0!==I&&I.list),children:(0,j.jsx)("a",{onClick:()=>{Y("/users/operation-members")},children:"Operation Team Members"})})]})]}),U&&(0,j.jsx)("li",{className:V.pathname.includes("/roles")?"list-item active":"list-item",children:(0,j.jsx)("a",{onClick:()=>Y("/roles"),style:{cursor:"pointer",display:!U&&"none"},children:"Roles Management"})})]})})]}),(0,j.jsx)("div",{className:"header-right",children:(0,j.jsxs)(d.Z,{children:[(0,j.jsxs)("div",{className:"user-blk flex-between",children:[(0,j.jsx)("div",{className:"user-img",children:(0,j.jsx)("span",{className:"user-name-txt",children:se()})}),(0,j.jsxs)("div",{className:"user-info",onClick:e=>{O(e.currentTarget),Q(!z)},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(r.Z,{title:null===F||void 0===F?void 0:F.name,disableHoverListener:!ce,style:{fontSize:"14px"},children:(0,j.jsx)("span",{ref:ne,className:"user-name",children:null===F||void 0===F?void 0:F.name})}),(0,j.jsx)(r.Z,{title:null===F||void 0===F||null===(E=F.role)||void 0===E?void 0:E.name,disableHoverListener:!re,style:{fontSize:"14px"},children:(0,j.jsx)("span",{ref:ie,className:"user-type",children:(()=>{var e,a,t;return"Super Admin"===(null===F||void 0===F||null===(e=F.role)||void 0===e?void 0:e.name)||Object.keys(F.role).length>0&&Object.keys(null===F||void 0===F||null===(a=F.role)||void 0===a?void 0:a.privileges).length>0?null===F||void 0===F||null===(t=F.role)||void 0===t?void 0:t.name:"N/A"})()})})]}),(0,j.jsx)("span",{className:z?"super-admin-arrow":"super-admin-arrow active",children:(0,j.jsx)(u.Z,{})})]})]}),(0,j.jsx)(o.Z,{sx:{mt:"35px",mr:"35px"},id:"menu-appbar",anchorEl:T,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(T),onClose:K,className:"profile-popup-blk",children:(0,j.jsx)(c.Z,{children:(0,j.jsxs)("div",{className:"profile-popup-box",children:[(0,j.jsx)("div",{id:"transition-modal-title",className:"profile-popup-ttl-blk",children:(0,j.jsx)("span",{className:"popup-close-icon",onClick:K,children:(0,j.jsx)(b.Z,{})})}),(0,j.jsx)("div",{id:"transition-modal-title1",className:"profile-popup-wrap",children:(0,j.jsxs)("div",{className:"signin-user-blk flex-start",children:[(0,j.jsx)("div",{className:"signin-user-left",children:(0,j.jsx)("div",{className:"signin-user-img",children:(0,j.jsx)("span",{className:"signin-user-name-txt",children:se()})})}),(0,j.jsx)("div",{className:"signin-user-right",children:(0,j.jsxs)("div",{className:"profile-info-blk",children:[(0,j.jsx)("div",{className:"profile-name",children:null===F||void 0===F?void 0:F.name}),(0,j.jsx)("div",{className:"profile-info",children:null!==(R=null===F||void 0===F||null===(H=F.role)||void 0===H?void 0:H.name)&&void 0!==R?R:"N/A"}),(0,j.jsxs)("div",{className:"profile-info",children:[(0,j.jsx)("span",{className:"profile-info-icon",children:(0,j.jsx)(g.Z,{})}),(0,j.jsx)("span",{className:"profile-info-txt",children:null!==F&&void 0!==F&&F.countryCode?(null===F||void 0===F?void 0:F.countryCode)+(null===F||void 0===F?void 0:F.phoneNumber):"N/A"})]}),(0,j.jsxs)("div",{className:"profile-info",children:[(0,j.jsx)("span",{className:"profile-info-icon",children:(0,j.jsx)(x.Z,{})}),(0,j.jsx)("span",{className:"profile-info-txt",children:null===F||void 0===F?void 0:F.email})]}),(0,j.jsx)("div",{className:"tertiary-btn-blk mt-20",onClick:()=>{Y("/change-password"),O(null),Q(!z)},children:(0,j.jsx)("span",{className:"addmore-txt",children:"Change Password"})}),(0,j.jsx)("div",{className:"form-btn flex-center mt-20",children:(0,j.jsx)("button",{type:"submit",className:"primary-button",onClick:async()=>{try{201==(await v.H.post(h.vY)).status&&(O(null),$((0,p.zb)()),Q(!z),Y("/login"))}catch(a){var e;401===(null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.status)&&Y("/login")}},children:"Log out"})})]})})]})})]})})})]})})]})})})})})},f=()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(y,{}),(0,j.jsx)(s.j3,{})]}),D=e=>{var a;let{children:t,moduleName:l,page:i}=e;const n=(0,s.TH)(),d=(0,m.v9)((e=>e.user.userObj)),r=(0,m.v9)((e=>e.user.privilege));let o=(r?Object.values(null===r||void 0===r?void 0:r.privileges):[]).filter((e=>{var a;return(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)===l})).map((e=>({[l]:{list:e.list,view:e.view,edit:e.edit,delete:e.delete,add:e.add}})));return"Super Admin"===d.role.name||(null===(a=o[0])||void 0===a?void 0:a[l][i])?t:(0,j.jsx)(s.Fg,{to:"/page-not-found",state:{from:n},replace:!0})};t(64802);var N=t(81213),w=t(74819),S=(t(31052),t(43623));const C=[{label:"Mcdonld's",directlyHiredWorkers:45,thirdParty:30,domesticMigrants:41},{label:"Tim Hortin's",directlyHiredWorkers:25,thirdParty:37,domesticMigrants:48},{label:"Burger King",directlyHiredWorkers:35,thirdParty:28,domesticMigrants:39},{label:"Starbucks",directlyHiredWorkers:20,thirdParty:32,domesticMigrants:45},{label:"Subway",directlyHiredWorkers:30,thirdParty:25,domesticMigrants:36},{label:"Pizza Hut",directlyHiredWorkers:22,thirdParty:40,domesticMigrants:29},{label:"KFC",directlyHiredWorkers:18,thirdParty:35,domesticMigrants:42},{label:"Dunkin' Donuts",directlyHiredWorkers:28,thirdParty:30,domesticMigrants:37},{label:"Wendy's",directlyHiredWorkers:33,thirdParty:26,domesticMigrants:34},{label:"Chipotle",directlyHiredWorkers:29,thirdParty:33,domesticMigrants:28}],P=C.map((e=>[e.directlyHiredWorkers,e.thirdParty,e.domesticMigrants]));C.reduce(((e,a)=>(e.directlyHiredWorkers+=a.directlyHiredWorkers,e.thirdParty+=a.thirdParty,e.domesticMigrants+=a.domesticMigrants,e)),{directlyHiredWorkers:0,thirdParty:0,domesticMigrants:0});console.log("Data",P);const k=function(){return{responsive:!0,plugins:{datalabels:{display:!0,anchor:"end",offset:-20,color:"black",align:"start"},legend:{labels:{usePointStyle:!0,font:{size:10}}},title:{display:!0,text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},tooltip:{callbacks:{title:e=>{var a,t;return"".concat(null===(a=e[0])||void 0===a?void 0:a.dataset.label," - ").concat(null===(t=e[0])||void 0===t?void 0:t.raw)},label:e=>"".concat(e.raw)}}},scales:{x:{grid:{display:!1},alignToPixels:"start",align:"start"},y:{min:0,suggestedMax:arguments.length>1?arguments[1]:void 0}}}},A=function(e){return{plugins:{annotation:{annotations:{label1:{display:!1,type:"label",position:"end",textAlign:"left",xValue:2.5,yValue:60,backgroundColor:"rgba(245, 245, 245)",content:["**Note - Companies that do not appear on the graph is because they"," have 0 directly hired workers or have not submitted their data"],font:{size:10},xAdjust:350,yAdjust:320}}},datalabels:{display:!1},legend:{position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left",labels:{usePointStyle:!0,font:{size:12},color:"black"}},title:{display:!0,text:e,font:{size:14},color:"black"},tooltip:{callbacks:{label:e=>": ".concat(e.parsed,"%")}}}}},G=["Policy","Governance","Identify and Assess","Address, Prevent & Mitigate","Remedy","Transparency and verification"],M=["Policy Commitment","Governance","Assess Human Rights Potential and Actual Impact","Integrate and Act in order To Prevent and Mitigate","Track The Effectiveness Of Responses","Report","Remedy"],W=["Policy","Governance","Identify and Assess","Address, Prevent & Mitigate","Remedy","Transparency and verification"],Z=["COUNTRY- OPERATION HRDD REQUIREMENTS","HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)"],I=["COUNTRY- OPERATION HRDD REQUIREMENTS","HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)","HRDD Reporting Framework (Country)","HRDD Reporting Framework (Global)"],E=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;const t=e.replace(/\s{2,}/g," ").split(" "),l=[];let s="";return t.forEach((e=>{""!==e.trim()&&(s.split(" ").length+1<=a?s+=e+" ":(l.push(s.trim()),s=e+" "))})),s.trim().length>0&&l.push(s.trim()),l};var R=t(41473),H=t(55818),T=t(3721),O=t(20890),z=t(81131);const Q=function(e){let{title:a,children:t,defaultExpanded:s=!0,expanded:i=!0,setExpanded:n=(()=>{}),name:d=""}=e;console.log("expanded in expanded",i);const[r,o]=(0,l.useState)(!1);return(0,j.jsxs)(R.Z,{defaultExpanded:s,expanded:i,onChange:(e,a)=>((e,a)=>{console.log("expanded onchange",a),n((e=>({...e,[d]:!e[d]})))})(0,a),children:[(0,j.jsx)(H.Z,{expandIcon:(0,j.jsx)(z.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,j.jsx)(O.Z,{children:a})}),(0,j.jsx)(T.Z,{children:(0,j.jsx)(O.Z,{children:t})})]})};var F=t(31752);w.kL.register(w.qi,w.u,w.De,F.Z);function L(e){var a,t,s,i,n,d,r,o,c,u,m,p,h,v,b,g,x,y;const[f,D]=(0,l.useState)(1e3),[N,w]=(0,l.useState)(1024);(0,l.useEffect)((()=>{console.log("screen size - ",window.innerWidth),N<=window.innerWidth&&(console.log("in if screen size - ",window.innerWidth),D(500),w(window.innerWidth))}),[N,window.innerWidth]),console.log("screen size - ",window.innerWidth);let C=[...E(e.graphTitle.title1,30),"Submitted - ".concat(null!==e&&void 0!==e&&null!==(a=e.submittedData)&&void 0!==a&&a.submittedPercent?null===e||void 0===e||null===(t=e.submittedData)||void 0===t?void 0:t.submittedPercent:0,"%, Not Submitted - ").concat(null!==e&&void 0!==e&&null!==(s=e.submittedData)&&void 0!==s&&s.unsubmittedPercent?null===e||void 0===e||null===(i=e.submittedData)||void 0===i?void 0:i.unsubmittedPercent:0,"%")],P=[...E(e.graphTitle.title2,30),"Submitted - ".concat(null!==e&&void 0!==e&&null!==(n=e.submittedData)&&void 0!==n&&n.submittedPercent?null===e||void 0===e||null===(d=e.submittedData)||void 0===d?void 0:d.submittedPercent:0,"%, Not Submitted - ").concat(null!==e&&void 0!==e&&null!==(r=e.submittedData)&&void 0!==r&&r.unsubmittedPercent?null===e||void 0===e||null===(o=e.submittedData)||void 0===o?void 0:o.unsubmittedPercent:0,"%")],k=[...E(e.graphTitle.title3,30),"Submitted - ".concat(null!==e&&void 0!==e&&null!==(c=e.submittedData)&&void 0!==c&&c.submittedPercent?null===e||void 0===e||null===(u=e.submittedData)||void 0===u?void 0:u.submittedPercent:0,"%, Not Submitted - ").concat(null!==e&&void 0!==e&&null!==(m=e.submittedData)&&void 0!==m&&m.unsubmittedPercent?null===e||void 0===e||null===(p=e.submittedData)||void 0===p?void 0:p.unsubmittedPercent:0,"%")];console.log("title01",C),console.log("props form doughnut chart page = ",e);const G=A(C,"top"),M=A(P,"top"),W=A(k,"top"),Z=(0,j.jsx)("div",{className:"note",children:(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Note"})," - Companies not represented on the graph either have zero workers in this category or have not submitted their data. Additionally, the data from the submitted companies constitutes 100% of the data represented on the graph."]})});return(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)(Q,{title:null===e||void 0===e||null===(h=e.graphTitle)||void 0===h?void 0:h.title1,expanded:null===e||void 0===e||null===(v=e.expanded)||void 0===v?void 0:v.expandDoughnutgraph1,name:"expandDoughnutgraph1",setExpanded:e.setExpanded,children:(0,j.jsxs)("div",{id:"chart4",children:[Z,(0,j.jsx)("div",{style:{height:"500px"},children:(0,j.jsx)(S.$I,{width:1e3,height:500,options:{responsive:!0,maintainAspectRatio:!1,...G},data:null===e||void 0===e?void 0:e.data})})]})}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsx)(Q,{title:null===e||void 0===e||null===(b=e.graphTitle)||void 0===b?void 0:b.title2,expanded:null===e||void 0===e||null===(g=e.expanded)||void 0===g?void 0:g.expandDoughnutgraph2,name:"expandDoughnutgraph2",setExpanded:e.setExpanded,children:(0,j.jsxs)("div",{id:"chart5",children:[(0,j.jsx)("div",{style:{display:"inline-block"}}),"  ",Z,(0,j.jsx)("div",{style:{height:"500px"},children:(0,j.jsx)(S.$I,{data:e.thirdPartyData,options:{responsive:!0,maintainAspectRatio:!1,...M}})})]})}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsx)(Q,{title:null===e||void 0===e||null===(x=e.graphTitle)||void 0===x?void 0:x.title3,expanded:null===e||void 0===e||null===(y=e.expanded)||void 0===y?void 0:y.expandDoughnutgraph3,name:"expandDoughnutgraph3",setExpanded:e.setExpanded,children:(0,j.jsxs)("div",{id:"chart6",children:[(0,j.jsx)("div",{style:{display:"inline-block"}}),"  ",Z,(0,j.jsx)("div",{style:{height:"500px"},children:(0,j.jsx)(S.$I,{data:e.domesticMigrantsData,options:{responsive:!0,maintainAspectRatio:!1,...W}})})]})})]})}var q=t(68096),_=t(58406),B=t(77196),U=t(94454),Y=t(49900),$=t(47071),V=t(97275),K=t(46363),J=t(61134),X=t(27954),ee=t(7792),ae=t(36571),te=t(51514),le=t(12104);const se={PaperProps:{style:{maxHeight:224,width:250}}};const ie=function(e){let{setDashboardReportPresent:a,setSubmittedData:t,setDashboardReport:s,dashboardRef:i,setDisableDownload:n,setResultType:d,setSelectedCountry:r,setIndicatorData:o,setFilteredData:u,disableDownload:m,setBarGraphOptions1:p,saveAsPdf:b,setIsAssessmentCountryType:g,expanded:x,setExpanded:y,setMemberCompanies:f,setDataForBarGraphs:D,options1:N,options2:w,options3:S,setAccordianTitles:C,setDoughnutGraphData1:P,setDoughnutGraphData2:A,setDoughnutGraphData:R}=e;const[H,T]=l.useState([]),[O,z]=(0,l.useState)([]),[Q,F]=(0,l.useState)([]),L={type:{required:"Select the type"},assessment:{required:"Select the assessment"},country:{required:"Select the country"},memberCompanies:{required:"Select the member company"},startDate:{required:"Select the start date"},endDate:{required:"Select the end date"},indicator:{required:"Select the indicator"}},{handleSubmit:ie,getValues:ne,control:de,reset:re,setValue:oe,trigger:ce,watch:ue}=(0,J.cI)({defaultValues:{type:"Workforce Data",assessment:"",country:"",memberCompanies:[],endDate:new Date,startDate:""}}),[me,pe]=(0,l.useState)(""),[he,ve]=(0,l.useState)(new Date),[be,ge]=(0,l.useState)(null),[xe,je]=(0,l.useState)(!1),[ye,fe]=(0,l.useState)(!1);function De(){const e=window.crypto.getRandomValues(new Uint8Array(1))[0];return Math.floor(e/256*255)}function Ne(){return"rgba(".concat(De(),", ").concat(De(),", ").concat(De(),", 0.5)")}const we=e=>{e.preventDefault()},Se=e=>{const{target:{value:t}}=e;if(o({}),console.log("value in member company change",t),g(!1),a(!1),D({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}}),"all"===t[t.length-1])return console.log("if value member company change",t),T(H.length===O.length?[]:O.map((e=>e.id))),oe("memberCompanies",H.length===O.length?[]:O.map((e=>e.id))),void n(!0);console.log("else value member company change",t),T(t),oe("memberCompanies",t),n(!0)};return console.log("member companies values = ",ne("memberCompanies")),(0,l.useEffect)((()=>{(async()=>{try{const e=await v.H.get(h.rm);z(e.data.map((e=>({id:e._id,label:e.companyName}))))}catch(e){console.log("error from getMemberCompanies from data filtres",e)}})(),(async()=>{try{const e=await v.H.get(h.od);console.log(e),F(e.data.map((e=>e.name)))}catch(e){console.log("error from getCountries API",e)}})()}),[]),(0,j.jsx)("div",{className:"page-wrapper",children:(0,j.jsx)("section",{children:(0,j.jsx)("div",{className:"card-wrapper",children:(0,j.jsx)("form",{onSubmit:ie((async e=>{var l;console.log("data = ",e);let d=O.filter((e=>H.find((a=>e.id===a))));var c,m,b,j,N,w,S,P,A,G,M,W,Z,I,R;(console.log("memberOption",d),f([...d]),r(null===(l=e)||void 0===l?void 0:l.country),console.log("member company data = ",e.memberCompanies),console.log("member company  = ",H),"Indicators"!==e.type)?(e.endDate=new Date((new Date).setDate(new Date(e.endDate).getDate()+1)).toISOString(),e.type="SAQ",u([["Type",null===(c=e)||void 0===c?void 0:c.type],["Assessment",null===(m=e)||void 0===m?void 0:m.assessment],["Country",null!==(b=e)&&void 0!==b&&b.country?null===(j=e)||void 0===j?void 0:j.country:"NA"],["Member Companies",[...d.map((e=>" "+(null===e||void 0===e?void 0:e.label)))]],["Start Date",new Date(null===(N=e)||void 0===N?void 0:N.startDate).toLocaleDateString("en")],["End Date",new Date(null===(w=e)||void 0===w?void 0:w.endDate).toLocaleDateString("en")]])):(e={indicator:null===(S=e)||void 0===S?void 0:S.indicator,assessment:null===(P=e)||void 0===P?void 0:P.assessment,type:null===(A=e)||void 0===A?void 0:A.type,country:null===(G=e)||void 0===G?void 0:G.country},u([["Type",null===(M=e)||void 0===M?void 0:M.type],["Assessment",null===(W=e)||void 0===W?void 0:W.assessment],["Country",null!==(Z=e)&&void 0!==Z&&Z.country?null===(I=e)||void 0===I?void 0:I.country:"NA"],["Indicator",null===(R=e)||void 0===R?void 0:R.indicator]]));g("COUNTRY- OPERATION HRDD REQUIREMENTS"===e.assessment);try{var T;const l=await v.H.post(h.h1,{...e});if(console.log("expanded graph in dashboard filter= ",x.expandBarGraph),a(!0),y((e=>({...e,expandBarGraph:!0,expandBarGraph1:!0,expandBarGraph2:!0,expandBarGraph3:!0,expandDoughnutgraph1:!0,expandDoughnutgraph2:!0,expandDoughnutgraph3:!0,expandDoughnutGraph:!0,expandCompanySAQGraph:!0,expandCountrySAQGraph:!0,expandIndicator:!0,expandFilters:!1,expandTotalWorker:!1}))),t({...null===l||void 0===l||null===(T=l.data)||void 0===T?void 0:T.submissionData}),console.log("Response from dashboard",l.data),window.scrollBy({top:250,behavior:"smooth"}),"Workforce Data"===ue("type")){var z,Q,F,L,q,_,B,U,Y,$,V,K,J;let e=0,a=0,t=0,s=null===l||void 0===l||null===(z=l.data)||void 0===z?void 0:z.data.filter((e=>"Other"!==(null===e||void 0===e?void 0:e.memberName))).map((e=>e));console.log("companies=",s),s.forEach((l=>{l.directlyHired>e&&(console.log("max directly hired before in foreach",e),e=l.directlyHired,console.log("max directly hired after in foreach",e)),l.thirdParty>a&&(a=l.thirdParty),l.domesticMigrant>t&&(t=l.domesticMigrant)}));let i=s.length>30?.4:s.length>15&&s.length<=30?.5:s.length<15?.8:0;console.log("bar percent",i),console.log("companies - ",null===s||void 0===s?void 0:s.length),console.log("max directly hired before",e),e=1e3*Math.ceil(e/1e3)+1e4,a=1e3*Math.ceil(a/1e3)+1e4,t=1e3*Math.ceil(t/1e3)+1e3,console.log("max directly hired",e),p({barGraphOptions1:k("Total - ".concat(null===l||void 0===l||null===(Q=l.data)||void 0===Q||null===(F=Q.total)||void 0===F?void 0:F.directlyHired),e),barGraphOptions2:k("Total - ".concat(null===l||void 0===l||null===(L=l.data)||void 0===L||null===(q=L.total)||void 0===q?void 0:q.thirdParty),a),barGraphOptions3:k("Total - ".concat(null===l||void 0===l||null===(_=l.data)||void 0===_||null===(B=_.total)||void 0===B?void 0:B.domesticMigrant),t)}),e=0,a=0,t=0;let n=null===l||void 0===l||null===(U=l.data)||void 0===U?void 0:U.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).filter((e=>void 0!==e.directlyHiredPercent)).map((e=>"".concat(null===e||void 0===e?void 0:e.memberName," - ").concat(null===e||void 0===e?void 0:e.directlyHiredPercent,"%"))),d=null===l||void 0===l||null===(Y=l.data)||void 0===Y?void 0:Y.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).filter((e=>void 0!==e.thirdPartyPercent)).map((e=>"".concat(null===e||void 0===e?void 0:e.memberName," - ").concat(null===e||void 0===e?void 0:e.thirdPartyPercent,"%"))),r=null===l||void 0===l||null===($=l.data)||void 0===$?void 0:$.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).filter((e=>void 0!==e.domesticMigrantPercent)).map((e=>"".concat(null===e||void 0===e?void 0:e.memberName," - ").concat(null===e||void 0===e?void 0:e.domesticMigrantPercent,"%"))),c=null===l||void 0===l||null===(V=l.data)||void 0===V?void 0:V.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).map((e=>null===e||void 0===e?void 0:e.directlyHiredPercent)),u=null===l||void 0===l||null===(K=l.data)||void 0===K?void 0:K.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).map((e=>null===e||void 0===e?void 0:e.thirdPartyPercent)),m=null===l||void 0===l||null===(J=l.data)||void 0===J?void 0:J.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).map((e=>null===e||void 0===e?void 0:e.domesticMigrantPercent)),h=c.map((()=>Ne()));C((e=>({title1:null===l||void 0===l?void 0:l.data.columns[0],title2:null===l||void 0===l?void 0:l.data.columns[1],title3:null===l||void 0===l?void 0:l.data.columns[2]}))),D((e=>{var a,t,s;let p={...e};return p.directlyHired.barGraph.labels=E(null===l||void 0===l?void 0:l.data.columns[0],30),p.thirdParty.barGraph.labels=E(null===l||void 0===l?void 0:l.data.columns[1],30),p.domesticMigrants.barGraph.labels=E(null===l||void 0===l?void 0:l.data.columns[2],30),p.thirdParty.barGraph.datasets=null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data.filter((e=>"Other"!=e.memberName&&void 0!==e.thirdParty)).sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).map((e=>({label:e.memberName,data:[e.thirdParty],barPercentage:i,backgroundColor:Ne()}))),p.thirdParty.doughnutGraph.labels=d,p.thirdParty.doughnutGraph.datasets=[{data:[...u],backgroundColor:[...h],borderColor:[...h],borderWidth:1}],p.directlyHired.barGraph.datasets=null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data.filter((e=>"Other"!=e.memberName&&void 0!=e.directlyHired)).sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).map((e=>({label:e.memberName,data:[e.directlyHired],barPercentage:i,backgroundColor:Ne()}))),p.directlyHired.doughnutGraph.labels=n,p.directlyHired.doughnutGraph.datasets=[{data:[...c],backgroundColor:[...h],borderColor:[...h],borderWidth:1}],p.domesticMigrants.barGraph.datasets=null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.data.filter((e=>"Other"!=e.memberName&&void 0!=e.domesticMigrant)).sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),i=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<i?-1:s>i?1:0})).map((e=>({label:e.memberName,data:[e.domesticMigrant],barPercentage:i,backgroundColor:Ne()}))),p.domesticMigrants.doughnutGraph.labels=r,p.domesticMigrants.doughnutGraph.datasets=[{data:[...m],backgroundColor:[...h],borderColor:[...h],borderWidth:1}],console.log("data for bar graphs = ",p),o({}),p}))}else o({...l.data,indicator:ne("indicator")}),D({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}});n(!1)}catch(X){n(!0),s({titleMessage:"Oops!",descriptionMessage:"Something went wrong!",messageType:"error"},(()=>i.current())),console.log("error from submit filter data",X)}console.log(e)})),children:(0,j.jsxs)("div",{className:"card-blk flex-between",children:[(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{htmlFor:"type",children:["Type ",(0,j.jsx)("span",{className:"mandatory",children:"*"})]}),(0,j.jsx)(K.Z,{control:de,myOnChange:e=>{pe((a=>e.target.value)),d(e.target.value),oe("type",e.target.value),a(!1),oe("assessment",""),oe("country",""),oe("endDate",new Date),ve(new Date),o({}),n(!0),g(!1),D({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}}),"Indicators"===e.target.value&&(oe("endDate",""),oe("startDate",""),oe("assessment","HRDD Reporting Framework (Global)"),ge(null),ve(null))},name:"type",options:["Workforce Data","Indicators"],rules:{required:!0},myHelper:L,placeholder:"Select type"})]})}),(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["Assessment ",(0,j.jsx)("span",{className:"mandatory",children:" *"})]}),(0,j.jsx)(K.Z,{control:de,myOnChange:e=>{oe("assessment",e.target.value),oe("memberCompanies",[]),oe("indicator",""),g(!1),a(!1),oe("country",""),T([]),o({}),n(!0),D({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}})},name:"assessment",options:"Indicators"===ue("type")?I:Z,rules:{required:!0},myHelper:L,placeholder:"Select assessment"})]})}),(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["Country ",(0,j.jsx)("span",{className:"mandatory",children:" *"})]}),(0,j.jsx)(K.Z,{isDisabled:"COUNTRY- OPERATION HRDD REQUIREMENTS"!==ue("assessment")&&"HRDD Reporting Framework (Country)"!==ue("assessment"),control:de,myOnChange:e=>{oe("country",e.target.value),n(!0),o({}),a(!1),g(!1),D({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}})},name:"country",options:Q,rules:{required:"COUNTRY- OPERATION HRDD REQUIREMENTS"===ue("assessment")||"HRDD Reporting Framework (Country)"===ue("assessment")},myHelper:L,placeholder:"Select country"})]})}),"Indicators"===ue("type")&&(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["Indicator ",(0,j.jsx)("span",{className:"mandatory",children:" *"})]}),(0,j.jsx)(K.Z,{isDisabled:"Workforce Data"===ue("type"),control:de,name:"indicator",options:"HRDD Reporting Framework (Global)"===ue("assessment")?G:"HRDD Reporting Framework (Country)"===ue("assessment")?W:M,rules:{required:"Indicators"===ue("type")},myHelper:L,placeholder:"Select indicator",myOnChange:e=>{oe("indicator",e.target.value),n(!0),o({}),a(!1)}})]})}),"Workforce Data"===ue("type")&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["Member Companies ",(0,j.jsx)("span",{className:"mandatory",children:" *"})]}),(0,j.jsx)(J.Qr,{name:"memberCompanies",control:de,rules:{required:"Select the member company"},render:e=>{let{field:a,fieldState:{error:t}}=e;return(0,j.jsxs)(q.Z,{style:{width:"100%"},children:[(0,j.jsxs)(_.Z,{...a,IconComponent:e=>(0,j.jsx)(le.Z,{...e}),multiple:!0,displayEmpty:!0,className:"dashboard-select-component",fullWidth:!0,onChange:Se,input:(0,j.jsx)(B.Z,{...a}),renderValue:e=>null!==e&&void 0!==e&&e.includes("all")?"All Member Companies":(null===e||void 0===e?void 0:e.length)<1?"Select member companies":null===e||void 0===e?void 0:e.map((e=>O.find((a=>a.id===e)).label)).join(", "),MenuProps:se,children:[(0,j.jsxs)(c.Z,{value:"all",children:[(0,j.jsx)(U.Z,{checked:O.length>0&&H.length===O.length}),(0,j.jsx)(Y.Z,{primary:"Select All"})]},"all"),O.map((e=>(0,j.jsxs)(c.Z,{value:e.id,children:[(0,j.jsx)(U.Z,{checked:H.includes("all")||H.includes(e.id)}),(0,j.jsx)(Y.Z,{primary:e.label})]},e.label)))]}),(0,j.jsx)($.Z,{children:t&&(null===t||void 0===t?void 0:t.message)})]})}})]})}),(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["Start Date ",(0,j.jsx)("span",{className:"mandatory",children:" *"})]}),(0,j.jsx)(J.Qr,{name:"startDate",control:de,disabled:"Indicators"===ue("type"),rules:{required:!0},render:e=>{let{field:t,fieldState:{error:l}}=e;return(0,j.jsx)(ae._,{dateAdapter:ee.y,children:(0,j.jsx)(te.M,{open:xe,onClose:()=>je(!1),onOpen:()=>je(!0),name:"startDate",disableFuture:!0,disabled:"Indicators"===ue("type"),componentsProps:{actionBar:{actions:["clear"]}},className:"datepicker-blk",components:{OpenPickerIcon:X.Z},value:be,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";ge(e),n(!0),a(!1),oe("startDate",null===e||void 0===e?void 0:e.toISOString())},renderInput:e=>(0,j.jsx)(V.Z,{onClick:e=>je(!0),autoComplete:"off",...e,className:" input-field ".concat(l&&"input-error"),onKeyDown:we,placeholder:"MM/DD/YYYY",error:!0,helperText:l?L.startDate[l.type]:" "})})})}})]})}),(0,j.jsx)("div",{className:"card-form-field",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["End Date ",(0,j.jsx)("span",{className:"mandatory",children:" *"})]}),(0,j.jsx)(J.Qr,{name:"endDate",control:de,disabled:"Indicators"===ue("type"),rules:{required:!0},render:e=>{let{field:t,fieldState:{error:l}}=e;return(0,j.jsx)(ae._,{dateAdapter:ee.y,children:(0,j.jsx)(te.M,{open:ye,onClose:()=>fe(!1),onOpen:()=>fe(!0),slotProps:{textField:{onClick:()=>fe(!0)}},disabled:"Indicators"===ue("type"),componentsProps:{actionBar:{actions:["clear"]}},className:"datepicker-blk",components:{OpenPickerIcon:X.Z},value:he,disableFuture:!0,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";ve(e),n(!0),a(!1),oe("endDate",null===e||void 0===e?void 0:e.toISOString())},renderInput:e=>(0,j.jsx)(V.Z,{autoComplete:"off",...e,className:" input-field ".concat(l&&"input-error"),onKeyDown:we,onClick:e=>fe(!0),placeholder:"MM/DD/YYYY",error:!0,helperText:l?L.endDate[l.type]:" "})})})}})]})})]}),(0,j.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,j.jsx)("button",{type:"reset",className:"secondary-button mr-10",onClick:()=>{re({type:"Workforce Data",assessment:"",country:"",memberCompanies:[],endDate:new Date,startDate:""}),ge(null),ve(new Date),a(!1),T([]),y((e=>({...e,expandBarGraph:!1,expandDoughnutGraph:!1,expandFilters:!0,expandDoughnutgraph1:!1}))),g(!1),o({}),u([]),n(!0),r(),t({}),D({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}})},children:"Reset Filter"}),(0,j.jsx)("button",{type:"reset",className:"secondary-button mr-10",disabled:m,onClick:()=>b("chart-container"),children:"Download"}),(0,j.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Search"})]})]})})})})})};w.kL.register(w.qi,w.u,w.De);var ne=t(79836),de=t(53382),re=t(53994),oe=t(39281),ce=t(56890),ue=t(35855),me=t(35527);t(71605);const pe=function(e){let{records:a,type:t}=e;return(0,j.jsx)("div",{children:(0,j.jsx)(oe.Z,{component:me.Z,children:(0,j.jsxs)(ne.Z,{"aria-label":"simple table",children:[(0,j.jsx)(ce.Z,{children:(0,j.jsxs)(ue.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:[(0,j.jsx)(re.Z,{style:{width:"40%"},children:t}),(0,j.jsx)(re.Z,{align:"center",children:"Submitted"}),(0,j.jsx)(re.Z,{align:"center",children:"Pending"}),(0,j.jsx)(re.Z,{align:"center",children:"Total"})]})}),(0,j.jsx)(de.Z,{children:a.length>0?a.map(((e,a)=>(0,j.jsxs)(ue.Z,{children:[(0,j.jsx)(re.Z,{style:{width:"40%"},component:"th",scope:"row",children:"Member Company"===t?null===e||void 0===e?void 0:e.memberCompany:e.country}),(0,j.jsx)(re.Z,{align:"center",children:null===e||void 0===e?void 0:e.submitted}),(0,j.jsx)(re.Z,{align:"center",children:null===e||void 0===e?void 0:e.pending}),(0,j.jsx)(re.Z,{align:"center",children:null===e||void 0===e?void 0:e.total})]},a))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"10",children:(0,j.jsx)("div",{className:"no-records-blk",children:(0,j.jsx)("h2",{className:"heading2",children:"No records available"})})})})})]})})})};w.kL.register(w.uw,w.f$,w.ZL,w.Dx,w.u,w.De);const he=function(e){var a,t,s;let{memberCompanies:i,setCompanySAQData:n}=e;const[d,r]=(0,l.useState)([]);console.log("member companies = ",i);const[o,u]=(0,l.useState)(i),[m,p]=(0,l.useState)("Select Company"),[b,g]=(0,l.useState)();(0,l.useEffect)((()=>{x()}),[m]);const x=async()=>{try{var e,a,t;const l=await v.H.get(h.dl+m);console.log("response from company saq status = ",l),console.log("rows= ",null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.barGraph.map((e=>Object.values(e)))),console.log("rows= ",null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.barGraph.map((e=>Object.keys(e))));let s=["country","submitted","pending","total"];const d=e=>s.map((a=>e[a]));n({columns:s,rows:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.barGraph.map((e=>d(e)))});let o=i.filter((e=>e.id===m));console.log("selectedMemberCompanyName",o),n((e=>({...e,company:o[0].label}))),r(l.data.barGraph),g(l.data.pieChart)}catch(l){console.log("error from company saq",l)}};console.log("piechart = ",b),d.map((e=>e.country)),d.map((e=>null===e||void 0===e?void 0:e.submitted)),d.map((e=>null===e||void 0===e?void 0:e.pending)),null===b||void 0===b||b.columns,null===b||void 0===b||null===(a=b.data)||void 0===a||a.directlyHiredPercent,null===b||void 0===b||null===(t=b.data)||void 0===t||t.thirdPartyPercent,null===b||void 0===b||null===(s=b.data)||void 0===s||s.domesticMigrantPercent;const y={PaperProps:{style:{maxHeight:168}}},f=(0,j.jsx)(q.Z,{style:{width:"50%"},children:(0,j.jsx)(_.Z,{IconComponent:e=>(0,j.jsx)(le.Z,{...e}),MenuProps:y,className:"saq-status-dropdown",labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:e=>{var a;p(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)},children:null===i||void 0===i?void 0:i.map((e=>(0,j.jsx)(c.Z,{value:e.id,children:(0,j.jsx)(Y.Z,{primary:e.label})},e.label)))})});return(0,j.jsxs)("div",{children:[f,(0,j.jsx)("div",{className:"saq-status-table-wrapper",children:(0,j.jsx)(pe,{type:"Country",records:d})}),(0,j.jsx)("div",{}),(0,j.jsx)("div",{})]})};w.kL.register(w.uw,w.f$,w.ZL,w.Dx,w.u,w.De);const ve=function(e){let{memberCompanies:a,setCountrySAQData:t}=e;const[s,i]=(0,l.useState)([]);console.log("member companies = ",a);const[n,d]=(0,l.useState)(""),[r,o]=(0,l.useState)([]);(0,l.useEffect)((()=>{m(),u()}),[n]);const u=async()=>{try{const e=await v.H.get(h.od);console.log(e),o(e.data.map((e=>e.name)))}catch(e){console.log("error from getCountries API",e)}},m=async()=>{try{var e;const a=await v.H.get(h.y1+n);console.log("response from country saq status = ",a),i(a.data);let l=["memberCompany","submitted","pending","total"];const s=e=>l.map((a=>e[a]));t({columns:l,rows:null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.map((e=>s(e))),country:n})}catch(a){console.log("error from country saq",a)}},p=(s.map((e=>e.memberCompany)),s.map((e=>null===e||void 0===e?void 0:e.submitted)),s.map((e=>null===e||void 0===e?void 0:e.pending)),s.map((e=>null===e||void 0===e?void 0:e.total)),{PaperProps:{style:{maxHeight:168}}}),b=(0,j.jsx)(q.Z,{style:{width:"50%"},children:(0,j.jsx)(_.Z,{IconComponent:e=>(0,j.jsx)(le.Z,{...e}),MenuProps:p,className:"saq-status-dropdown",labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:e=>{var a;return d(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)},children:r.map((e=>(0,j.jsx)(c.Z,{value:e,children:(0,j.jsx)(Y.Z,{primary:e})},e)))})});return(0,j.jsxs)("div",{className:"select-field",children:[b,(0,j.jsx)("div",{className:"saq-status-table-wrapper",children:(0,j.jsx)(pe,{type:"Member Company",records:s})}),(0,j.jsx)("div",{})]})};t(47648);w.kL.register(w.qi,w.u,w.De);const be=function(){var e;const a={labels:["Directly Hired Workers","Third Party Workers"],datasets:[{data:[],backgroundColor:["#318ad0","#cedfee"],borderColor:[""],borderWidth:1}]},t={labels:["Domestic & Foreign Migrant Workers","Others"],datasets:[{data:[],backgroundColor:["#f6a623","#fbe6c1"],borderColor:[""],borderWidth:1}]},[s,i]=(0,l.useState)({...a}),[n,d]=(0,l.useState)({...t});(0,l.useEffect)((()=>{m()}),[]);const[r,o]=(0,l.useState)(""),[c,u]=(0,l.useState)(""),m=async()=>{try{var e,l,s,n,r,c,m,p,b,g,x,j,y,f,D,N,w,S,C,P;const k=await v.H.get(h.SK);console.log("Response from total workers",k),a.labels=["Directly Hired Workers - ".concat(null===k||void 0===k||null===(e=k.data)||void 0===e||null===(l=e.graph1)||void 0===l?void 0:l.directlyHiredPercent,"%"),"Third Party Workers - ".concat(null===k||void 0===k||null===(s=k.data)||void 0===s||null===(n=s.graph1)||void 0===n?void 0:n.thirdPartyPercent,"%")],a.datasets[0].data=[null===k||void 0===k||null===(r=k.data)||void 0===r||null===(c=r.graph1)||void 0===c?void 0:c.directlyHiredPercent,null===k||void 0===k||null===(m=k.data)||void 0===m||null===(p=m.graph1)||void 0===p?void 0:p.thirdPartyPercent],t.labels=["Domestic & Foreign Migrant Workers - ".concat(null===k||void 0===k||null===(b=k.data)||void 0===b||null===(g=b.graph2)||void 0===g?void 0:g.domesticMigrantPercent,"%"),"Others - ".concat(null===k||void 0===k||null===(x=k.data)||void 0===x||null===(j=x.graph2)||void 0===j?void 0:j.otherPercent,"%")],t.datasets[0].data=[null===k||void 0===k||null===(y=k.data)||void 0===y||null===(f=y.graph2)||void 0===f?void 0:f.domesticMigrantPercent,null===k||void 0===k||null===(D=k.data)||void 0===D||null===(N=D.graph2)||void 0===N?void 0:N.otherPercent],i({...a}),d({...t}),o("Total Workers - ".concat(null===k||void 0===k||null===(w=k.data)||void 0===w||null===(S=w.graph1)||void 0===S?void 0:S.total)),u("Domestic & Foreign Migrant Workers - ".concat(null===k||void 0===k||null===(C=k.data)||void 0===C||null===(P=C.graph2)||void 0===P?void 0:P.domesticMigrantTotal))}catch(k){console.log("error from fetch total workers",k)}};return console.log("totaldata=",s),(0,j.jsx)("div",{children:(null===s||void 0===s||null===(e=s.datasets[0])||void 0===e?void 0:e.data.length)>0&&(0,j.jsxs)("div",{style:{display:"flex",width:"100%",margin:"auto"},id:"tchart",children:[(0,j.jsxs)("div",{style:{width:"50%",margin:"auto"},children:[(0,j.jsx)("div",{style:{display:"inline-block"}}),"  ",(0,j.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,j.jsx)(S.$I,{data:s,options:{responsive:!0,maintainAspectRatio:!1,...A(r,"top")},width:1e3,height:450})})]}),(0,j.jsxs)("div",{style:{width:"50%",margin:"auto"},children:[(0,j.jsx)("div",{style:{display:"inline-block"}}),"  ",(0,j.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,j.jsx)(S.$I,{data:n,options:{responsive:!0,maintainAspectRatio:!1,...A(c,"top")},width:1e3,height:450})})]})]})})};var ge=t(872);w.kL.register(w.qi,w.u,w.De);const xe=function(e){var a,t,s,i,n,d,r,o,c,u,m,p,h;let{indicatorData:v,setIndicatorTableData:b,submittedData:g}=e;console.log("indicator data",v),console.log("established",null===v||void 0===v||null===(a=v.graphData)||void 0===a?void 0:a.Established);let x=[...null===v||void 0===v||null===(t=v.tableData)||void 0===t?void 0:t.Established,...null===v||void 0===v||null===(s=v.tableData)||void 0===s?void 0:s["Not Initiated"],...null===v||void 0===v||null===(i=v.tableData)||void 0===i?void 0:i.Launched,...null===v||void 0===v||null===(n=v.tableData)||void 0===n?void 0:n.Leadership];console.log("all member companies",x);const y={labels:["Not Initiated","Launched","Established","Leadership"],datasets:[{data:[],backgroundColor:["#FFF67E","#BFEA7C","#9BCF53","#416D19"],borderColor:[""],borderWidth:1}]},[f,D]=(0,l.useState)({...y});let N=[{name:"Not Initiated",count:null===v||void 0===v||null===(d=v.tableData)||void 0===d||null===(r=d["Not Initiated"])||void 0===r?void 0:r.length},{name:"Launched",count:null===v||void 0===v||null===(o=v.tableData)||void 0===o||null===(c=o.Launched)||void 0===c?void 0:c.length},{name:"Leadership",count:null===v||void 0===v||null===(u=v.tableData)||void 0===u||null===(m=u.Leadership)||void 0===m?void 0:m.length},{name:"Established",count:null===v||void 0===v||null===(p=v.tableData)||void 0===p||null===(h=p.Established)||void 0===h?void 0:h.length}].sort(((e,a)=>e.count-a.count));return console.log("maxMembers = ",N),(0,l.useEffect)((()=>{var e,a,t,l,s,i,n,d;let r={...y};r.labels=["Not Initiated - ".concat(null===v||void 0===v||null===(e=v.graphData)||void 0===e?void 0:e["Not Initiated"],"%"),"Launched - ".concat(null===v||void 0===v||null===(a=v.graphData)||void 0===a?void 0:a.Launched,"%"),"Established - ".concat(null===v||void 0===v||null===(t=v.graphData)||void 0===t?void 0:t.Established,"%"),"Leadership - ".concat(null===v||void 0===v||null===(l=v.graphData)||void 0===l?void 0:l.Leadership,"%")],r.datasets[0].data=[null===v||void 0===v||null===(s=v.graphData)||void 0===s?void 0:s["Not Initiated"],null===v||void 0===v||null===(i=v.graphData)||void 0===i?void 0:i.Launched,null===v||void 0===v||null===(n=v.graphData)||void 0===n?void 0:n.Established,null===v||void 0===v||null===(d=v.graphData)||void 0===d?void 0:d.Leadership],D({...r}),b({rows:x.map(((e,a)=>{var t,l,s,i;return[e,null!==v&&void 0!==v&&null!==(t=v.tableData)&&void 0!==t&&t["Not Initiated"].includes(e)?"Yes":"--",null!==v&&void 0!==v&&null!==(l=v.tableData)&&void 0!==l&&l.Launched.includes(e)?"Yes":"--",null!==v&&void 0!==v&&null!==(s=v.tableData)&&void 0!==s&&s.Established.includes(e)?"Yes":"--",null!==v&&void 0!==v&&null!==(i=v.tableData)&&void 0!==i&&i.Leadership.includes(e)?"Yes":"--"]})),indicator:null===v||void 0===v?void 0:v.indicator})}),[v]),(0,j.jsxs)("div",{id:"ichart1",children:[f.datasets[0].data.length>0&&(0,j.jsx)("div",{style:{width:"60%",display:"block",marginLeft:"auto",marginRight:"auto",padding:"3%"},children:(0,j.jsx)(S.$I,{id:"indicatorchart",data:f,width:800,height:500,options:{responsive:!0,maintainAspectRatio:!1,...A([null===v||void 0===v?void 0:v.indicator,"Submitted - ".concat(null!==g&&void 0!==g&&g.submittedPercent?null===g||void 0===g?void 0:g.submittedPercent:0,"%, Not Submitted - ").concat(null!==g&&void 0!==g&&g.unsubmittedPercent?null===g||void 0===g?void 0:g.unsubmittedPercent:0,"%")],"top")}})}),(0,j.jsx)("div",{children:(0,j.jsx)(oe.Z,{style:{maxHeight:400},component:me.Z,children:(0,j.jsxs)(ne.Z,{"aria-label":"simple table",style:{position:"relative"},children:[(0,j.jsx)(ce.Z,{style:{position:"sticky",top:"0",zIndex:"9999",background:"#fff"},children:(0,j.jsxs)(ue.Z,{children:[(0,j.jsx)(re.Z,{style:{background:"rgba(69, 150, 209, 0.1)",opacity:"1"},children:"Member Company"}),(0,j.jsx)(re.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Not Initiated"}),(0,j.jsx)(re.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Launched"}),(0,j.jsx)(re.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Established"}),(0,j.jsx)(re.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Leadership"})]})}),(0,j.jsx)(de.Z,{children:x.length>0?x.map(((e,a)=>{var t,l,s,i;return(0,j.jsxs)(ue.Z,{children:[(0,j.jsx)(re.Z,{children:e}),(0,j.jsx)(re.Z,{children:null!==v&&void 0!==v&&null!==(t=v.tableData)&&void 0!==t&&t["Not Initiated"].includes(e)?(0,j.jsx)(ge.Z,{}):"--"}),(0,j.jsx)(re.Z,{children:null!==v&&void 0!==v&&null!==(l=v.tableData)&&void 0!==l&&l.Launched.includes(e)?(0,j.jsx)(ge.Z,{}):"--"}),(0,j.jsx)(re.Z,{children:null!==v&&void 0!==v&&null!==(s=v.tableData)&&void 0!==s&&s.Established.includes(e)?(0,j.jsx)(ge.Z,{}):"--"}),(0,j.jsx)(re.Z,{children:null!==v&&void 0!==v&&null!==(i=v.tableData)&&void 0!==i&&i.Leadership.includes(e)?(0,j.jsx)(ge.Z,{}):"--"})]},a)})):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"10",children:(0,j.jsx)("div",{className:"no-records-blk",children:(0,j.jsx)("h2",{className:"heading2",children:"No records available"})})})})})]})})})]})};var je=t(35125),ye=t(25498),fe=t.n(ye),De=t(12820),Ne=t(27659);w.kL.register(w.uw,w.f$,w.ZL,w.Dx,w.u,w.De,N.Z);const we=k(""),Se=k(""),Ce=k("");const Pe=function(){var e,a,t,s,i,n;const[d,r]=(0,l.useState)("Workforce Data"),[o,c]=(0,l.useState)({}),[u,m]=(0,De.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[p,h]=(0,l.useState)(""),[v,b]=(0,l.useState)({columns:[],rows:[]}),[g,x]=(0,l.useState)({columns:[],rows:[]}),[y,f]=(0,l.useState)({columns:[],rows:[]}),D=(0,l.useRef)(),[N,w]=(0,l.useState)({barGraphOptions1:k(""),barGraphOptions2:k(""),barGraphOptions3:k("")}),[C,P]=l.useState([]),[A,G]=(0,l.useState)(!1),[M,W]=(0,l.useState)(!1),[Z,I]=(0,l.useState)([]),[E,R]=(0,l.useState)({expandFilters:!0,expandBarGraph:!1,expandBarGraph1:!1,expandBarGraph2:!1,expandBarGraph3:!1,expandDoughnutgraph1:!1,expandDoughnutgraph2:!1,expandDoughnutgraph3:!1,expandDoughnutGraph:!1,expandCompanySAQGraph:!1,expandCountrySAQGraph:!1,expandTotalWorker:!0}),[H,T]=l.useState({}),[O,z]=(0,l.useState)(!0),[F,q]=(0,l.useState)({}),[_,B]=(0,l.useState)({}),[U,Y]=(0,l.useState)({title1:"",title2:"",title3:""}),[$,V]=(0,l.useState)({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}});console.log("countrySAQdata",g),console.log("companySAQData - ",v),console.log("DATA IN BAR GRAPH 1 - ",$),console.log("indicator data",F.graphData);const K=(0,j.jsxs)("p",{style:{fontSize:"x-small",width:"100%"},children:[(0,j.jsx)("b",{children:"Note"})," - Companies not represented on the graph either have zero workers in this category or have not submitted their data. Additionally, the data from the submitted companies constitutes 100% of the data represented on the graph."]});return(0,j.jsx)("div",{className:"page-wrapper",children:(0,j.jsxs)("section",{style:{margin:"5%"},children:[(0,j.jsx)(Ne.Z,{myRef:D,titleMessage:u.titleMessage,descriptionMessage:u.descriptionMessage,messageType:u.messageType}),(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)(Q,{expanded:E.expandFilters,name:"expandFilters",setExpanded:R,title:"Filters",defaultExpanded:!0,children:(0,j.jsx)(ie,{setDashboardReportPresent:G,setSubmittedData:c,dashboardRef:D,setDashboardReport:m,setDisableDownload:z,setResultType:r,setSelectedCountry:h,setFilteredData:B,disableDownload:O,setIndicatorData:q,setBarGraphOptions1:w,setIsAssessmentCountryType:W,saveAsPdf:()=>{R((e=>({...e,expandTotalWorker:!0,expandBarGraph:!0,expandBarGraph1:!0,expandBarGraph2:!0,expandBarGraph3:!0,expandDoughnutgraph1:!0,expandDoughnutgraph2:!0,expandDoughnutgraph3:!0,expandDoughnutGraph:!0,expandCompanySAQGraph:!0,expandCountrySAQGraph:!0}))),z(!0),setTimeout((()=>(async e=>{const a=new je.jsPDF("landscape","mm","a4");console.log("filteredData",_),a.setFontSize(16),a.text(10,20,"Filters"),a.autoTable(["Filters","Selected Values"],_,{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}}),a.addPage();for(let i=0;i<e.length;i++)if("companySAQ"!==e[i]&&"countrySAQ"!==e[i]&&"indicatorTableChart"!==e[i]){var t,l;const s=e[i],n=document.getElementById(s);if(!n){console.error("Container with ID ".concat(s," not found."));continue}const d=document.createElement("canvas");d.width=n.offsetWidth,d.height=n.offsetHeight;const r=d.getContext("2d");await fe()(n).then((e=>{r.drawImage(e,0,0,d.width,d.height)}));const o=d.toDataURL("image/png",1);i>0&&a.addPage(),a.addImage(o,"PNG",0,0,null===(t=a.internal.pageSize)||void 0===t?void 0:t.getWidth(),null===(l=a.internal.pageSize)||void 0===l?void 0:l.getHeight()),"tchart"===s&&(console.log("tchart it is"),a.setFontSize(16),a.text(10,10,"Total number of workers across the globe"))}else if("companySAQ"===e[i]&&M){var s;const e="Company's SAQ Status - ".concat(null!==(s=null===v||void 0===v?void 0:v.company)&&void 0!==s?s:"No company selected");console.log("companySAQData",v),i>0&&a.addPage(),a.setFontSize(16),a.text(10,20,e),a.autoTable(["Country","Submitted","Pending","Total"],v.rows.length>0?null===v||void 0===v?void 0:v.rows:[["--","--","--","--"]],{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}})}else if("countrySAQ"===e[i]&&M){const e="Country's SAQ Status - ".concat((null===g||void 0===g?void 0:g.country.length)>0?null===g||void 0===g?void 0:g.country:"No country selected");i>0&&a.addPage(),a.setFontSize(16),a.text(10,20,e),console.log("countrySAQdata",g),a.autoTable(["Member Company","Submitted","Pending","Total"],g.rows.length>0?g.rows:[["--","--","--","--"]],{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}})}else if("indicatorTableChart"===e[i]){const e="Indicator - ".concat(null===y||void 0===y?void 0:y.indicator);i>0&&a.addPage(),a.setFontSize(16),a.text(10,20,e),console.log("indicator table data",y);let t=(null===y||void 0===y?void 0:y.rows.length)<1?[["--","--","--","--","--"]]:y.rows;console.log("records --",t),a.autoTable(["Member Company","Not Initiated","Launched","Established","Leadership"],t,{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}})}a.save("Dashboard-report-".concat((new Date).toLocaleString(),".pdf")),m({titleMessage:"Hurray!",descriptionMessage:"File downloaded successfully!",messageType:"success"},(()=>D.current())),z(!1)})(null!==F&&void 0!==F&&F.graphData?["indicatorchart","indicatorTableChart"]:["tchart","chart1","chart2","chart3","chart4","chart5","chart6","companySAQ","countrySAQ"])),1e3)},expanded:E,setExpanded:R,setMemberCompanies:I,setDataForBarGraphs:V,personName:C,options1:we,options2:Se,options3:Ce,setAccordianTitles:Y})}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsxs)("div",{id:"chart-container",children:["Workforce Data"===d&&(0,j.jsx)(Q,{expanded:E.expandTotalWorker,name:"expandTotalWorker",setExpanded:R,title:"Total number of workers across the globe",children:(0,j.jsx)(be,{})}),(null===F||void 0===F?void 0:F.graphData)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsx)(Q,{title:"Indicators",expanded:E.expandIndicator,name:"expandIndicator",setExpanded:R,children:(0,j.jsx)(xe,{submittedData:o,indicatorData:F,setIndicatorTableData:f})})]}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),"Workforce Data"===d&&A&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(Q,{setExpanded:R,title:p.length>0?"Disaggregated Data  - (".concat(p,")"):"Disaggregated Data",expanded:null===E||void 0===E?void 0:E.expandBarGraph,name:"expandBarGraph",children:[(0,j.jsx)(Q,{title:U.title1,expanded:E.expandBarGraph1,name:"expandBarGraph1",setExpanded:R,children:(0,j.jsxs)("div",{id:"chart1",children:[(0,j.jsx)("div",{style:{display:"inline-block"},children:K}),"  ",(0,j.jsx)(S.$Q,{style:{backgroundColor:"white"},options:N.barGraphOptions1,data:null===$||void 0===$||null===(e=$.directlyHired)||void 0===e?void 0:e.barGraph})]})}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsxs)(Q,{title:U.title2,expanded:E.expandBarGraph2,name:"expandBarGraph2",setExpanded:R,children:[(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsxs)("div",{id:"chart2",children:[(0,j.jsx)("div",{style:{display:"inline-block"},children:K}),"  ",(0,j.jsx)(S.$Q,{style:{backgroundColor:"white"},options:N.barGraphOptions2,data:null===$||void 0===$||null===(a=$.thirdParty)||void 0===a?void 0:a.barGraph})]})]}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsxs)(Q,{title:U.title3,expanded:E.expandBarGraph3,name:"expandBarGraph3",setExpanded:R,children:[(0,j.jsxs)("div",{id:"chart3",children:[(0,j.jsx)("div",{style:{display:"inline-block"},children:K}),"  ",(0,j.jsx)(S.$Q,{style:{backgroundColor:"white"},options:N.barGraphOptions3,data:null===$||void 0===$||null===(t=$.domesticMigrants)||void 0===t?void 0:t.barGraph})]}),(0,j.jsx)("div",{class:"html2pdf__page-break"})]})]})}),"Workforce Data"===d&&A&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsx)(Q,{expanded:null===E||void 0===E?void 0:E.expandDoughnutGraph,name:"expandDoughnutGraph",setExpanded:R,title:p.length>0?"Worker Status - (".concat(p,")"):"Worker Status",children:(0,j.jsx)(L,{submittedData:o,expanded:E,setExpanded:R,graphTitle:U,data:null===$||void 0===$||null===(s=$.directlyHired)||void 0===s?void 0:s.doughnutGraph,thirdPartyData:null===$||void 0===$||null===(i=$.thirdParty)||void 0===i?void 0:i.doughnutGraph,domesticMigrantsData:null===$||void 0===$||null===(n=$.domesticMigrants)||void 0===n?void 0:n.doughnutGraph})})]}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),M&&"Workforce Data"===d&&(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsx)(Q,{expanded:E.expandCompanySAQGraph,name:"expandCompanySAQGraph",setExpanded:R,title:"Company's SAQ Status",children:(0,j.jsx)(he,{setCompanySAQData:b,memberCompanies:Z})}),(0,j.jsx)("div",{class:"html2pdf__page-break"}),(0,j.jsx)(Q,{expanded:E.expandCountrySAQGraph,name:"expandCountrySAQGraph",setExpanded:R,title:"Country's SAQ Status",children:(0,j.jsx)(ve,{setCountrySAQData:x})})]})]})]})]})})},ke=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(6091)]).then(t.bind(t,56091)))),Ae=l.lazy((()=>Promise.all([t.e(5904),t.e(8814)]).then(t.bind(t,28814)))),Ge=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(7600),t.e(8412)]).then(t.bind(t,8412)))),Me=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(5103)]).then(t.bind(t,65103)))),We=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(484)]).then(t.bind(t,20484)))),Ze=l.lazy((()=>Promise.all([t.e(9182),t.e(4655)]).then(t.bind(t,6614)))),Ie=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(5151)]).then(t.bind(t,15151)))),Ee=l.lazy((()=>Promise.all([t.e(1807),t.e(3364),t.e(5248)]).then(t.bind(t,25248)))),Re=l.lazy((()=>Promise.all([t.e(1807),t.e(3364),t.e(1118)]).then(t.bind(t,51118)))),He=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(3364),t.e(8299)]).then(t.bind(t,18299)))),Te=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(3183)]).then(t.bind(t,3183)))),Oe=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(7005)]).then(t.bind(t,47005)))),ze=l.lazy((()=>t.e(5737).then(t.bind(t,55737)))),Qe=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(4851)]).then(t.bind(t,84851)))),Fe=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(4981),t.e(6348)]).then(t.bind(t,36348)))),Le=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(4981),t.e(7307)]).then(t.bind(t,87307)))),qe=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(5904),t.e(7600),t.e(8497)]).then(t.bind(t,18497)))),_e=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(7600),t.e(9864)]).then(t.bind(t,99864)))),Be=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(5445)]).then(t.bind(t,15445)))),Ue=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(2318)]).then(t.bind(t,82318)))),Ye=l.lazy((()=>Promise.all([t.e(1807),t.e(8411),t.e(2389),t.e(6882),t.e(8518)]).then(t.bind(t,8518)))),$e=l.lazy((()=>Promise.all([t.e(1807),t.e(8411),t.e(6882),t.e(3336)]).then(t.bind(t,48617)))),Ve=l.lazy((()=>t.e(2172).then(t.bind(t,32172)))),Ke=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(6035)]).then(t.bind(t,26035)))),Je=l.lazy((()=>t.e(2517).then(t.bind(t,42517)))),Xe=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(5033)]).then(t.bind(t,95033)))),ea=l.lazy((()=>Promise.all([t.e(8411),t.e(7953),t.e(5209)]).then(t.bind(t,96916)))),aa=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(6563)]).then(t.bind(t,76563)))),ta=l.lazy((()=>Promise.all([t.e(1640),t.e(6593)]).then(t.bind(t,6593)))),la=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(9860)]).then(t.bind(t,49860)))),sa=l.lazy((()=>t.e(197).then(t.bind(t,20197)))),ia=()=>(0,j.jsx)(s.Z5,{children:(0,j.jsxs)(s.AW,{path:"/",element:(0,j.jsx)(f,{}),children:[(0,j.jsx)(s.AW,{path:"/home",element:(0,j.jsx)(Ze,{})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin",element:(0,j.jsx)(D,{moduleName:"",page:"",children:(0,j.jsx)(ke,{})})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin/add-cgf-admin",element:(0,j.jsx)(D,{moduleName:"",page:"",children:(0,j.jsx)(Ae,{})})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin/view-cgf-admin/:id",element:(0,j.jsx)(D,{moduleName:"",page:"",children:(0,j.jsx)(Ge,{})})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin/pending/view-cgf-admin/:id",element:(0,j.jsx)(D,{moduleName:"",page:"",children:(0,j.jsx)(Ge,{})})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin/edit-cgf-admin/:id",element:(0,j.jsx)(D,{children:(0,j.jsx)(Me,{})})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin/pending/edit-cgf-admin/:id",element:(0,j.jsx)(D,{children:(0,j.jsx)(Me,{})})}),(0,j.jsx)(s.AW,{path:"/users/cgf-admin/replace-cgf-admin/:id",element:(0,j.jsx)(D,{page:"",moduleName:"",children:(0,j.jsx)(We,{})})}),(0,j.jsx)(s.AW,{path:"/roles",element:(0,j.jsx)(D,{page:"",moduleName:"",children:(0,j.jsx)(Ie,{})})}),(0,j.jsx)(s.AW,{path:"/roles/add-role",element:(0,j.jsx)(D,{page:"",moduleName:"",children:(0,j.jsx)(Ee,{})})}),(0,j.jsx)(s.AW,{path:"/roles/view-role/:id",element:(0,j.jsxs)(D,{page:"",moduleName:"",children:[" ",(0,j.jsx)(He,{})]})}),(0,j.jsx)(s.AW,{path:"roles/edit-role/:id",element:(0,j.jsx)(D,{page:"",moduleName:"",children:(0,j.jsx)(Re,{})})}),(0,j.jsx)(s.AW,{path:"/cgf-dashboard",element:(0,j.jsx)(D,{page:"view",moduleName:"Dashboard",children:(0,j.jsx)(Pe,{})})}),(0,j.jsx)(s.AW,{path:"/users/members",element:(0,j.jsx)(D,{page:"list",moduleName:"Members",children:(0,j.jsx)(Qe,{})})}),(0,j.jsx)(s.AW,{path:"/users/members/add-member",element:(0,j.jsx)(D,{page:"add",moduleName:"Members",children:(0,j.jsx)(Fe,{})})}),(0,j.jsx)(s.AW,{path:"/users/members/edit-member/:id",element:(0,j.jsx)(D,{page:"edit",moduleName:"Members",children:(0,j.jsx)(Le,{})})}),(0,j.jsx)(s.AW,{path:"/users/members/edit-member/pending/:id",element:(0,j.jsx)(D,{page:"edit",moduleName:"Members",children:(0,j.jsx)(Le,{})})}),(0,j.jsx)(s.AW,{path:"/users/members/view-member/:id",element:(0,j.jsx)(D,{page:"view",moduleName:"Members",children:(0,j.jsx)(qe,{})})}),(0,j.jsx)(s.AW,{path:"/users/members/view-member/pending/:id",element:(0,j.jsx)(D,{page:"view",moduleName:"Members",children:(0,j.jsx)(qe,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-members",element:(0,j.jsx)(D,{page:"list",moduleName:"Operation Members",children:(0,j.jsx)(Oe,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-members/add-operation-member",element:(0,j.jsx)(D,{page:"add",moduleName:"Operation Members",children:(0,j.jsx)(Te,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-member/view-operation-member/:id",element:(0,j.jsx)(D,{page:"view",moduleName:"Operation Members",children:(0,j.jsx)(_e,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-member/pending/view-operation-member/:id",element:(0,j.jsx)(D,{page:"view",moduleName:"Operation Members",children:(0,j.jsx)(_e,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-member/edit-operation-member/:id",element:(0,j.jsx)(D,{page:"edit",moduleName:"Operation Members",children:(0,j.jsx)(Be,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-member/pending/edit-operation-member/:id",element:(0,j.jsx)(D,{page:"edit",moduleName:"Operation Members",children:(0,j.jsx)(Be,{})})}),(0,j.jsx)(s.AW,{path:"/users/operation-member/replace-operation-member/:id",element:(0,j.jsx)(D,{page:"delete",moduleName:"Operation Members",children:(0,j.jsx)(aa,{})})}),(0,j.jsx)(s.AW,{path:"/questionnaires",element:(0,j.jsx)(D,{page:"list",moduleName:"Questionnaire",children:(0,j.jsx)(Ue,{})})}),(0,j.jsx)(s.AW,{path:"/questionnaires/add-questionnaire/:id",element:(0,j.jsx)(D,{page:"add",moduleName:"Questionnaire",children:(0,j.jsx)(Ye,{})})}),(0,j.jsx)(s.AW,{path:"/questionnaires/edit-questionnaire/:id",element:(0,j.jsx)(D,{page:"edit",moduleName:"Questionnaire",children:(0,j.jsx)(Ye,{})})}),(0,j.jsx)(s.AW,{path:"/questionnaires/preview-questionnaire/:id",element:(0,j.jsx)(D,{page:"view",moduleName:"Questionnaire",children:(0,j.jsx)($e,{})})}),(0,j.jsx)(s.AW,{path:"/questionnaires/preview-questionnaire-version/:id",element:(0,j.jsx)($e,{})}),(0,j.jsx)(s.AW,{path:"/assessment-list/add-assessment",element:(0,j.jsx)(D,{page:"add",moduleName:"Assessment",children:(0,j.jsx)(Ve,{})})}),(0,j.jsx)(s.AW,{path:"/assessment-list",element:(0,j.jsx)(D,{page:"list",moduleName:"Assessment",children:(0,j.jsx)(Ke,{})})}),(0,j.jsx)(s.AW,{path:"/assessment-list/instructions",element:(0,j.jsx)(D,{page:"list",moduleName:"Assessment",children:(0,j.jsx)(sa,{})})}),(0,j.jsx)(s.AW,{path:"/assessment-list/edit-assessment/:id",element:(0,j.jsx)(D,{page:"edit",moduleName:"Assessment",children:(0,j.jsx)(Je,{})})}),(0,j.jsx)(s.AW,{path:"/assessment-list/assign-assessment/:id",element:(0,j.jsx)(Xe,{})}),(0,j.jsx)(s.AW,{path:"/assessment-list/fill-assessment/:id",element:(0,j.jsx)(ea,{})}),(0,j.jsx)(s.AW,{path:"/assessment-list/view-assessment/:id",element:(0,j.jsx)(ea,{})}),(0,j.jsx)(s.AW,{path:"*",element:(0,j.jsx)(ze,{})}),(0,j.jsx)(s.AW,{path:"/change-password",element:(0,j.jsx)(ta,{})}),(0,j.jsx)(s.AW,{path:"/questionnaire-version-history/:id",element:(0,j.jsx)(la,{})})]})})},12820:(e,a,t)=>{t.d(a,{Z:()=>s});var l=t(72791);const s=e=>{const[a,t]=(0,l.useState)(e),s=(0,l.useRef)([]);(0,l.useEffect)((()=>{s.current.forEach((e=>e(a))),s.current=[]}),[a]);return[a,(e,a)=>{t(e),a&&"function"===typeof a&&s.current.push(a)}]}},71605:()=>{}}]);
//# sourceMappingURL=2254.d372ba58.chunk.js.map