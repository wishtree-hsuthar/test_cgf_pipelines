"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8617],{59418:(e,l,n)=>{n.d(l,{Z:()=>g});var i=n(72791),o=n(94677),s=n(76218),t=n(57689),r=n(12820),a=n(27659),d=n(45736),c=n(79836),u=n(53382),v=n(53994),p=n(39281),m=n(35855),h=n(35527),x=n(20068),b=n(80184);const g=function(e){var l,n,g,j,f,y,w,Z,k,N;let{key:T,documentObj:q={},doc:M={},sectionUUID:P="",questionnaireId:C=""}=e;function D(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}console.log("qid",C),console.log("documentObj",q),console.log("doc",M),console.log("LINK ",null===q||void 0===q?void 0:q.link);const S=(0,t.s0)(),[I,R]=(0,r.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),E=(0,i.useRef)();return(0,b.jsxs)("div",{children:[(0,b.jsx)(a.Z,{myRef:E,titleMessage:I.titleMessage,descriptionMessage:I.descriptionMessage,messageType:I.messageType}),(0,b.jsx)(p.Z,{component:h.Z,children:(0,b.jsx)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,b.jsx)(u.Z,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(v.Z,{align:"left",style:{width:"50%"},children:null!==(l=null!==(n=null!==(g=null===q||void 0===q?void 0:q.documentTitle)&&void 0!==g?g:null===q||void 0===q?void 0:q.linkTitle)&&void 0!==n?n:null===M||void 0===M?void 0:M.documentTitle)&&void 0!==l?l:null===M||void 0===M?void 0:M.linkTitle}),(0,b.jsx)(v.Z,{align:"left",children:"Link"===(null===M||void 0===M?void 0:M.type)||"Link"===(null===q||void 0===q?void 0:q.type)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("a",{href:null!==q&&void 0!==q&&q.link?null!==q&&void 0!==q&&q.link.toLowerCase().startsWith("http")?null===q||void 0===q?void 0:q.link:"https://"+(null===q||void 0===q?void 0:q.link):null!==M&&void 0!==M&&M.link.toLowerCase().startsWith("https")?null===M||void 0===M?void 0:M.link:"https://"+(null===M||void 0===M?void 0:M.link),onClick:()=>{var e;return console.log("LINK ON ONCLICK",null!==(e="https://"+(null===M||void 0===M?void 0:M.link))&&void 0!==e?e:null===q||void 0===q?void 0:q.link)},target:"_blank",children:(0,b.jsx)(x.Z,{title:null!==(j=null!==(f=null===q||void 0===q?void 0:q.link)&&void 0!==f?f:M.link)&&void 0!==j?j:null===M||void 0===M?void 0:M.link,children:D(null!==(y=null===M||void 0===M?void 0:M.link)&&void 0!==y?y:null===q||void 0===q?void 0:q.link,70)})}),(0,b.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText((null===M||void 0===M?void 0:M.link)||(null===q||void 0===q?void 0:q.link)),R({titleMessage:"Hurray!",descriptionMessage:"Link copied successfully!",messageType:"success"},(()=>E.current()))}catch(e){console.error("Failed to copy link: ",e)}},children:"Copy Link"})]}):(0,b.jsx)("div",{href:"#",onClick:e=>{e.preventDefault(),(async()=>{try{var e,l;const n=await o.H.post(s.uj,{questionnaireId:C,sectionId:P,documentId:null!==(e=null===q||void 0===q?void 0:q.uuid)&&void 0!==e?e:M.uuid},{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([n.data])),t=document.createElement("a");t.href=i,t.setAttribute("download","".concat(null!==(l=null===q||void 0===q?void 0:q.originalName)&&void 0!==l?l:M.originalName)),document.body.appendChild(t),t.click(),201===n.status&&R({titleMessage:"Hurray!",descriptionMessage:"File downloaded successfully!",messageType:"success"},(()=>E.current()))}catch(n){(0,d.K)(n,R,E,S),console.log("Error from download other doc",n)}})()},style:{color:null!==M&&void 0!==M&&M.link?"none":"#4596D1",cursor:null!==M&&void 0!==M&&M.link?"default":"pointer"},children:(0,b.jsx)(x.Z,{title:null!==(w=null!==(Z=null===q||void 0===q?void 0:q.originalName)&&void 0!==Z?Z:M.originalName)&&void 0!==w?w:null===M||void 0===M?void 0:M.link,children:D(null!==(k=null!==(N=null===q||void 0===q?void 0:q.originalName)&&void 0!==N?N:M.originalName)&&void 0!==k?k:null===M||void 0===M?void 0:M.link,70)})})})]})})})})]})}},48617:(e,l,n)=>{n.r(l),n.d(l,{default:()=>F});var i=n(72791),o=n(697),s=n(25228),t=n(20068),r=n(43896),a=n(97275),d=n(58406),c=n(63903),u=n(88970),v=n(85523),p=n(61419),m=n(94454),h=n(51514),x=n(14917),b=n(7792),g=n(36571),j=n(12104),f=n(27954),y=n(80184);const w={PaperProps:{style:{maxHeight:168}},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},Z=e=>{let{question:l}=e,n=l.questionTitle,i="singleTextbox"===l.inputType?(0,y.jsx)(a.Z,{placeholder:"Enter text here",className:"input-field",InputProps:{readOnly:!0}}):"textarea"===l.inputType?(0,y.jsx)(a.Z,{multiline:!0,InputProps:{readOnly:!0},className:"input-textarea",placeholder:"Enter text here",variant:"outlined"}):"dropdown"===l.inputType?(0,y.jsx)("div",{className:"form-group",children:(0,y.jsx)("div",{className:"select-field",children:(0,y.jsx)(d.Z,{IconComponent:e=>(0,y.jsx)(j.Z,{...e}),value:l.questionTitle,MenuProps:w,renderValue:()=>(0,y.jsx)("div",{className:"select-placeholder",children:"Choose dropdown value"}),children:l.options.map((e=>(0,y.jsx)(c.Z,{value:e,disabled:!0,children:e},e)))})})}):"radioGroup"===l.inputType?(0,y.jsx)("div",{className:"radio-btn-field radio-btn-half-blk",children:(0,y.jsx)(u.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Active",name:"radio-buttons-group",className:"radio-btn radio-btn-vertical",children:l.options.map((e=>(0,y.jsx)(v.Z,{value:e,control:(0,y.jsx)(p.Z,{disabled:!0}),label:e},e)))})}):"checkbox"===l.inputType?(0,y.jsx)("div",{className:"checkbox-with-labelblk checkbox-btn-half-blk",children:l.options.map((e=>(0,y.jsx)(v.Z,{className:"checkbox-with-label checkbox-flex",control:(0,y.jsx)(m.Z,{disabled:!0}),label:e},e)))}):"date"===l.inputType?(0,y.jsx)(g._,{dateAdapter:b.y,children:(0,y.jsx)(h.M,{disabled:!0,value:null,className:"datepicker-blk",components:{OpenPickerIcon:f.Z},onChange:()=>{},renderInput:e=>(0,y.jsx)(a.Z,{...e,helperText:" "})})}):"";return(0,y.jsx)("div",{className:"preview-que-blk",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"questionTitle",children:(0,y.jsxs)("div",{className:"preview-sect-txt",children:[n,(null===l||void 0===l?void 0:l.isRequired)&&(0,y.jsx)("span",{className:"mandatory",children:" *"})]})}),(0,y.jsx)("div",{className:"que-half-sect",children:i})]})})};var k=n(43989),N=n(59418);const T=function(e){let{questionnaire:l,section:n,sectionIndex:o}=e;return(0,i.useEffect)((()=>{}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"preview-sect-ttl-wrap",children:[(0,y.jsx)("div",{className:"preview-sect-card-ttl-blk",children:(0,y.jsx)("h2",{className:"subheading",children:null===n||void 0===n?void 0:n.sectionTitle})}),(0,y.jsx)("div",{className:"preview-sect-txt",children:null===n||void 0===n?void 0:n.description})]}),(0,y.jsx)("div",{className:"preview-card-wrapper",children:(0,y.jsx)("div",{className:"preview-que-wrap que-preview",children:"form"===(null===n||void 0===n?void 0:n.layout)?n.questions.map((e=>(0,y.jsx)(Z,{question:e},null===e||void 0===e?void 0:e.uuid))):"documents"===(null===n||void 0===n?void 0:n.layout)?n.documents.map((e=>(0,y.jsx)(N.Z,{doc:e,sectionUUID:null===n||void 0===n?void 0:n.uuid,questionnaireId:null===l||void 0===l?void 0:l.uuid},null===e||void 0===e?void 0:e.uuid))):(0,y.jsx)(k.Z,{questionnaire:l,sectionIndex:o,isPreview:!0})})})]})};var q=n(57689),M=n(11087),P=n(94677),C=n(76218),D=n(1260),S=n(59434),I=n(52898),R=n(12820),E=n(27659),Q=n(98460),L=n(71300),O=n(74569),U=n.n(O),A=n(47806),H=n(28386);function V(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}const F=function(e){var l,n,a,d,c,u,v;const[p,m]=(0,i.useState)(0);(0,D.j)("Preview Questionnaire");const[h,b]=(0,i.useState)(!1),[g,j]=(0,i.useState)(!1),[f,w]=(0,R.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),Z=(0,i.useRef)(),k=(0,q.UO)(),N=(0,q.s0)(),[O,F]=(0,i.useState)({}),B=(0,S.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.privilege})),_=(0,S.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.userObj})),Y="Super Admin"===(null===B||void 0===B?void 0:B.name);let K=("Super Admin"===(null===_||void 0===_||null===(l=_.roleId)||void 0===l?void 0:l.name)?[]:Object.values(null===B||void 0===B?void 0:B.privileges)).filter((e=>{var l;return"Questionnaire"===(null===e||void 0===e||null===(l=e.moduleId)||void 0===l?void 0:l.name)})).map((e=>({questionnaire:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}})));(0,i.useEffect)((()=>{let e=!0,l=new AbortController;return(async()=>{try{x.Y.info("Questionnaire - Preview Questionnaire - fetch handler"),b(!0);const n=await P.H.get("".concat(C.ZW,"/").concat(k.id),{signal:l.signal});e&&F({...n.data}),b(!1)}catch(o){var n,i;if("ERR_CANCELED"===(null===o||void 0===o?void 0:o.code))return;x.Y.info("Questionnaire - Preview Questionnaire - fetch handler - catch error - ".concat(null===o||void 0===o||null===(n=o.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)),b(!1),z(o)}})(),()=>{e=!1,l.abort()}}),[]);const[W,G]=(0,i.useState)(!1),z=e=>{var l,n,i;if("ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code))if(401==(null===e||void 0===e||null===(l=e.response)||void 0===l?void 0:l.status))w({titleMessage:"Error",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(()=>Z.current())),setTimeout((()=>{N("/login")}),3e3);else if(403===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)){var o,s,t,r;w({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(o=e.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.message?null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Z.current())),setTimeout((()=>{N("/home")}),3e3)}else if(400===(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status)&&"Invalid questionnaire!"===e.response.data.message){var a,d,c,u;w({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(a=e.response)&&void 0!==a&&null!==(d=a.data)&&void 0!==d&&d.message?null===e||void 0===e||null===(c=e.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Z.current())),setTimeout((()=>{N("/questionnaires")}),3e3)}else{var v,p;w({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(v=e.response)&&void 0!==v&&null!==(p=v.data)&&void 0!==p&&p.message&&"string"===typeof e.response.data.message?e.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Z.current()))}},J=async e=>{try{return x.Y.info("Questionnaire - Preview Questionnaire - deleteQuestionnaire handler"),await U().delete(C.ZW+"/".concat(null===O||void 0===O?void 0:O.uuid),{data:{deletionType:e}}),w({titleMessage:"Success",descriptionMessage:"".concat("inactive"===e?"Questionnaire inactivated successfully!":"Questionnaire deleted successfully!"),messageType:"success"},(()=>Z.current())),setTimeout((()=>N("/questionnaires",{state:0})),3e3)}catch(i){var l,n;z(i),x.Y.info("Questionnaire - Preview Questionnaire - deleteQuestionnaire handler - catch error - ".concat(null===i||void 0===i||null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message))}finally{j(!1)}};return(0,y.jsxs)("div",{className:"page-wrapper",onClick:()=>W&&G(!1),children:[(0,y.jsx)(L.Z,{title:(0,y.jsxs)("p",{children:[" ","Delete ",O&&!(null!==O&&void 0!==O&&O.isPublished)&&" Drafted ","Questionnaire"]}),info1:(0,y.jsx)("p",{children:O&&null!==O&&void 0!==O&&O.isPublished?"Deleting the questionnaire will also delete the related assessments. Instead we recommend you make the questionnaire inactive.":"Deleting the drafted questionnaire will be an irreversible action. All the related details would be lost."}),info2:(0,y.jsxs)("p",{children:["Are you sure you want to delete",O&&!(null!==O&&void 0!==O&&O.isPublished)&&" drafted"," the questionnaire?"]}),primaryButtonText:O&&null!==O&&void 0!==O&&O.isPublished?"Delete Anyway":"Delete",secondaryButtonText:O&&null!==O&&void 0!==O&&O.isPublished?"Inactive":"Cancel",onPrimaryModalButtonClickHandler:async()=>{O&&null!==O&&void 0!==O&&O.isPublished?J("delete"):(async()=>{try{x.Y.info("Questionnaire - Preview Questionnaire - deleteDraft handler");const e=await U().delete(C.uf+"/".concat(null===O||void 0===O?void 0:O.uuid));return w({titleMessage:"Success",descriptionMessage:e.data.message,messageType:"success"},(()=>Z.current())),setTimeout((()=>N("/questionnaires",{state:1})),3e3)}catch(n){var e,l;x.Y.info("Questionnaire - Preview Questionnaire - deleteDraft handler - catch error - ".concat(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)),z(n)}finally{j(!1)}})()},onSecondaryModalButtonClickHandler:()=>{O&&null!==O&&void 0!==O&&O.isPublished?J("inactive"):j(!1)},openModal:g,setOpenModal:j}),(0,y.jsx)(E.Z,{myRef:Z,titleMessage:f.titleMessage,descriptionMessage:f.descriptionMessage,messageType:f.messageType}),(0,y.jsx)("div",{className:"breadcrumb-wrapper",children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)("ul",{className:"breadcrumb",children:[(0,y.jsx)("li",{children:(0,y.jsxs)(M.rU,{to:"/questionnaires",style:{cursor:"pointer"},state:null!==O&&void 0!==O&&O.isPublished?0:1,children:["Questionnaire"," ",null!==O&&void 0!==O&&O.isPublished?"(Published)":"(Drafted)"]})}),k["*"].includes("version")&&(0,y.jsx)("li",{children:(0,y.jsx)(M.rU,{to:"/questionnaire-version-history/".concat(k.id),style:{cursor:"pointer"},children:"Questionnaire History"})}),k["*"].includes("version")?(0,y.jsx)("li",{children:"Preview Questionnaire History"}):(0,y.jsx)("li",{children:"Preview Questionnaire "})]})})}),(0,y.jsx)("section",{children:(0,y.jsxs)("div",{className:"container",children:[(0,y.jsxs)("div",{className:"form-header",children:[(0,y.jsxs)("div",{className:"flex-between preview-que-ttl-blk",children:[(0,y.jsx)("h2",{className:"heading2",children:null===O||void 0===O?void 0:O.title}),(0,y.jsxs)("span",{className:"form-header-right-txt",onClick:()=>{G(!W)},children:[(0,y.jsx)("span",{className:"crud-operation ".concat(W&&"crud-operation-active"),children:(0,y.jsx)(I.Z,{})}),(0,y.jsx)("div",{className:"crud-toggle-wrap que-crud-toggle-wrap",style:{display:W?"block":"none"},children:(0,y.jsxs)("ul",{className:"crud-toggle-list",children:[(0,y.jsx)("li",{onClick:()=>(0,A.j)("Questionnaire",w,k.id,Z,C.KW,N),children:"Export to Excel"}),!k["*"].includes("version")&&!(null!==O&&void 0!==O&&O.isDraft)&&(0,y.jsx)("li",{onClick:()=>N("/questionnaire-version-history/".concat(k.id)),children:"Version History"}),(!0===Y||(null===(n=K[0])||void 0===n||null===(a=n.questionnaire)||void 0===a?void 0:a.edit))&&!k["*"].includes("version")&&((null===O||void 0===O?void 0:O.isDraft)||(null===O||void 0===O?void 0:O.isPublished))&&(0,y.jsx)("li",{onClick:()=>N("/questionnaires/edit-questionnaire/".concat(k.id)),children:"Edit Questionnaire"}),(!0===Y||(null===(d=K[0])||void 0===d||null===(c=d.questionnaire)||void 0===c?void 0:c.delete))&&(0,y.jsx)("li",{onClick:()=>j(!0),children:"Delete Questionnaire"})]})})]})]}),(0,y.jsx)("div",{className:"excel-short-name",children:(0,y.jsx)("p",{children:null===O||void 0===O?void 0:O.sheetName})})]}),h?(0,y.jsx)(H.Z,{}):(0,y.jsxs)("div",{className:"section-form-sect",children:[(0,y.jsx)("div",{className:"section-tab-blk flex-between preview-tab-blk",children:(0,y.jsx)("div",{className:"section-tab-leftblk",children:(0,y.jsx)(o.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,y.jsx)(s.Z,{value:p,onChange:(e,l)=>{m(l)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:null===O||void 0===O||null===(u=O.sections)||void 0===u?void 0:u.map(((e,l,n)=>{var i;return(0,y.jsx)(t.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,y.jsx)(r.Z,{className:"section-tab-item",label:"section ".concat(l+1),...V(l)})},null!==(i=null===e||void 0===e?void 0:e.uuid)&&void 0!==i?i:n)}))})})})}),(0,y.jsx)("div",{className:"preview-tab-data",children:null===O||void 0===O||null===(v=O.sections)||void 0===v?void 0:v.map(((e,l)=>{var n;return(0,y.jsx)(Q.x,{value:p,index:l,children:(0,y.jsx)(T,{questionnaire:O,section:e,sectionIndex:l})},null!==(n=null===e||void 0===e?void 0:e.uuid)&&void 0!==n?n:l)}))})]})]})})]})}},43989:(e,l,n)=>{n.d(l,{Z:()=>T});var i=n(35527),o=n(39281),s=n(79836),t=n(56890),r=n(35855),a=n(53994),d=n(20068),c=n(53382),u=n(72791),v=n(54261),p=n(97275),m=n(68096),h=n(58406),x=n(63903),b=n(47071),g=n(27954),j=n(12104),f=n(36571),y=n(51514),w=n(7792),Z=(n(14917),n(80184));const k={PaperProps:{style:{maxHeight:168}}},N=e=>{var l,n,i,o;let{isPreview:s,questionnaire:t,setQuestionnaire:r,sectionIndex:a,tableErr:c,setTableErr:v,rowId:N,cellId:T,cell:q}=e;const[M,P]=(0,u.useState)(!1),C=null===t||void 0===t||null===(l=t.sections[a])||void 0===l||null===(n=l.columnValues[T])||void 0===n?void 0:n.columnType,D=null===t||void 0===t||null===(i=t.sections[a])||void 0===i?void 0:i.columnValues[T];return(0,Z.jsxs)("div",{children:[C&&"prefilled"===C&&s&&(0,Z.jsx)("p",{style:{textAlign:"justify"},children:M?(0,Z.jsxs)("span",{children:[(0,Z.jsx)("span",{children:null===q||void 0===q?void 0:q.value}),(0,Z.jsx)("br",{}),(0,Z.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),P(!1)},style:{color:"#4596D1"},children:"Show Less"})]}):(0,Z.jsx)("span",{children:(null===q||void 0===q?void 0:q.value.length)>100?(0,Z.jsxs)("span",{children:[(0,Z.jsxs)("span",{children:[null===q||void 0===q?void 0:q.value.slice(0,100),"..."]}),(0,Z.jsx)("br",{}),(0,Z.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),P(!0)},style:{color:"#4596D1"},children:"Show More"})]}):null===q||void 0===q?void 0:q.value})}),C&&"attachments"===C&&(0,Z.jsx)("span",{className:"no-attachment-txt",children:"No Attachments"}),C&&"prefilled"===C&&!s&&(0,Z.jsx)(p.Z,{multiline:!0,className:"input-textarea ".concat(!(null!==q&&void 0!==q&&q.value)&&c&&"input-textarea-error"),name:"value",value:null===q||void 0===q?void 0:q.value,helperText:null!==q&&void 0!==q&&q.value||!c?" ":"Enter the row value",onChange:e=>((e,l,n)=>{const{name:i,value:o}=e.target,s={...t};s.sections[a].rowValues[l].cells[n][i]=o,r(s)})(e,N,T),onBlur:e=>((e,l,n)=>{const{name:i,value:o}=e.target,s={...t};s.sections[a].rowValues[l].cells[n][i]=null===o||void 0===o?void 0:o.trim(),r(s)})(e,N,T)}),C&&"textbox"===C&&(0,Z.jsx)(p.Z,{helperText:" ",disabled:!0}),C&&"dropdown"===C&&(0,Z.jsxs)(m.Z,{className:"fullwidth-field",children:[(0,Z.jsx)(h.Z,{IconComponent:e=>(0,Z.jsx)(j.Z,{...e}),displayEmpty:!0,placeholder:"Select input type",name:"columnType",value:null===D||void 0===D?void 0:D.columnType,className:"select-dropdown",renderValue:()=>(0,Z.jsx)("div",{className:"select-placeholder",children:"Select option"}),MenuProps:k,children:D&&(null===D||void 0===D||null===(o=D.options)||void 0===o?void 0:o.map(((e,l)=>(0,Z.jsx)(x.Z,{value:e,children:(null===e||void 0===e?void 0:e.length)<=40?e:(0,Z.jsx)(d.Z,{title:e,children:(0,Z.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,40))+"..."})})},l))))}),(0,Z.jsx)(b.Z,{children:" "})]}),C&&"date"===C&&(0,Z.jsx)(f._,{dateAdapter:w.y,children:(0,Z.jsx)(y.M,{disabled:!0,value:null,className:"datepicker-blk",components:{OpenPickerIcon:g.Z},onChange:()=>{},renderInput:e=>(0,Z.jsx)(p.Z,{...e,helperText:" "})})})]})},T=e=>{var l,n,u,p;let{questionnaire:m,setQuestionnaire:h,sectionIndex:x,tableErr:b,setTableErr:g,isPreview:j}=e;const f=()=>{var e,l,n,i;let o={...m},s={uuid:(0,v.Z)(),cells:[]};null===o||void 0===o||null===(e=o.sections[x])||void 0===e||null===(l=e.columnValues)||void 0===l||l.forEach(((e,l)=>{var n;return null===s||void 0===s||null===(n=s.cells)||void 0===n?void 0:n.push({columnId:null===e||void 0===e?void 0:e.uuid,value:""})})),null===o||void 0===o||null===(n=o.sections[x])||void 0===n||null===(i=n.rowValues)||void 0===i||i.push({...s}),h(o)};return(0,Z.jsx)("div",{className:"que-table-sect",children:(0,Z.jsxs)("div",{className:"que-table-wrap que-table-render-wrap ".concat(j||"que-table-create","  ").concat(j||"active"," "),children:[(0,Z.jsx)("div",{className:"que-table-innerwrap que-table-render-innerwrap flex-between no-wrap",children:(0,Z.jsx)(i.Z,{sx:{width:"96%",overflow:"hidden"},className:"que-table-infoblk que-sticky-column pb-0",children:(0,Z.jsx)(o.Z,{sx:{maxHeight:440},children:(0,Z.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"que-table que-table-render",children:[(0,Z.jsx)(t.Z,{children:(0,Z.jsxs)(r.Z,{children:[!j&&(0,Z.jsx)(a.Z,{width:75}),m&&(null===m||void 0===m||null===(l=m.sections[x])||void 0===l||null===(n=l.columnValues)||void 0===n?void 0:n.map(((e,l)=>(0,Z.jsx)(a.Z,{children:(0,Z.jsx)("div",{className:"que-table-column-info",children:(0,Z.jsx)("div",{className:"que-column-ttlblk",children:(0,Z.jsx)("div",{className:"form-group",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,Z.jsx)(d.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,Z.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,Z.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,Z.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title,(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,Z.jsx)("span",{className:"mandatory",children:" *"})]})})})})},null===e||void 0===e?void 0:e.uuid))))]})}),(0,Z.jsx)(c.Z,{children:null===m||void 0===m||null===(u=m.sections[x])||void 0===u||null===(p=u.rowValues)||void 0===p?void 0:p.map(((e,l)=>{var n,i,o;return(0,Z.jsxs)(r.Z,{children:[j||(0,Z.jsx)(a.Z,{sx:{display:"none"},children:(0,Z.jsxs)("div",{className:"que-column-count flex-between",style:{cursor:"pointer",display:""},children:[(0,Z.jsxs)("span",{className:"que-column-count-txt",children:[l+1,"."]}),(null===m||void 0===m||null===(n=m.sections[x])||void 0===n||null===(i=n.rowValues)||void 0===i?void 0:i.length)>1&&(j||(0,Z.jsx)(d.Z,{title:"Delete Row",children:(0,Z.jsx)("span",{className:"minus-iconblk",onClick:()=>(e=>{var l,n;let i={...m};null===i||void 0===i||null===(l=i.sections[x])||void 0===l||null===(n=l.rowValues)||void 0===n||n.splice(e,1),h(i)})(l),children:(0,Z.jsx)("i",{className:"fa fa-minus"})})}))]})}),e&&(null===e||void 0===e||null===(o=e.cells)||void 0===o?void 0:o.map(((e,n)=>(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(N,{isPreview:j,questionnaire:m,setQuestionnaire:h,sectionIndex:x,tableErr:b,setTableErr:g,cellId:n,rowId:l,cell:e})},null===e||void 0===e?void 0:e.columnId))))]},null===e||void 0===e?void 0:e.uuid)}))})]})})})}),j||(0,Z.jsxs)("div",{className:"add-row-btnblk mt-20",children:[(0,Z.jsx)("span",{className:"addmore-icon",onClick:f,children:(0,Z.jsx)("i",{className:"fa fa-plus"})})," ",(0,Z.jsx)("span",{onClick:f,children:"Add Row"})]})]})})}},71300:(e,l,n)=>{n.d(l,{Z:()=>c});var i=n(29823),o=n(88447),s=n(52739),t=n(60627),r=n(697),a=n(20068),d=(n(72791),n(80184));const c=e=>{var l,n,c,u,v,p;let{title:m,info1:h,info2:x,primaryButtonText:b,secondaryButtonText:g,onPrimaryModalButtonClickHandler:j,isDisabledPrimaryButton:f=!1,onSecondaryModalButtonClickHandler:y,openModal:w,setOpenModal:Z,isModalForm:k,handleCloseRedirect:N,hideCloseIcon:T=!1}=e;const q=(e,l)=>{l&&"backdropClick"===l||Z(!1)},M=()=>{y()};let P="";return"object"===typeof(null===m||void 0===m||null===(l=m.props)||void 0===l?void 0:l.children)?null===m||void 0===m||null===(n=m.props)||void 0===n||null===(c=n.children)||void 0===c||c.map((e=>P+=e)):P=null===m||void 0===m||null===(u=m.props)||void 0===u?void 0:u.children,(0,d.jsx)(o.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:w,onClose:q,closeAfterTransition:!0,disableEscapeKeyDown:!!k,BackdropComponent:s.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,d.jsx)(t.Z,{in:w,children:(0,d.jsx)(r.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,d.jsxs)("div",{className:"popup-innerblk",children:[(0,d.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=P)||void 0===v?void 0:v.length)<=47?(0,d.jsx)("h2",{className:"popup-ttl heading2",children:m}):(0,d.jsx)(a.Z,{title:P,children:(0,d.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(p=P)||void 0===p?void 0:p.slice(0,50),'..."']})}),(0,d.jsx)("span",{hidden:T,className:"popup-close-icon",onClick:k?N:q,children:(0,d.jsx)(i.Z,{})})]}),(0,d.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,d.jsxs)("div",{className:"popup-content-blk text-center",children:[h,k?(0,d.jsx)("form",{onSubmit:M,children:x}):x,(0,d.jsxs)("div",{className:"form-btn flex-center",children:[g&&(0,d.jsx)("button",{type:"submit",onClick:M,className:"secondary-button mr-10",children:g}),(0,d.jsx)("button",{type:"submit",onClick:()=>{j()},disabled:f,className:"primary-button",children:b})]})]})})]})})})})}},45736:(e,l,n)=>{n.d(l,{K:()=>i});const i=async function(e,l,n,i,o){var s,t;let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if("ERR_CANCELED"===(null===e||void 0===e?void 0:e.code))return null;if(401==(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status))l({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(()=>n.current())),setTimeout((()=>{i("/login")}),3e3);else if(403===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){var a,d,c,u;l({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(a=e.response)&&void 0!==a&&null!==(d=a.data)&&void 0!==d&&d.message?null===e||void 0===e||null===(c=e.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>n.current())),setTimeout((()=>{i("/home")}),3e3)}else{var v,p,m,h;console.log("error - ",e),l({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(v=e.response)&&void 0!==v&&null!==(p=v.data)&&void 0!==p&&p.message?null===e||void 0===e||null===(m=e.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.message:null!==e&&void 0!==e&&e.message?"File not uploaded yet":"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>n.current())),o&&setTimeout((()=>{i(o,{state:r})}),3e3)}}},47806:(e,l,n)=>{n.d(l,{d:()=>t,j:()=>r});var i=n(94677),o=n(14917),s=n(45736);const t=()=>{let e=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),l=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),n=(new Date).getHours();return e+l+(new Date).getFullYear().toString()+"_"+n+(new Date).getMinutes()+(new Date).getSeconds()},r=async(e,l,n,r,a,d)=>{try{const s=await i.H.get(n?a+n+"/download":a,{responseType:"blob"});o.Y.info(" download function -  from ".concat(e,"  assessment "));const d=window.URL.createObjectURL(new Blob([s.data])),c=document.createElement("a");c.href=d;let u=t();c.setAttribute("download","".concat(e," - ").concat(u,".xlsx")),document.body.appendChild(c),c.click(),200==s.status&&l({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(()=>r.current()))}catch(v){var c,u;return o.Y.info("downlaod function - error ".concat(null===v||void 0===v||null===(c=v.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)),(0,s.K)(v,l,r,d),v}}},98460:(e,l,n)=>{n.d(l,{x:()=>s});var i=n(697),o=n(80184);function s(e){const{children:l,value:n,index:s,...t}=e;return(0,o.jsx)("div",{role:"tabpanel",hidden:n!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s),...t,children:n===s&&(0,o.jsx)(i.Z,{children:l})})}},1260:(e,l,n)=>{n.d(l,{j:()=>o});var i=n(72791);const o=e=>((0,i.useEffect)((()=>{document.title="HRDD System - ".concat(e)}),[e]),null)},52898:(e,l,n)=>{var i=n(64836);l.Z=void 0;var o=i(n(45649)),s=n(80184),t=(0,o.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");l.Z=t},85523:(e,l,n)=>{n.d(l,{Z:()=>Z});var i=n(63366),o=n(87462),s=n(72791),t=n(63733),r=n(94419),a=n(52930),d=n(53767),c=n(20890),u=n(14036),v=n(66934),p=n(31402),m=n(75878),h=n(21217);function x(e){return(0,h.Z)("MuiFormControlLabel",e)}const b=(0,m.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var g=n(76147),j=n(80184);const f=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],y=(0,v.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:n}=e;return[{["& .".concat(b.label)]:l.label},l.root,l["labelPlacement".concat((0,u.Z)(n.labelPlacement))]]}})((e=>{let{theme:l,ownerState:n}=e;return(0,o.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(b.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(b.label)]:{["&.".concat(b.disabled)]:{color:(l.vars||l).palette.text.disabled}}})})),w=(0,v.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,l)=>l.asterisk})((e=>{let{theme:l}=e;return{["&.".concat(b.error)]:{color:(l.vars||l).palette.error.main}}})),Z=s.forwardRef((function(e,l){var n,v;const m=(0,p.Z)({props:e,name:"MuiFormControlLabel"}),{className:h,componentsProps:b={},control:Z,disabled:k,disableTypography:N,label:T,labelPlacement:q="end",required:M,slotProps:P={}}=m,C=(0,i.Z)(m,f),D=(0,a.Z)(),S=null!=(n=null!=k?k:Z.props.disabled)?n:null==D?void 0:D.disabled,I=null!=M?M:Z.props.required,R={disabled:S,required:I};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof Z.props[e]&&"undefined"!==typeof m[e]&&(R[e]=m[e])}));const E=(0,g.Z)({props:m,muiFormControl:D,states:["error"]}),Q=(0,o.Z)({},m,{disabled:S,labelPlacement:q,required:I,error:E.error}),L=(e=>{const{classes:l,disabled:n,labelPlacement:i,error:o,required:s}=e,t={root:["root",n&&"disabled","labelPlacement".concat((0,u.Z)(i)),o&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,r.Z)(t,x,l)})(Q),O=null!=(v=P.typography)?v:b.typography;let U=T;return null==U||U.type===c.Z||N||(U=(0,j.jsx)(c.Z,(0,o.Z)({component:"span"},O,{className:(0,t.Z)(L.label,null==O?void 0:O.className),children:U}))),(0,j.jsxs)(y,(0,o.Z)({className:(0,t.Z)(L.root,h),ownerState:Q,ref:l},C,{children:[s.cloneElement(Z,R),I?(0,j.jsxs)(d.Z,{display:"block",children:[U,(0,j.jsxs)(w,{ownerState:Q,"aria-hidden":!0,className:L.asterisk,children:["\u2009","*"]})]}):U]}))}))},79012:(e,l,n)=>{n.d(l,{Z:()=>g});var i=n(63366),o=n(87462),s=n(72791),t=n(63733),r=n(94419),a=n(66934),d=n(31402),c=n(75878),u=n(21217);function v(e){return(0,u.Z)("MuiFormGroup",e)}(0,c.Z)("MuiFormGroup",["root","row","error"]);var p=n(52930),m=n(76147),h=n(80184);const x=["className","row"],b=(0,a.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:n}=e;return[l.root,n.row&&l.row]}})((e=>{let{ownerState:l}=e;return(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},l.row&&{flexDirection:"row"})})),g=s.forwardRef((function(e,l){const n=(0,d.Z)({props:e,name:"MuiFormGroup"}),{className:s,row:a=!1}=n,c=(0,i.Z)(n,x),u=(0,p.Z)(),g=(0,m.Z)({props:n,muiFormControl:u,states:["error"]}),j=(0,o.Z)({},n,{row:a,error:g.error}),f=(e=>{const{classes:l,row:n,error:i}=e,o={root:["root",n&&"row",i&&"error"]};return(0,r.Z)(o,v,l)})(j);return(0,h.jsx)(b,(0,o.Z)({className:(0,t.Z)(f.root,s),ownerState:j,ref:l},c))}))},88970:(e,l,n)=>{n.d(l,{Z:()=>p});var i=n(87462),o=n(63366),s=n(72791),t=n(79012),r=n(42071),a=n(98278),d=n(18672),c=n(67384),u=n(80184);const v=["actions","children","defaultValue","name","onChange","value"],p=s.forwardRef((function(e,l){const{actions:n,children:p,defaultValue:m,name:h,onChange:x,value:b}=e,g=(0,o.Z)(e,v),j=s.useRef(null),[f,y]=(0,a.Z)({controlled:b,default:m,name:"RadioGroup"});s.useImperativeHandle(n,(()=>({focus:()=>{let e=j.current.querySelector("input:not(:disabled):checked");e||(e=j.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const w=(0,r.Z)(l,j),Z=(0,c.Z)(h),k=s.useMemo((()=>({name:Z,onChange(e){y(e.target.value),x&&x(e,e.target.value)},value:f})),[Z,x,y,f]);return(0,u.jsx)(d.Z.Provider,{value:k,children:(0,u.jsx)(t.Z,(0,i.Z)({role:"radiogroup",ref:w},g,{children:p}))})}))},54261:(e,l,n)=>{n.d(l,{Z:()=>d});const i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const s=new Uint8Array(16);function t(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}const r=[];for(let c=0;c<256;++c)r.push((c+256).toString(16).slice(1));function a(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r[e[l+0]]+r[e[l+1]]+r[e[l+2]]+r[e[l+3]]+"-"+r[e[l+4]]+r[e[l+5]]+"-"+r[e[l+6]]+r[e[l+7]]+"-"+r[e[l+8]]+r[e[l+9]]+"-"+r[e[l+10]]+r[e[l+11]]+r[e[l+12]]+r[e[l+13]]+r[e[l+14]]+r[e[l+15]]}const d=function(e,l,n){if(i.randomUUID&&!l&&!e)return i.randomUUID();const o=(e=e||{}).random||(e.rng||t)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,l){n=n||0;for(let e=0;e<16;++e)l[n+e]=o[e];return l}return a(o)}}}]);
//# sourceMappingURL=8617.d89ce6d1.chunk.js.map