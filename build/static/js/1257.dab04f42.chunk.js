"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[1257],{61257:(e,l,n)=>{n.r(l),n.d(l,{default:()=>f});var s=n(35527),i=n(39281),d=n(79836),o=n(56890),t=n(35855),a=n(53994),r=n(20068),c=n(53382),u=n(72791),m=n(57689),v=n(54261),h=n(14917),p=n(80184);const x=u.lazy((()=>n.e(2700).then(n.bind(n,62700)))),f=e=>{let{setAssessmentQuestionnaire:l,assessmentQuestionnaire:n={},columnValues:f,rowValues:j,sectionUUID:b,handleAnswersChange:w,handleAnswersBlur:y,errors:N,editMode:k,myRef:Z,setToasterDetails:g,section:q}=e;const I=(0,m.UO)(),U=(e=>{let l={};return e.forEach((e=>{l[e.uuid]=e})),l})(f),R=(e=>{let l={};return e.forEach((e=>{l[e.uuid]=e})),l})(j),[C,D]=(0,u.useState)(!1);let _=[];const A=e=>{let s={};Object.keys(n[b]).forEach((l=>{l.includes(e)||(s[l]=n[b][l])}));const i={...n};i[b]=s,l(i)};return f.map((e=>{C||"prefilled"===(null===e||void 0===e?void 0:e.columnType)&&D(!0)})),(0,p.jsx)("div",{className:"que-table-sect",children:(0,p.jsxs)("div",{className:"que-table-wrap assessment-table-wrap",children:[(0,p.jsx)("div",{className:"que-table-innerwrap assessment-table-innerwrap flex-between no-wrap",children:(0,p.jsx)(s.Z,{sx:{width:"96%",overflow:"hidden"},className:"que-table-infoblk",children:(0,p.jsx)(i.Z,{sx:{maxHeight:440},children:(0,p.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",className:C||I["*"].includes("view")?"que-table assessment-table":"que-table assessment-table not-prefilled-table",children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)(t.Z,{children:[!C&&!I["*"].includes("view")&&(0,p.jsx)(a.Z,{width:75}),null===f||void 0===f?void 0:f.filter((e=>"prefilled"==e.columnType&&"no"===e.hideColumn)).map(((e,l)=>(0,p.jsx)(a.Z,{width:"200px",children:(0,p.jsx)("div",{className:"que-table-column-info",children:(0,p.jsx)("div",{className:"que-column-ttlblk",children:(0,p.jsx)("div",{className:"que-table-col-ttl",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,p.jsx)(r.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,p.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(0,p.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,p.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title," ",(null===e||void 0===e?void 0:e.isRequired)&&(0,p.jsx)("span",{className:"mandatory",children:"*"})]})})})})},null===e||void 0===e?void 0:e.uuid))),null===f||void 0===f?void 0:f.filter((e=>"prefilled"!=e.columnType||"prefilled"===e.columnType&&!e.hideColumn)).map(((e,l)=>(0,p.jsxs)(a.Z,{width:"200px",children:[C||"prefilled"===(null===e||void 0===e?void 0:e.columnType)&&D(!0),(0,p.jsx)("div",{className:"que-table-column-info",children:(0,p.jsx)("div",{className:"que-column-ttlblk",children:(0,p.jsx)("div",{className:"que-table-col-ttl",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,p.jsx)(r.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,p.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(0,p.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,p.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title," ",(null===e||void 0===e?void 0:e.isRequired)&&(0,p.jsx)("span",{className:"mandatory",children:"*"})]})})})})]},null===e||void 0===e?void 0:e.uuid)))]})}),(0,p.jsxs)(c.Z,{children:[C&&(null===j||void 0===j?void 0:j.map(((e,s)=>{var i;return(0,p.jsxs)(t.Z,{children:[!C&&!I["*"].includes("view")&&(0,p.jsx)(a.Z,{className:"que-column-count",style:{cursor:"pointer",display:""},children:(0,p.jsx)(r.Z,{title:"Delete Row",children:(0,p.jsx)("span",{className:"minus-iconblk",onClick:()=>A(),children:(0,p.jsx)("i",{className:"fa fa-minus"})})})}),e&&(null===e||void 0===e||null===(i=e.cells)||void 0===i?void 0:i.map(((s,i)=>{var d,o;return((e,l)=>{let n=null===q||void 0===q?void 0:q.columnValues[l];return!n.hideColumn||n.uuid===e.columnId&&"no"==n.hideColumn})(s,i)&&(0,p.jsx)(a.Z,{children:(0,p.jsx)(x,{sectionUUID:b,isPrefilled:C,assessmentQuestionnaire:n,setAssessmentQuestionnaire:l,transformedColumns:U,tranformedRows:R,cellId:i,rowId:null===e||void 0===e?void 0:e.uuid,cell:s,answer:n[b]&&null!==(d=n[b]["".concat(s.columnId,"_").concat(null===e||void 0===e?void 0:e.uuid)])&&void 0!==d?d:"",handleAnswersChange:w,handleAnswersBlur:y,error:null!==(o=N["".concat(null===s||void 0===s?void 0:s.columnId,"_").concat(null===e||void 0===e?void 0:e.uuid)])&&void 0!==o?o:"",editMode:k,myRef:Z,setToasterDetails:g})},null===s||void 0===s?void 0:s.columnId)})))]},null===e||void 0===e?void 0:e.uuid)}))),!C&&n&&0!==Object.keys(n).length&&n[b]&&0!==Object.keys(n[b]).length&&(null===Object||void 0===Object?void 0:Object.keys(n[b]).map(((e,s)=>{let i=e.split("_")[1];if(-1===(null===_||void 0===_?void 0:_.findIndex((e=>e===i))))return null===_||void 0===_||_.push(i),(0,p.jsxs)(t.Z,{className:"not-prefilled",children:[!C&&!I["*"].includes("view")&&(0,p.jsx)(a.Z,{children:(0,p.jsxs)("div",{className:"que-column-count flex-between",style:{cursor:"pointer",display:""},children:[(null===_||void 0===_?void 0:_.length)>1&&(0,p.jsx)(r.Z,{title:"Delete Row",children:(0,p.jsx)("span",{className:"minus-iconblk",onClick:()=>A(i),children:(0,p.jsx)("i",{className:"fa fa-minus"})})}),(null===_||void 0===_?void 0:_.length)>1&&0===s&&(0,p.jsx)(r.Z,{title:"Delete Row",children:(0,p.jsx)("span",{className:"minus-iconblk",onClick:()=>A(i),children:(0,p.jsx)("i",{className:"fa fa-minus"})})})]})}),null===f||void 0===f?void 0:f.map(((e,s)=>{var d,o;return(0,p.jsx)(a.Z,{children:(0,p.jsx)(x,{isPrefilled:C,sectionUUID:b,assessmentQuestionnaire:n,setAssessmentQuestionnaire:l,transformedColumns:U,tranformedRows:R,rowId:i,columnId:null===e||void 0===e?void 0:e.uuid,columnIdx:s,answer:n[b]&&null!==(d=n[b]["".concat(null===e||void 0===e?void 0:e.uuid,"_").concat(i)])&&void 0!==d?d:"",handleAnswersChange:w,handleAnswersBlur:y,error:null!==(o=N["".concat(null===e||void 0===e?void 0:e.uuid,"_").concat(i)])&&void 0!==o?o:"",editMode:k,myRef:Z,setToasterDetails:g})},null===e||void 0===e?void 0:e.uuid)}))]},e)})))]})]})})})}),!C&&!I["*"].includes("view")&&(0,p.jsxs)("div",{className:"add-row-btnblk",onClick:()=>{const e=(0,v.Z)();let s={...n};f.forEach((l=>{s[b]["".concat([null===l||void 0===l?void 0:l.uuid],"_").concat(e)]=""})),h.Y.info("Table Assesment - onRowClickHandler"),l({...s})},children:[(0,p.jsx)("span",{className:"addmore-icon",children:(0,p.jsx)("i",{className:"fa fa-plus"})})," ",(0,p.jsx)("span",{children:"Add Row"})]})]})})}},54261:(e,l,n)=>{n.d(l,{Z:()=>r});const s={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const d=new Uint8Array(16);function o(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(d)}const t=[];for(let c=0;c<256;++c)t.push((c+256).toString(16).slice(1));function a(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e[l+0]]+t[e[l+1]]+t[e[l+2]]+t[e[l+3]]+"-"+t[e[l+4]]+t[e[l+5]]+"-"+t[e[l+6]]+t[e[l+7]]+"-"+t[e[l+8]]+t[e[l+9]]+"-"+t[e[l+10]]+t[e[l+11]]+t[e[l+12]]+t[e[l+13]]+t[e[l+14]]+t[e[l+15]]}const r=function(e,l,n){if(s.randomUUID&&!l&&!e)return s.randomUUID();const i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,l){n=n||0;for(let e=0;e<16;++e)l[n+e]=i[e];return l}return a(i)}}}]);
//# sourceMappingURL=1257.dab04f42.chunk.js.map