"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[6593],{6593:(s,e,r)=>{r.r(e),r.d(e,{default:()=>x});var a=r(72791),o=r(61134),d=r(44695),n=r(77196),l=r(57689),i=r(11087),t=r(81724),c=r(14917),m=r(76218),w=r(94677),u=r(27659),p=r(45736),h=r(12010),v=r(12820),g=r(1260),f=r(80184);const P=t.Ry().shape({oldPassword:t.Z_().required("Enter the old password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),newPassword:t.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:t.Z_().required("Enter the confirm password").oneOf([t.iH("newPassword"),null],"Password does not match.")}),x=()=>{(0,g.j)("Change Password");const s=(0,l.s0)(),{handleSubmit:e,register:r,setValue:t,reset:x,formState:{errors:j}}=(0,o.cI)({resolver:(0,d.X)(P)}),N=(0,a.useRef)(),[b,y]=(0,v.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[C,M]=a.useState({oldPassword:"",showOldPassword:"",newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),Z=s=>{s.preventDefault()};return(0,f.jsxs)("div",{className:"page-wrapper",children:[(0,f.jsx)(u.Z,{myRef:N,titleMessage:b.titleMessage,descriptionMessage:b.descriptionMessage,messageType:b.messageType}),(0,f.jsx)("div",{className:"breadcrumb-wrapper",children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)("ul",{className:"breadcrumb",children:[(0,f.jsx)("li",{children:(0,f.jsx)(i.rU,{to:"/home",children:"Home"})}),(0,f.jsx)("li",{children:"Change Password"})]})})}),(0,f.jsx)("section",{className:"container",children:(0,f.jsxs)("form",{onSubmit:e((async e=>{c.Y.info("Change Password - Change Password handler");try{const r=await w.H.post(m.oj,{oldPassword:e.oldPassword,password:e.newPassword,confirmPassword:e.confirmPassword});201==r.status&&(y({titleMessage:"Hurray!",descriptionMessage:r.data.message,messageType:"success"},(()=>N.current())),setTimeout((()=>{s("/home")}),3e3),x())}catch(o){var r,a;c.Y.info("Change Password - Change Password handler catch error".concat(null===o||void 0===o||null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)),x(),(0,p.K)(o,y,N,s)}})),children:[(0,f.jsx)("div",{className:"form-header flex-between",children:(0,f.jsx)("h2",{className:"heading2",children:"Change Password"})}),(0,f.jsxs)("div",{className:"card-wrapper",children:[(0,f.jsx)("div",{className:"card-blk flex-between",children:(0,f.jsx)("div",{className:"card-form-field",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"oldPassword",children:["Old Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showOldPassword?"text":"password",placeholder:"Enter old password",className:"input-field ".concat(j.oldPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(h.Z,{show:null===C||void 0===C?void 0:C.showOldPassword,onClickHandler:()=>{M({...C,showOldPassword:!C.showOldPassword})},onMouseDown:Z}),...r("oldPassword"),onBlur:s=>t("oldPassword",s.target.value.trim()),error:!!j.oldPassword}),(0,f.jsx)("p",{className:"password-error",children:null!==j&&void 0!==j&&j.oldPassword?j.oldPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]})})}),(0,f.jsx)("div",{className:"card-form-field",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat((null===j||void 0===j?void 0:j.newPassword)&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(h.Z,{show:null===C||void 0===C?void 0:C.showNewPassword,onClickHandler:()=>{M({...C,showNewPassword:!C.showNewPassword})},mouseDownHandler:Z}),...r("newPassword"),onBlur:s=>t("newPassword",s.target.value.trim()),error:!!j.password}),(0,f.jsx)("p",{className:"password-error",children:null!==j&&void 0!==j&&j.newPassword?j.newPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]})}),(0,f.jsx)("div",{className:"card-form-field",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(j.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(h.Z,{show:null===C||void 0===C?void 0:C.showConfirmPassword,onClickHandler:()=>{M({...C,showConfirmPassword:!C.showConfirmPassword})},onMouseDown:Z}),...r("confirmPassword"),onBlur:s=>t("confirmPassword",s.target.value.trim()),error:!!j.confirmPassword}),(0,f.jsx)("p",{className:"password-error",children:null!==j&&void 0!==j&&j.confirmPassword?j.confirmPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]})}),(0,f.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,f.jsx)("button",{type:"reset",onClick:()=>s("/home"),className:"secondary-button mr-10",children:"Cancel"}),(0,f.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})]})})]})}},45736:(s,e,r)=>{r.d(e,{K:()=>a});const a=async function(s,e,r,a,o){var d,n,l;let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if("ERR_CANCELED"===(null===s||void 0===s?void 0:s.code))return null;if(401==(null===s||void 0===s||null===(d=s.response)||void 0===d?void 0:d.status))e({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(()=>r.current())),setTimeout((()=>{a("/login")}),3e3);else if(403===(null===s||void 0===s||null===(n=s.response)||void 0===n?void 0:n.status)){var t,c,m,w;e({titleMessage:"Oops!",descriptionMessage:null!==s&&void 0!==s&&null!==(t=s.response)&&void 0!==t&&null!==(c=t.data)&&void 0!==c&&c.message?null===s||void 0===s||null===(m=s.response)||void 0===m||null===(w=m.data)||void 0===w?void 0:w.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>r.current())),setTimeout((()=>{a("/home")}),3e3)}else if(404===(null===s||void 0===s||null===(l=s.response)||void 0===l?void 0:l.status)){var u,p,h,v;e({titleMessage:"Oops!",descriptionMessage:null!==s&&void 0!==s&&null!==(u=s.response)&&void 0!==u&&null!==(p=u.data)&&void 0!==p&&p.message?null===s||void 0===s||null===(h=s.response)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>r.current()))}else{var g,f,P,x;console.log("error - ",s),e({titleMessage:"Oops!",descriptionMessage:null!==s&&void 0!==s&&null!==(g=s.response)&&void 0!==g&&null!==(f=g.data)&&void 0!==f&&f.message?null===s||void 0===s||null===(P=s.response)||void 0===P||null===(x=P.data)||void 0===x?void 0:x.message:null!==s&&void 0!==s&&s.message?"File not uploaded yet":"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>r.current())),o&&setTimeout((()=>{a(o,{state:i})}),3e3)}}},12010:(s,e,r)=>{r.d(e,{Z:()=>n});var a=r(63466),o=r(13400),d=(r(72791),r(80184));const n=s=>{let{show:e,onClickHandler:r,mouseDownHandler:n}=s;return(0,d.jsx)(a.Z,{position:"end",children:(0,d.jsx)(o.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:n,edge:"end",className:"eye-btn",children:e?(0,d.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,d.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},1260:(s,e,r)=>{r.d(e,{j:()=>o});var a=r(72791);const o=s=>((0,a.useEffect)((()=>{document.title="HRDD System - ".concat(s)}),[s]),null)}}]);
//# sourceMappingURL=6593.3c09e557.chunk.js.map