"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5103],{5103:function(e,n,t){t.r(n);var r=t(1413),i=t(4165),a=t(2982),s=t(5861),l=t(885),o=t(2791),d=t(7689),u=t(1087),c=t(6494),m=t(6650),v=t(8588),p=t(7265),h=t(2900),f=t(6321),g=t(4569),x=t.n(g),b=t(1134),j=t(7659),y=t(2820),Z=t(6218),N=t(4677),C=t(2104),w=t(8086),E=t(6363),S=t(1260),I=t(8386),k=t(4917),A=t(5736),R=t(184),M={countryCode:{validate:"Select the country code"},phoneNumber:{maxLength:"Max digits limit exceed",minLength:"Enter the valid phone number (Eg: 1234567890)",validate:"Enter the valid phone number (Eg: 1234567890)",pattern:"Invalid format"},name:{required:"Enter the CGF admin name",maxLength:"Max char limit exceed",minLength:"minimum 3 characters required",pattern:"Invalid format"},email:{required:"Enter the email",pattern:"Invalid format"},subRoleId:{required:"Select the role"}};n.default=function(){var e;(0,S.j)("Edit CGF Admin");var n=(0,o.useState)(!1),t=(0,l.Z)(n,2),g=t[0],O=t[1],L=(0,d.s0)(),T=(0,d.UO)(),P=T["*"].includes("pending")?1:0,_=(0,o.useRef)(),H=(0,o.useState)([]),F=(0,l.Z)(H,2),G=F[0],Y=F[1],q=(0,o.useState)(!1),B=(0,l.Z)(q,2),D=B[0],V=B[1],K=(0,o.useState)([]),U=(0,l.Z)(K,2),z=U[0],Q=U[1],W=(0,y.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),$=(0,l.Z)(W,2),J=$[0],X=$[1],ee=(0,o.useState)({}),ne=(0,l.Z)(ee,2),te=(ne[0],ne[1]),re=(0,b.cI)({defaultValues:{name:"",email:"",subRoleId:"",phoneNumber:"",countryCode:{name:"India",countryCode:""},status:"",role:""}}),ie=re.handleSubmit,ae=re.control,se=re.formState.errors,le=re.reset,oe=re.watch,de=re.setValue,ue=re.trigger;(0,o.useEffect)((function(){var e=!0,n=new AbortController,t=function(){var t=(0,s.Z)((0,i.Z)().mark((function t(){var r,s,l,o,d;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x().get(Z.od,{signal:n.signal});case 3:r=t.sent,k.Y.info("Edit sub admin - fetchCountries  handler"),e&&(s=null===r||void 0===r?void 0:r.data.map((function(e){return e.countryCode})),l=new Set(s),Y((0,a.Z)(l))),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),k.Y.info("Edit sub admin - fetchCountries  handler catch error - ".concat(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.message)),"ERR_CANCELED"!==(null===t.t0||void 0===t.t0?void 0:t.t0.code)){t.next=13;break}return t.abrupt("return");case 13:(0,A.K)(t.t0,X,_,L);case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t();var r=function(){var t=(0,s.Z)((0,i.Z)().mark((function t(){var r,a,s,l,o,d,u,c,m,v,p;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,O(!0),t.next=4,N.H.get(T["*"].includes("pending")?Z.we+T.id:Z.BJ+T.id,{signal:n.signal});case 4:m=t.sent,O(!1),k.Y.info("Edit sub admin - fetchSubAdmin  handler"),e&&te(m.data),le({name:null===m||void 0===m||null===(r=m.data)||void 0===r?void 0:r.name,email:null===m||void 0===m||null===(a=m.data)||void 0===a?void 0:a.email,countryCode:null===m||void 0===m||null===(s=m.data)||void 0===s?void 0:s.countryCode,phoneNumber:null===m||void 0===m||null===(l=m.data)||void 0===l?void 0:l.phoneNumber,status:null!==m&&void 0!==m&&null!==(o=m.data)&&void 0!==o&&o.isActive?"active":"inactive",subRoleId:null!==(d=null===m||void 0===m||null===(u=m.data)||void 0===u||null===(c=u.subRoleId)||void 0===c?void 0:c._id)&&void 0!==d?d:""}),t.next=18;break;case 11:if(t.prev=11,t.t0=t.catch(0),"ERR_CANCELED"!==(null===t.t0||void 0===t.t0?void 0:t.t0.code)){t.next=15;break}return t.abrupt("return");case 15:O(!1),k.Y.info("Edit sub admin - fetchSubAdmin  handler catch error -".concat(null===t.t0||void 0===t.t0||null===(v=t.t0.response)||void 0===v||null===(p=v.data)||void 0===p?void 0:p.message)),(0,A.K)(t.t0,X,_,L,"/users/cgf-admin",P);case 18:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();r();var l=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.H.get(Z.Lp);case 3:n=e.sent,k.Y.info("Edit sub admin - fetchRoles handler"),Q(n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),k.Y.info("Edit sub admin - fetchRoles handler catch error ".concat(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)),(0,A.K)(e.t0,X,_,L);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return l(),function(){e=!1,n.abort()}}),[]);(0,d.TH)();var ce=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,r,a,s,l,o,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.Y.info("Edit sub admin - handleOnSubmit handler"),V(!0),O(!0),e.prev=3,e.next=6,N.H.put(T["*"].includes("pending")?Z.v4+(null===T||void 0===T?void 0:T.id):Z.pU+T.id,{name:null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:"",email:null!==(r=null===n||void 0===n?void 0:n.email)&&void 0!==r?r:"",subRoleId:null!==(a=null===n||void 0===n?void 0:n.subRoleId)&&void 0!==a?a:"",phoneNumber:null!==(s=null===n||void 0===n?void 0:n.phoneNumber)&&void 0!==s?s:"",countryCode:null!==(l=null===n||void 0===n?void 0:n.countryCode)&&void 0!==l?l:"",isActive:"active"===(null===n||void 0===n?void 0:n.status)});case 6:200==(o=e.sent).status&&(O(!1),X({titleMessage:"Success!",descriptionMessage:o.data.message,messageType:"success"},(function(){return _.current()})),setTimeout((function(){L("/users/cgf-admin/",{state:P})}),2e3)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(3),k.Y.info("Edit sub admin - handleOnSubmit handler catch error ".concat(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)),O(!1),V(!1),(0,A.K)(e.t0,X,_,L);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{className:"page-wrapper",children:[(0,R.jsx)(j.Z,{myRef:_,titleMessage:J.titleMessage,descriptionMessage:J.descriptionMessage,messageType:J.messageType}),(0,R.jsx)("div",{className:"breadcrumb-wrapper",children:(0,R.jsx)("div",{className:"container",children:(0,R.jsxs)("ul",{className:"breadcrumb",children:[(0,R.jsx)("li",{children:(0,R.jsxs)(u.rU,{to:"/users/cgf-admin/",state:T["*"].includes("pending")?1:0,children:["CGF Admins"," ",T["*"].includes("pending")?"(Pending)":"(Onboarded)"]})}),(0,R.jsx)("li",{children:(0,R.jsx)(u.rU,{to:T["*"].includes("pending")?"/users/cgf-admin/pending/view-cgf-admin/".concat(T.id):"/users/cgf-admin/view-cgf-admin/".concat(T.id),children:"View CGF Admin"})}),(0,R.jsx)("li",{children:"Edit CGF Admin"})]})})}),(0,R.jsx)("section",{children:(0,R.jsxs)("div",{className:"container",children:[(0,R.jsx)("div",{className:"form-header flex-between",children:(0,R.jsx)("h2",{className:"heading2",children:"Edit CGF Admin"})}),g?(0,R.jsx)(I.Z,{}):(0,R.jsx)("div",{className:"card-wrapper",children:(0,R.jsx)("form",{onSubmit:ie(ce),children:(0,R.jsxs)("div",{className:"card-blk flex-between",children:[(0,R.jsx)("div",{className:"card-form-field",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsxs)("label",{htmlFor:"subAdminName",children:["CGF Admin Name ",(0,R.jsx)("span",{className:"mandatory",children:"*"})]}),(0,R.jsx)(w.Z,{name:"name",onBlur:function(e){var n;return de("name",null===(n=e.target.value)||void 0===n?void 0:n.trim())},control:ae,placeholder:"Enter CGF admin name",myHelper:M,rules:{required:!0,maxLength:50,minLength:3,pattern:/^[a-zA-Z][a-zA-Z ]*$/}})]})}),(0,R.jsx)("div",{className:"card-form-field",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsxs)("label",{htmlFor:"email",children:["Email ",(0,R.jsx)("span",{className:"mandatory",children:"*"})]}),(0,R.jsx)(w.Z,{name:"email",onBlur:function(e){var n;return de("email",null===(n=e.target.value)||void 0===n?void 0:n.trim())},isDisabled:!T["*"].includes("pending"),control:ae,placeholder:"Enter email address",myHelper:M,rules:{required:!0,maxLength:50,minLength:3,pattern:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}})]})}),(0,R.jsx)("div",{className:"card-form-field",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number"}),(0,R.jsxs)("div",{className:"phone-number-field",children:[(0,R.jsx)("div",{className:"select-field country-code",children:(0,R.jsx)(b.Qr,{control:ae,name:"countryCode",rules:{validate:function(){if(!oe("countryCode")&&oe("phoneNumber"))return"Invalid input"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,R.jsx)(c.Z,(0,r.Z)((0,r.Z)({className:"".concat(t&&"autocomplete-error"),PaperComponent:function(e){var n=e.children;return(0,R.jsx)(m.Z,{className:(null===G||void 0===G?void 0:G.length)>5?"autocomplete-option-txt autocomplete-option-limit":"autocomplete-option-txt",children:n})},popupIcon:(0,R.jsx)(C.Z,{})},n),{},{onChange:function(e,n){de("countryCode",n&&"object"===typeof n?n.name:n),ue("countryCode"),ue("phoneNumber")},options:G||[],autoHighlight:!0,getOptionLabel:function(e){return e},renderOption:function(e,n){return(0,R.jsx)("li",(0,r.Z)((0,r.Z)({},e),{},{children:n}))},renderInput:function(e){return(0,R.jsx)(v.Z,(0,r.Z)((0,r.Z)({},e),{},{inputProps:(0,r.Z)({},e.inputProps),onChange:function(){return ue("countryCode")},placeholder:"+00",helperText:t?M.countryCode[null===t||void 0===t?void 0:t.type]:" "}))}}))}})}),(0,R.jsx)(w.Z,{name:"phoneNumber",myOnChange:function(e){return function(e,n,t){de(n,e.target.value),ue(n),ue(t)}(e,"phoneNumber","countryCode")},onBlur:function(e){var n;return de("phoneNumber",null===(n=e.target.value)||void 0===n?void 0:n.trim())},control:ae,myHelper:M,placeholder:"1234567890",rules:{maxLength:15,minLength:7,validate:function(e){return!oe("phoneNumber")&&oe("countryCode")?"invalid input":e&&!Number(e)?"Invalid input":void 0}}})]})]})}),(0,R.jsx)("div",{className:"card-form-field",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsxs)("label",{htmlFor:"role",children:["Role ",(0,R.jsx)("span",{className:"mandatory",children:"*"})]}),(0,R.jsx)("div",{className:"select-field",children:(0,R.jsx)(E.Z,{name:"subRoleId",control:ae,options:z,rules:{required:!0},myHelper:M,placeholder:"Select role"})}),(0,R.jsx)("p",{className:"input-error-msg",children:null===(e=se.role)||void 0===e?void 0:e.message})]})}),(0,R.jsx)("div",{className:"card-form-field",children:(0,R.jsxs)("div",{className:"form-group",hidden:T["*"].includes("pending"),children:[(0,R.jsx)("label",{htmlFor:"cgfAdmin-status",children:"Status"}),(0,R.jsx)("div",{className:"radio-btn-field",children:(0,R.jsx)(b.Qr,{name:"status",control:ae,render:function(e){var n=e.field;return(0,R.jsxs)(p.Z,(0,r.Z)((0,r.Z)({},n),{},{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",className:"radio-btn",children:[(0,R.jsx)(h.Z,{value:"active",control:(0,R.jsx)(f.Z,{}),label:"Active"}),(0,R.jsx)(h.Z,{value:"inactive",control:(0,R.jsx)(f.Z,{}),label:"Inactive"})]}))}})})]})}),(0,R.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,R.jsx)("button",{onClick:function(){L("/users/cgf-admin/",{state:P})},type:"reset",className:"secondary-button mr-10",children:"Cancel"}),(0,R.jsx)("button",{type:"submit",className:"primary-button add-button",disabled:D,children:"Update"})]})]})})})]})})]})}},6363:function(e,n,t){var r=t(1413),i=t(2104),a=t(1898),s=t(1346),l=t(9407),o=t(5814),d=t(7924),u=(t(2791),t(1134)),c=t(184);n.Z=function(e){var n=e.control,t=e.name,m=e.myOnChange,v=e.myHelper,p=e.placeholder,h=e.rules,f=e.options,g=e.isDisabled,x=(0,u.bc)({name:t,control:n,rules:h,defaultValue:""}),b=x.field,j=b.value,y=b.onChange,Z=b.ref,N=x.fieldState.error,C={PaperProps:{style:{maxHeight:168}}},w=window.innerWidth>1e3?60:45,E=function(e){var n=e.children;return(0,c.jsx)("div",{className:"select-placeholder",children:n})};return(0,c.jsxs)(a.Z,{className:"select-reusable",disabled:g,children:[(0,c.jsx)("div",{className:"select-field ".concat(N&&"select-field-error"),children:(0,c.jsx)(s.Z,{IconComponent:function(e){return(0,c.jsx)(i.Z,(0,r.Z)({},e))},MenuProps:C,displayEmpty:!0,value:j,placeholder:p,onChange:m||y,inputRef:Z,fullWidth:!0,renderValue:""!==j?void 0:function(){return(0,c.jsx)(E,{children:p})},children:f&&(null===f||void 0===f?void 0:f.map((function(e){var n,t;return(0,c.jsx)(l.Z,{value:e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e,children:e.hasOwnProperty("_id")?(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.length)<=w?null===e||void 0===e?void 0:e.name:(0,c.jsx)(o.Z,{title:null===e||void 0===e?void 0:e.name,children:(0,c.jsxs)("span",{children:[" ",(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.slice(0,w))+"..."]})}):(null===e||void 0===e?void 0:e.length)<=w?e:(0,c.jsx)(o.Z,{title:e,children:(0,c.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,w))+"..."})})},e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e)})))})}),(0,c.jsx)(d.Z,{children:N?v&&v[t]&&v[t][N.type]?v[t][N.type]:"Invalid Input":" "})]})}},8086:function(e,n,t){var r=t(8588),i=(t(2791),t(1134)),a=t(184);n.Z=function(e){var n=e.control,t=e.name,s=e.myHelper,l=e.placeholder,o=e.myOnChange,d=e.rules,u=e.onBlur,c=(e.multiline,e.isDisabled),m=(0,i.bc)({name:t,control:n,rules:d,defaultValue:""}),v=m.field,p=v.onChange,h=v.value,f=v.ref,g=m.fieldState.error;return(0,a.jsx)(r.Z,{disabled:c,className:"input-field ".concat(g&&"input-error"),placeholder:l,onChange:o||p,onBlur:u,value:h,inputRef:f,inputProps:{maxLength:(null===d||void 0===d?void 0:d.maxLength)&&d.maxLength},helperText:g?s&&s[t]&&s[t][g.type]?s[t][g.type]:"Invalid Input":" ",variant:"outlined"})}},7659:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(2131),i=t(5130),a=t(2791),s=t(5985),l=(t(5462),t(184));var o=function(e){e.titleMessage;var n=e.descriptionMessage,t=e.messageType,o=e.myRef,d=(e.key,function(){(0,s.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),u=function(){return(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,l.jsx)(r.Z,{}),"error"===t&&(0,l.jsx)(i.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:n})})]})};return(0,a.useEffect)((function(){o.current=d}),[d,o]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(s.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},5736:function(e,n,t){t.d(n,{K:function(){return a}});var r=t(4165),i=t(5861),a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t,i,a,s){var l,o,d,u,c,m,v,p,h,f,g=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=g.length>5&&void 0!==g[5]?g[5]:0,401==n.response.status?(t({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return i.current()})),setTimeout((function(){a("/login")}),3e3)):403===(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.status)?(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(d=n.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&u.message?null===n||void 0===n||null===(c=n.response)||void 0===c||null===(m=c.data)||void 0===m?void 0:m.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),setTimeout((function(){a("/home")}),3e3)):(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(v=n.response)&&void 0!==v&&null!==(p=v.data)&&void 0!==p&&p.message?null===n||void 0===n||null===(h=n.response)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),s&&setTimeout((function(){a(s,{state:o})}),3e3));case 2:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a){return e.apply(this,arguments)}}()},2820:function(e,n,t){var r=t(885),i=t(2791);n.Z=function(e){var n=(0,i.useState)(e),t=(0,r.Z)(n,2),a=t[0],s=t[1],l=(0,i.useRef)([]);(0,i.useEffect)((function(){l.current.forEach((function(e){return e(a)})),l.current=[]}),[a]);return[a,function(e,n){s(e),n&&"function"===typeof n&&l.current.push(n)}]}},1260:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(2791),i=function(e){return(0,r.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}}}]);
//# sourceMappingURL=5103.e57a3bef.chunk.js.map