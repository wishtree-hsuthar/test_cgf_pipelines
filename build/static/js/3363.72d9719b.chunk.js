"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[3363],{6593:(s,e,r)=>{r.r(e),r.d(e,{default:()=>P});var a=r(72791),o=r(61134),n=r(44695),d=r(77196),l=r(57689),t=r(11087),i=r(81724),c=r(14917),m=r(76218),w=r(94677),u=r(27659),h=r(45736),p=r(12010),v=r(12820),g=r(1260),f=r(80184);const x=i.Ry().shape({oldPassword:i.Z_().required("Enter the old password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),newPassword:i.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:i.Z_().required("Enter the confirm password").oneOf([i.iH("newPassword"),null],"Password does not match.")}),P=()=>{(0,g.j)("Change Password");const s=(0,l.s0)(),{handleSubmit:e,register:r,setValue:i,reset:P,formState:{errors:j}}=(0,o.cI)({resolver:(0,n.X)(x)}),N=(0,a.useRef)(),[b,y]=(0,v.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[C,Z]=a.useState({oldPassword:"",showOldPassword:"",newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),M=s=>{s.preventDefault()};return(0,f.jsxs)("div",{className:"page-wrapper",children:[(0,f.jsx)(u.Z,{myRef:N,titleMessage:b.titleMessage,descriptionMessage:b.descriptionMessage,messageType:b.messageType}),(0,f.jsx)("div",{className:"breadcrumb-wrapper",children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)("ul",{className:"breadcrumb",children:[(0,f.jsx)("li",{children:(0,f.jsx)(t.rU,{to:"/home",children:"Home"})}),(0,f.jsx)("li",{children:"Change Password"})]})})}),(0,f.jsx)("section",{className:"container",children:(0,f.jsxs)("form",{onSubmit:e((async e=>{c.Y.info("Change Password - Change Password handler");try{const r=await w.H.post(m.oj,{oldPassword:e.oldPassword,password:e.newPassword,confirmPassword:e.confirmPassword});201==r.status&&(y({titleMessage:"Hurray!",descriptionMessage:r.data.message,messageType:"success"},(()=>N.current())),setTimeout((()=>{s("/home")}),3e3),P())}catch(o){var r,a;c.Y.info("Change Password - Change Password handler catch error".concat(null===o||void 0===o||null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)),P(),(0,h.K)(o,y,N,s)}})),children:[(0,f.jsx)("div",{className:"form-header flex-between",children:(0,f.jsx)("h2",{className:"heading2",children:"Change Password"})}),(0,f.jsxs)("div",{className:"card-wrapper",children:[(0,f.jsx)("div",{className:"card-blk flex-between",children:(0,f.jsx)("div",{className:"card-form-field",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"oldPassword",children:["Old Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(d.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showOldPassword?"text":"password",placeholder:"Enter old password",className:"input-field ".concat(j.oldPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(p.Z,{show:null===C||void 0===C?void 0:C.showOldPassword,onClickHandler:()=>{Z({...C,showOldPassword:!C.showOldPassword})},onMouseDown:M}),...r("oldPassword"),onBlur:s=>i("oldPassword",s.target.value.trim()),error:!!j.oldPassword}),(0,f.jsx)("p",{className:"password-error",children:null!==j&&void 0!==j&&j.oldPassword?j.oldPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]})})}),(0,f.jsx)("div",{className:"card-form-field",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(d.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat((null===j||void 0===j?void 0:j.newPassword)&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(p.Z,{show:null===C||void 0===C?void 0:C.showNewPassword,onClickHandler:()=>{Z({...C,showNewPassword:!C.showNewPassword})},mouseDownHandler:M}),...r("newPassword"),onBlur:s=>i("newPassword",s.target.value.trim()),error:!!j.password}),(0,f.jsx)("p",{className:"password-error",children:null!==j&&void 0!==j&&j.newPassword?j.newPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]})}),(0,f.jsx)("div",{className:"card-form-field",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,f.jsx)("span",{className:"mandatory",children:"*"})]}),(0,f.jsxs)("div",{className:"password-field",children:[(0,f.jsx)(d.Z,{fullWidth:!0,id:"outlined-adornment-password",type:C.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(j.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,f.jsx)(p.Z,{show:null===C||void 0===C?void 0:C.showConfirmPassword,onClickHandler:()=>{Z({...C,showConfirmPassword:!C.showConfirmPassword})},onMouseDown:M}),...r("confirmPassword"),onBlur:s=>i("confirmPassword",s.target.value.trim()),error:!!j.confirmPassword}),(0,f.jsx)("p",{className:"password-error",children:null!==j&&void 0!==j&&j.confirmPassword?j.confirmPassword.message:(0,f.jsx)("span",{children:"\xa0"})})]})]})}),(0,f.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,f.jsx)("button",{type:"reset",onClick:()=>s("/home"),className:"secondary-button mr-10",children:"Cancel"}),(0,f.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})]})})]})}},27659:(s,e,r)=>{r.d(e,{Z:()=>t});var a=r(92131),o=r(5130),n=r(72791),d=r(29655),l=(r(5462),r(80184));const t=function(s){let{titleMessage:e,descriptionMessage:r,messageType:t,myRef:i,key:c}=s;const m=()=>{(0,d.Am)(w,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})},w=()=>(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,l.jsx)(a.Z,{}),"error"===t&&(0,l.jsx)(o.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:r})})]});return(0,n.useEffect)((()=>{i.current=m}),[m,i]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(d.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},45736:(s,e,r)=>{r.d(e,{K:()=>a});const a=async function(s,e,r,a,o){var n,d;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if("ERR_CANCELED"===(null===s||void 0===s?void 0:s.code))return null;if(401==(null===s||void 0===s||null===(n=s.response)||void 0===n?void 0:n.status))e({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(()=>r.current())),setTimeout((()=>{a("/login")}),3e3);else if(403===(null===s||void 0===s||null===(d=s.response)||void 0===d?void 0:d.status)){var t,i,c,m;e({titleMessage:"Oops!",descriptionMessage:null!==s&&void 0!==s&&null!==(t=s.response)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.message?null===s||void 0===s||null===(c=s.response)||void 0===c||null===(m=c.data)||void 0===m?void 0:m.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>r.current())),setTimeout((()=>{a("/home")}),3e3)}else{var w,u,h,p;e({titleMessage:"Oops!",descriptionMessage:null!==s&&void 0!==s&&null!==(w=s.response)&&void 0!==w&&null!==(u=w.data)&&void 0!==u&&u.message?null===s||void 0===s||null===(h=s.response)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>r.current())),o&&setTimeout((()=>{a(o,{state:l})}),3e3)}}},12010:(s,e,r)=>{r.d(e,{Z:()=>d});var a=r(63466),o=r(13400),n=(r(72791),r(80184));const d=s=>{let{show:e,onClickHandler:r,mouseDownHandler:d}=s;return(0,n.jsx)(a.Z,{position:"end",children:(0,n.jsx)(o.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:d,edge:"end",className:"eye-btn",children:e?(0,n.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,n.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},12820:(s,e,r)=>{r.d(e,{Z:()=>o});var a=r(72791);const o=s=>{const[e,r]=(0,a.useState)(s),o=(0,a.useRef)([]);(0,a.useEffect)((()=>{o.current.forEach((s=>s(e))),o.current=[]}),[e]);return[e,(s,e)=>{r(s),e&&"function"===typeof e&&o.current.push(e)}]}},1260:(s,e,r)=>{r.d(e,{j:()=>o});var a=r(72791);const o=s=>((0,a.useEffect)((()=>{document.title="HRDD System - ".concat(s)}),[s]),null)}}]);
//# sourceMappingURL=3363.72d9719b.chunk.js.map