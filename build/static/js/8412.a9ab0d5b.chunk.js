"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8412],{8412:function(e,n,s){s.r(n);var i=s(1413),t=s(4165),a=s(5861),r=s(885),l=s(2791),o=s(7689),c=s(1087),d=s(8588),u=s(6494),p=s(6015),m=s(7265),v=s(2900),f=s(6321),h=s(8386),x=s(2898),g=s(4677),b=s(6218),j=s(2820),N=s(7659),y=s(1300),Z=s(2104),w=s(1260),k=s(4917),M=s(5736),C=s(6483),T=s(184);n.default=function(){var e,n,s;(0,w.j)("View CGF Admin");var A=(0,o.UO)(),S=A["*"].includes("pending")?1:0,F=(0,l.useState)(!1),B=(0,r.Z)(F,2),R=B[0],D=B[1],O=(0,l.useState)(!0),P=(0,r.Z)(O,2),E=P[0],H=P[1],I=(0,o.s0)(),Y=(0,l.useRef)(),_=(0,o.s0)(),G=(0,j.Z)({titleMessage:"",descriptionMessage:"",messageType:""}),K=(0,r.Z)(G,2),U=K[0],V=K[1],z=(0,l.useState)(!1),J=(0,r.Z)(z,2),L=J[0],W=J[1],q=(0,l.useState)(!1),Q=(0,r.Z)(q,2),X=Q[0],$=Q[1],ee=(0,l.useState)({}),ne=(0,r.Z)(ee,2),se=ne[0],ie=ne[1];k.Y.debug("params = ",A),(0,l.useEffect)((function(){var e=!0,n=new AbortController,s=function(){var s=(0,a.Z)((0,t.Z)().mark((function s(){var i;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,H(!0),s.next=4,g.H.get(A["*"].includes("pending")?b.we+(null===A||void 0===A?void 0:A.id):b.BJ+(null===A||void 0===A?void 0:A.id),{signal:n.signal});case 4:i=s.sent,k.Y.debug("response from sub admin view page fetch api",i),200===i.status&&e&&ie(i.data),H(!1),s.next=17;break;case 10:if(s.prev=10,s.t0=s.catch(0),"ERR_CANCELED"!==(null===s.t0||void 0===s.t0?void 0:s.t0.code)){s.next=14;break}return s.abrupt("return");case 14:k.Y.debug("error from sub admin view page fetch api",s.t0),H(!1),(0,M.K)(s.t0,V,Y,_,"/users/cgf-admin");case 17:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(){return s.apply(this,arguments)}}();return s(),function(){e=!1,n.abort()}}),[]);var te=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.H.delete(b.JL+A.id);case 3:200==e.sent.status&&(V({titleMessage:"Success",descriptionMessage:"".concat(se.name," deleted!"),messageType:"success"},(function(){return Y.current()})),$(!1),setTimeout((function(){_("/users/cgf-admin/",{state:S})}),2e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),k.Y.debug("error from delete API",e.t0),(0,M.K)(e.t0,V,Y,_);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.H.delete(b.MF+A.id);case 3:200==(n=e.sent).status&&(k.Y.debug("user invite withdrawn successfully"),V({titleMessage:"Success",descriptionMessage:n.data.message,messageType:"success"},(function(){return Y.current()})),setTimeout((function(){_("/users/cgf-admin/",{state:1})}),3e3),D(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(0,M.K)(e.t0,V,Y,_),k.Y.debug("error from withdrawInvite id",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();k.Y.debug("fetchedSubAdminDetails---",null===se||void 0===se?void 0:se.isActive);return(0,T.jsxs)("div",{className:"page-wrapper",onClick:function(){return L&&W(!1)},children:[(0,T.jsx)(N.Z,{messageType:U.messageType,descriptionMessage:U.descriptionMessage,myRef:Y,titleMessage:U.titleMessage}),(0,T.jsx)(y.Z,{title:(0,T.jsxs)("p",{children:['Withdraw "',se&&"".concat(null===se||void 0===se?void 0:se.name),"'s\" Invitation"]}),info1:(0,T.jsx)("p",{children:"On withdrawal, CGF admin will not be able to verify their account."}),info2:(0,T.jsx)("p",{children:"Do you want to withdraw the invitation?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:function(){ae()},onSecondaryModalButtonClickHandler:function(){D(!1)},openModal:R,setOpenModal:D}),(0,T.jsx)(y.Z,{title:(0,T.jsxs)("p",{children:[' Delete CGF Admin "',null===se||void 0===se?void 0:se.name,'" ']}),info1:(0,T.jsx)("p",{children:"Deleting all the details will be an irreversible action, we recommend you replace them instead."}),info2:(0,T.jsxs)("p",{children:["Do you still want to delete ",(0,T.jsx)("b",{children:null===se||void 0===se?void 0:se.name}),"?"]}),onPrimaryModalButtonClickHandler:te,onSecondaryModalButtonClickHandler:function(){$(!1),_("/users/cgf-admin/replace-cgf-admin/".concat(A.id))},primaryButtonText:"Delete anyway",secondaryButtonText:"Replace & Delete",openModal:X,setOpenModal:$}),(0,T.jsx)("div",{className:"breadcrumb-wrapper",children:(0,T.jsx)("div",{className:"container",children:(0,T.jsxs)("ul",{className:"breadcrumb",children:[(0,T.jsx)("li",{children:(0,T.jsxs)(c.rU,{to:"/users/cgf-admin/",state:A["*"].includes("pending")?1:0,children:["CGF Admins"," ",A["*"].includes("pending")?"(Pending)":"(Onboarded)"]})}),(0,T.jsx)("li",{children:"View CGF Admin"})]})})}),(0,T.jsx)("section",{children:(0,T.jsxs)("div",{className:"container",children:[(0,T.jsxs)("div",{className:"form-header flex-between",children:[(0,T.jsx)("h2",{className:"heading2",children:"View CGF Admin"}),(0,T.jsxs)("span",{className:"form-header-right-txt",onClick:function(){W(!L)},children:[(0,T.jsx)("span",{className:"crud-operation ".concat(L&&"crud-operation-active"),children:(0,T.jsx)(x.Z,{})}),(0,T.jsx)("div",{className:"crud-toggle-wrap",style:{display:L?"block":"none"},children:(0,T.jsx)("ul",{className:"crud-toggle-list",children:[{id:1,action:"Edit"},{id:2,action:"Replace & Delete"},{id:4,action:"Re-Invite"},{id:3,action:"Delete"}].map((function(e,n){return(0,T.jsx)("li",{hidden:A["*"].includes("pending")&&"Replace & Delete"==e.action||!A["*"].includes("pending")&&"Re-Invite"==e.action,onClick:function(){return function(e){k.Y.debug("clicked",e),k.Y.debug(e),0===e&&(A["*"].includes("pending")?I("/users/cgf-admin/pending/edit-cgf-admin/".concat(A.id)):I("/users/cgf-admin/edit-cgf-admin/".concat(A.id))),1===e&&I("/users/cgf-admin/replace-cgf-admin/".concat(A.id)),2==e&&(k.Y.debug("resend email"),(0,C.F)(A.id,V,Y,_)),3===e&&(A["*"].includes("pending")?D(!0):$(!0))}(n)},children:e.action},e.id)}))})})]})]}),E?(0,T.jsx)(h.Z,{}):(0,T.jsx)("div",{className:"card-wrapper",children:(0,T.jsxs)("div",{className:"card-blk flex-between",children:[(0,T.jsx)("div",{className:"card-form-field",children:(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsxs)("label",{htmlFor:"subAdminName",children:["CGF Admin Name ",(0,T.jsx)("span",{className:"mandatory",children:"*"})]}),(0,T.jsx)(d.Z,{id:"outlined-basic",placeholder:"N/A",variant:"outlined",className:"input-field",disabled:!0,value:null===se||void 0===se?void 0:se.name,helperText:" "})]})}),(0,T.jsx)("div",{className:"card-form-field",children:(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsxs)("label",{htmlFor:"email",children:["Email ",(0,T.jsx)("span",{className:"mandatory",children:"*"})]}),(0,T.jsx)(d.Z,{className:"input-field ",id:"outlined-basic",placeholder:"N/A",variant:"outlined",disabled:!0,value:null===se||void 0===se?void 0:se.email,helperText:" "})]})}),(0,T.jsx)("div",{className:"card-form-field",children:(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsx)("label",{htmlFor:"emailid",children:"Phone Number"}),(0,T.jsxs)("div",{className:"phone-number-field",children:[(0,T.jsx)("div",{className:"select-field country-code",children:(0,T.jsx)(u.Z,{disabled:!0,popupIcon:(0,T.jsx)(Z.Z,{}),className:"phone-number-disable",options:[],autoHighlight:!0,readOnly:!0,value:null===se||void 0===se?void 0:se.countryCode,renderOption:function(e,n){return(0,T.jsxs)(p.Z,(0,i.Z)((0,i.Z)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[n.name+" ",n.countryCode]}))},renderInput:function(e){return(0,T.jsx)(d.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"N/A",inputProps:(0,i.Z)((0,i.Z)({},e.inputProps),{},{autoComplete:""})}))}})}),(0,T.jsx)(d.Z,{id:"outlined-basic",placeholder:"N/A",variant:"outlined",disabled:!0,value:null===se||void 0===se?void 0:se.phoneNumber,helperText:" "})]})]})}),(0,T.jsx)("div",{className:"card-form-field",children:(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsxs)("label",{htmlFor:"role",children:["Role ",(0,T.jsx)("span",{className:"mandatory",children:"*"})]}),(0,T.jsx)("div",{className:"select-field",children:(0,T.jsx)(d.Z,{id:"outlined-basic",placeholder:"Enter phone number",variant:"outlined",disabled:!0,value:null!==(e=null===se||void 0===se||null===(n=se.subRoleId)||void 0===n?void 0:n.name)&&void 0!==e?e:"N/A"})})]})}),(0,T.jsx)("div",{className:"card-form-field",hidden:A["*"].includes("pending"),children:(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsx)("label",{htmlFor:"email",children:"Replaced CGF Admin "}),(0,T.jsx)(d.Z,{className:"input-field ",id:"outlined-basic",placeholder:"N/A",variant:"outlined",disabled:!0,value:null!==se&&void 0!==se&&se.replacedUsers?null===se||void 0===se||null===(s=se.replacedUsers[0])||void 0===s?void 0:s.name:"N/A",helperText:" "})]})}),(0,T.jsx)("div",{className:"card-form-field",hidden:A["*"].includes("pending"),children:(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsx)("label",{htmlFor:"status",children:"Status"}),(0,T.jsx)("div",{className:"radio-btn-field",children:(0,T.jsxs)(m.Z,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",className:"radio-btn",value:se.isActive?"active":"inactive",children:[(0,T.jsx)(v.Z,{disabled:!0,value:"active",control:(0,T.jsx)(f.Z,{}),label:"Active"}),(0,T.jsx)(v.Z,{disabled:!0,value:"inactive",control:(0,T.jsx)(f.Z,{}),label:"Inactive"})]})})]})})]})})]})})]})}},1300:function(e,n,s){var i=s(9823),t=s(9444),a=s(5112),r=s(7962),l=s(6015),o=s(5814),c=(s(2791),s(184));n.Z=function(e){var n,s,d,u,p,m,v=e.title,f=e.info1,h=e.info2,x=e.primaryButtonText,g=e.secondaryButtonText,b=void 0===g?void 0:g,j=e.onPrimaryModalButtonClickHandler,N=e.isDisabledPrimaryButton,y=void 0!==N&&N,Z=e.onSecondaryModalButtonClickHandler,w=e.openModal,k=e.setOpenModal,M=e.isModalForm,C=e.handleCloseRedirect,T=function(e,n){n&&"backdropClick"===n||k(!1)},A=function(){Z()},S="";return"object"===typeof(null===v||void 0===v||null===(n=v.props)||void 0===n?void 0:n.children)?null===v||void 0===v||null===(s=v.props)||void 0===s||null===(d=s.children)||void 0===d||d.map((function(e){return S+=e})):S=null===v||void 0===v||null===(u=v.props)||void 0===u?void 0:u.children,(0,c.jsx)(t.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:w,onClose:T,closeAfterTransition:!0,disableEscapeKeyDown:!!M,BackdropComponent:a.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,c.jsx)(r.Z,{in:w,children:(0,c.jsx)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,c.jsxs)("div",{className:"popup-innerblk",children:[(0,c.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(p=S)||void 0===p?void 0:p.length)<=47?(0,c.jsx)("h2",{className:"popup-ttl heading2",children:v}):(0,c.jsx)(o.Z,{title:S,children:(0,c.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(m=S)||void 0===m?void 0:m.slice(0,50),'..."']})}),(0,c.jsx)("span",{className:"popup-close-icon",onClick:M?C:T,children:(0,c.jsx)(i.Z,{})})]}),(0,c.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,c.jsxs)("div",{className:"popup-content-blk text-center",children:[f,M?(0,c.jsx)("form",{onSubmit:A,children:h}):h,(0,c.jsxs)("div",{className:"form-btn flex-center",children:[b&&(0,c.jsx)("button",{type:"submit",onClick:A,className:"secondary-button mr-10",children:b}),(0,c.jsx)("button",{type:"submit",onClick:function(){j()},disabled:y,className:"primary-button",children:x})]})]})})]})})})})}},7659:function(e,n,s){s.d(n,{Z:function(){return o}});var i=s(2131),t=s(5130),a=s(2791),r=s(5985),l=(s(5462),s(184));var o=function(e){e.titleMessage;var n=e.descriptionMessage,s=e.messageType,o=e.myRef,c=(e.key,function(){(0,r.Am)(d,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),d=function(){return(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===s&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===s&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===s&&(0,l.jsx)(i.Z,{}),"error"===s&&(0,l.jsx)(t.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:n})})]})};return(0,a.useEffect)((function(){o.current=c}),[c,o]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(r.Ix,{className:"toaster-wrap ".concat("success"===s&&"toaster-wrap-success"," ")})]})}},5736:function(e,n,s){s.d(n,{K:function(){return a}});var i=s(4165),t=s(5861),a=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(n,s,t,a,r){var l,o,c,d,u,p,m,v,f,h,x=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=x.length>5&&void 0!==x[5]?x[5]:0,401==n.response.status?(s({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return t.current()})),setTimeout((function(){a("/login")}),3e3)):403===(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.status)?(s({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(c=n.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&d.message?null===n||void 0===n||null===(u=n.response)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return t.current()})),setTimeout((function(){a("/home")}),3e3)):(console.log("Else block"),console.log("route = ",r),console.log("erro in else block",n),s({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(m=n.response)&&void 0!==m&&null!==(v=m.data)&&void 0!==v&&v.message?null===n||void 0===n||null===(f=n.response)||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return t.current()})),r&&setTimeout((function(){a(r,{state:o})}),3e3));case 2:case"end":return e.stop()}}),e)})));return function(n,s,i,t,a){return e.apply(this,arguments)}}()},6483:function(e,n,s){s.d(n,{F:function(){return o}});var i=s(4165),t=s(5861),a=s(6218),r=s(4677),l=s(5736),o=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(n,s,t,o){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.H.get(a.Nk+n);case 3:200==e.sent.status&&s({titleMessage:"Success!",descriptionMessage:"Invite sent successfully!",messageType:"success"},(function(){return t.current()})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,l.K)(e.t0,s,t,o);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,s,i,t){return e.apply(this,arguments)}}()},2820:function(e,n,s){var i=s(885),t=s(2791);n.Z=function(e){var n=(0,t.useState)(e),s=(0,i.Z)(n,2),a=s[0],r=s[1],l=(0,t.useRef)([]);(0,t.useEffect)((function(){l.current.forEach((function(e){return e(a)})),l.current=[]}),[a]);return[a,function(e,n){r(e),n&&"function"===typeof n&&l.current.push(n)}]}},1260:function(e,n,s){s.d(n,{j:function(){return t}});var i=s(2791),t=function(e){return(0,i.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}},2898:function(e,n,s){var i=s(4836);n.Z=void 0;var t=i(s(5649)),a=s(184),r=(0,t.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");n.Z=r}}]);
//# sourceMappingURL=8412.a9ab0d5b.chunk.js.map