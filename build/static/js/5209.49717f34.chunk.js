(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5209],{6916:function(e,n,t){"use strict";t.r(n),t.d(n,{AlphaNumRegEx:function(){return U},AlphaRegEx:function(){return L},NumericRegEx:function(){return Y},default:function(){return K}});var s=t(4942),i=t(4165),o=t(5861),l=t(885),a=t(1413),r=t(5987),d=t(600),u=t(2898),c=t(7194),v=t(6015),p=t(5814),m=t(8588),h=t(7205),f=t(4293),g=t(166),x=t(2791),b=t(1134),y=t(9434),j=t(7689),Z=t(4917),w=t(6218),k=t(4677),T=t(1300),N=t(7659),S=t(5736),M=t(8386),R=t(7806),A=t(2820),C=t(1260),E=t(3623),F=t(550),D=t(1213),O=t(184);F.ZP.register(D.Z),F.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var s=e.ctx;s.save(),s.globalCompositeOperation="destination-over",s.fillStyle=t.color||"#fff",s.fillRect(0,0,e.width,e.height),s.restore()}});var I=function(e){var n,t,s,i,o,r,d=e.graphLevelBreakdown,u=e.chartImages,c=e.setChartImages,v=(0,x.useState)(0),p=(0,l.Z)(v,2),m=p[0],h=p[1],f=(0,x.useRef)(null),g={labels:[["Policy"," Commitment","& Governance"],["Assess","Human Rights Potential"," & Actual Impact"],["Integrate","& Act in Order to Prevent","& Mitigate"],["Track the","Effectiveness of Responses"],"Report","Remedy"],datasets:[{backgroundColor:"#f7a823",borderColor:"#f7a823",data:[null!==(n=d["Policy Commitment & Governance"])&&void 0!==n?n:0,null!==(t=d["Assess Human Rights Potential and Actual Impact"])&&void 0!==t?t:0,null!==(s=d["Integrate and Act in Order to Prevent and Mitigate"])&&void 0!==s?s:0,null!==(i=d["Track the Effectiveness of Responses"])&&void 0!==i?i:0,null!==(o=d.Report)&&void 0!==o?o:0,null!==(r=d.Remedy)&&void 0!==r?r:0],barThickness:50}]};return(0,x.useEffect)((function(){if(m<3){h((function(e){return e+1}));var e=(0,a.Z)({},u);e.levelBreakdownGraph=f.current.toBase64Image(),c(e)}}),[m]),(0,O.jsx)("div",{style:{height:"400px"},className:"card-wrapper",children:(0,O.jsx)(E.$Q,{ref:f,data:g,options:{animation:!1,responsive:!0,maintainAspectRatio:!1,layout:{},plugins:{legend:{display:!1},title:{text:"HRDD Step Level Breakdown",display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}},x:{grid:{display:!1},alignToPixels:"center",align:"start"}}}})})};F.ZP.register(D.Z),F.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var s=e.ctx;s.save(),s.globalCompositeOperation="destination-over",s.fillStyle=t.color||"#fff",s.fillRect(0,0,e.width,e.height),s.restore()}});var B=function(e){var n,t,s,i,o,l=e.graphResult,r=e.questionnaireTitle,d=e.chartImages,u=e.setChartImages,c=(0,x.useRef)(null),v=function(){switch(r){case"HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)":return"HRDD HQ Level Result";case"GLOBAL OPERATION HRDD REQUIREMENTS (SELECTED OPERATION)":return"Global Operation HRDD Result";case"COUNTRY- OPERATION HRDD REQUIREMENTS":return"Country Operation HRDD Result";default:return"HRDD Result"}},p={labels:["Not Initiated","Launched","Established","Leadership","General Result"],datasets:[{label:v(),backgroundColor:"#3498db",borderColor:"#3498db",data:[null!==(n=l["Not Initiated"])&&void 0!==n?n:0,null!==(t=l.Launched)&&void 0!==t?t:0,null!==(s=l.Established)&&void 0!==s?s:0,null!==(i=l.Leadership)&&void 0!==i?i:0,null!==(o=l.General)&&void 0!==o?o:0],barThickness:25}]};return(0,x.useEffect)((function(){if(void 0===d.resultsGraph){var e=(0,a.Z)({},d);e.resultsGraph=c.current.toBase64Image(),u(e)}})),(0,O.jsx)("div",{style:{height:"400px"},className:"preview-card-wrapper",children:(0,O.jsx)(E.$Q,{ref:c,data:p,options:{animation:!1,indexAxis:"y",responsive:!0,maintainAspectRatio:!1,layout:{padding:10},plugins:{legend:{display:!1},title:{text:v(),display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return"    "+e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},alignToPixels:"center",align:"start"},x:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}}}}})})},_=function(e){var n=e.graphResult,t=e.graphLevelBreakdown,s=e.questionnaireTitle,i=e.chartImages,o=e.setChartImages;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(B,{graphResult:n,questionnaireTitle:s,chartImages:i,setChartImages:o}),(0,O.jsx)(I,{graphLevelBreakdown:t,chartImages:i,setChartImages:o})]})},P=["children","value","index"],H=x.lazy((function(){return t.e(4747).then(t.bind(t,4747))})),L=/^[a-zA-Z ]*$/,Y=/^[0-9]+$/i,U=/^[a-z0-9 ]+$/i,q=t(9704);function Q(e){var n=e.children,t=e.value,s=e.index,i=(0,r.Z)(e,P);return(0,O.jsx)("div",(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:t!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s)},i),{},{children:t===s&&(0,O.jsx)(v.Z,{children:n})}))}function G(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var z={comment:{required:"Enter the reason for rejecting assessment.",minLength:"Minimum 3 character required."}};var K=function(){var e,n,t,r,E,F,D,I,B,P,K,V,$,J,W;(0,C.j)("Fill Assessment");var X=(0,x.useState)({}),ee=(0,l.Z)(X,2),ne=ee[0],te=ee[1],se=(0,x.useState)(!1),ie=(0,l.Z)(se,2),oe=ie[0],le=ie[1],ae=(0,x.useState)(""),re=(0,l.Z)(ae,2),de=re[0],ue=re[1],ce=(0,b.cI)({}),ve=ce.handleSubmit,pe=ce.control,me=ce.setValue,he=(0,x.useState)(0),fe=(0,l.Z)(he,2),ge=fe[0],xe=fe[1],be=(0,j.UO)(),ye=(0,y.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userObj})),je=(0,j.s0)(),Ze=(0,x.useState)({}),we=(0,l.Z)(Ze,2),ke=we[0],Te=we[1],Ne=(0,x.useState)({}),Se=(0,l.Z)(Ne,2),Me=Se[0],Re=Se[1],Ae=(0,x.useState)({}),Ce=(0,l.Z)(Ae,2),Ee=Ce[0],Fe=Ce[1],De=(0,x.useState)(null),Oe=(0,l.Z)(De,2),Ie=Oe[0],Be=Oe[1],_e=(0,x.useState)(null),Pe=(0,l.Z)(_e,2),He=Pe[0],Le=Pe[1],Ye=(0,x.useState)(""),Ue=(0,l.Z)(Ye,2),qe=Ue[0],Qe=Ue[1],Ge=(0,x.useState)(""),ze=(0,l.Z)(Ge,2),Ke=ze[0],Ve=ze[1],$e=(0,x.useState)(!1),Je=(0,l.Z)($e,2),We=Je[0],Xe=Je[1],en=(0,x.useState)(!1),nn=(0,l.Z)(en,2),tn=nn[0],sn=nn[1],on=(0,x.useState)(!0),ln=(0,l.Z)(on,2),an=ln[0],rn=ln[1],dn=(0,x.useState)(!1),un=(0,l.Z)(dn,2),cn=un[0],vn=un[1],pn=(0,x.useState)({}),mn=(0,l.Z)(pn,2),hn=mn[0],fn=mn[1],gn=(0,x.useState)(!1),xn=(0,l.Z)(gn,2),bn=xn[0],yn=xn[1],jn=(0,x.useState)(!1),Zn=(0,l.Z)(jn,2),wn=Zn[0],kn=Zn[1],Tn=(0,x.useRef)(null),Nn=(0,A.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),Sn=(0,l.Z)(Nn,2),Mn=Sn[0],Rn=Sn[1],An=function(e,n){Z.Y.info("Fill Assessment - handleCatchError handler ".concat(n," ")),(0,S.K)(e,Rn,Bn,je,"/assessment-list")},Cn=(0,x.useState)(!1),En=(0,l.Z)(Cn,2),Fn=En[0],Dn=En[1],On=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,s,o,l){var r,d,u,c,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z.Y.info("Fill Assessment - fetchQuestionnaire handler "),e.prev=1,e.next=4,k.H.get("".concat(w.ZW,"/").concat(n),{signal:l.signal});case 4:u=e.sent,o&&Re((0,a.Z)({},u.data)),t&&s&&xe(null===u||void 0===u||null===(r=u.data)||void 0===r||null===(d=r.sections)||void 0===d?void 0:d.length),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=13;break}return e.abrupt("return");case 13:Z.Y.info("Fill Assessment - fetchQuestionnaire handler catch error - ".concat(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.message)),(0,S.K)(e.t0,Rn,Bn,je);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,t,s,i,o){return e.apply(this,arguments)}}(),In=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var s,o,l,r,d,u,c,v,p,m,h,f,g,x,b,y,j,T,N,S;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z.Y.info("Fill Assessment - fetchAssessments handler"),e.prev=1,le(!0),e.next=5,k.H.get("".concat(w.IG).concat(be.id),{signal:t.signal});case 5:x=e.sent,le(!1),Xe((null===ye||void 0===ye?void 0:ye._id)===(null===x||void 0===x||null===(s=x.data)||void 0===s||null===(o=s.assignedOperationMember)||void 0===o?void 0:o._id)),n&&Te((0,a.Z)({},x.data)),n&&Fe((0,a.Z)({},x.data.answers)),n&&(null===x||void 0===x||null===(l=x.data)||void 0===l?void 0:l.graphResult)&&Le((0,a.Z)({},null===x||void 0===x||null===(r=x.data)||void 0===r?void 0:r.graphResult)),n&&(null===x||void 0===x||null===(d=x.data)||void 0===d?void 0:d.graphLevelBreakdown)&&Be((0,a.Z)({},null===x||void 0===x||null===(u=x.data)||void 0===u?void 0:u.graphLevelBreakdown)),On(null===x||void 0===x||null===(c=x.data)||void 0===c?void 0:c.questionnaireId,null===x||void 0===x||null===(v=x.data)||void 0===v?void 0:v.graphResult,null===x||void 0===x||null===(p=x.data)||void 0===p?void 0:p.graphLevelBreakdown,n,t),yn((null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.isSubmitted)&&!be["*"].includes("view")),Dn(ye._id===(null===x||void 0===x||null===(h=x.data)||void 0===h||null===(f=h.assignedOperationMember)||void 0===f?void 0:f._id)&&!be["*"].includes("view")&&"Pending"==(null===x||void 0===x||null===(g=x.data)||void 0===g?void 0:g.assessmentStatus)),e.next=25;break;case 17:if(e.prev=17,e.t0=e.catch(1),Z.Y.info("Fill Assessment - fetchAssessments handler catch error ".concat(null===e.t0||void 0===e.t0||null===(b=e.t0.response)||void 0===b||null===(y=b.data)||void 0===y?void 0:y.message)),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=22;break}return e.abrupt("return");case 22:401===(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j?void 0:j.status)&&(n&&Rn({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/login")}),3e3)),400===(null===e.t0||void 0===e.t0||null===(T=e.t0.response)||void 0===T?void 0:T.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(N=e.t0.response)||void 0===N||null===(S=N.data)||void 0===S?void 0:S.message)&&(n&&Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3)),le(!1);case 25:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n,t){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){var e=!0,n=new AbortController;return In(e,n),function(){e=!1,n.abort()}}),[cn]);var Bn=(0,x.useRef)(),_n=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,s){var o,l,r,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(n?w.FU+be.id:w.FU+be.id+"/submit",(0,a.Z)({},s));case 3:201==(o=e.sent).status&&(n&&He&&vn(!cn),te({}),!t&&Rn({titleMessage:"Success",descriptionMessage:null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message,messageType:"success"},(function(){return Bn.current()})),!t&&setTimeout((function(){!n&&je("/assessment-list"),sn(!1)}),5e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),sn(!1),400===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&(Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t,s){return e.apply(this,arguments)}}(),Pn=function(e,n){var t;Z.Y.info("Fill assessment - handleFormSubmit handler"),e.preventDefault();var i={},o=[],l=(0,a.Z)({},Ee);null===Me||void 0===Me||null===(t=Me.sections)||void 0===t||t.map((function(e,t){var r,d,u=null!==(r=hn[null===e||void 0===e?void 0:e.uuid])&&void 0!==r?r:{},c=null!==(d=Ee[null===e||void 0===e?void 0:e.uuid])&&void 0!==d?d:{};if("table"===(null===e||void 0===e?void 0:e.layout)){(function(e){var n={};e.forEach((function(e){n[e.uuid]=e}))})(null===e||void 0===e?void 0:e.columnValues);Z.Y.info("Fill assessment - handleFormSubmit - transformed column values"),Object.keys(c).forEach((function(i){var r,d=null===i||void 0===i?void 0:i.split("_")[1];null===e||void 0===e||null===(r=e.columnValues)||void 0===r||r.forEach((function(i){var r,v,p,m;"prefilled"===i.columnType||!1!==n||null===i||void 0===i||!i.isRequired||c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]&&0!==c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)].length?"dropdown"!==i.columnType||!c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]||null!==(r=i.options)&&void 0!==r&&r.includes(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?"date"===i.columnType&&c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]&&isNaN(new Date(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]).getTime())?(Z.Y.info("Fill Assessment - handleFormSubmit - Fetched value not present in column date type"),u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)],'" is not valid date format.\n\n\n                            '),o.push(t),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},"".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d),""))))):"prefilled"!==i.columnType&&"alphabets"==(null===i||void 0===i?void 0:i.validation)&&(null===(v=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===v?void 0:v.length)>0&&!L.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is an alphabetic field.",o.push(t)):"prefilled"!==(null===i||void 0===i?void 0:i.columnType)&&"numeric"==(null===i||void 0===i?void 0:i.validation)&&(null===(p=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===p?void 0:p.length)>0&&!Y.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is a numeric field.",Z.Y.info("Fill Assessment - handleFormSubmit - in table numeric only"),o.push(t)):"prefilled"!==i.columnType&&"alphanumeric"==(null===i||void 0===i?void 0:i.validation)&&(null===(m=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===m?void 0:m.length)>0&&!U.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]=" This is an alphanumeric field.",Z.Y.info("Fill Assessment - handleFormSubmit - in table alphanumeric only"),o.push(t)):delete u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]:(Z.Y.info("Fill Assessment - handleFormSubmit - Fetched value not present in column dropdown options"),u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)],'" is not part of above list. Please select valid option among listed values from list.\n\n\n                            '),o.push(t),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},"".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d),"")))),n||(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is required field",o.push(t))):(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is required field",o.push(t))}))})),Z.Y.info("Fill Assessment - handleFormSubmit - Section errors in table layout ")}else null===e||void 0===e||e.questions.forEach((function(i){if(!i.isRequired||c[null===i||void 0===i?void 0:i.uuid]&&0!==c[null===i||void 0===i?void 0:i.uuid].length||!1!==n)if("radioGroup"!=i.inputType&&"dropdown"!=i.inputType||!c[null===i||void 0===i?void 0:i.uuid]||i.options.includes(c[null===i||void 0===i?void 0:i.uuid]))if("checkbox"==i.inputType&&c[null===i||void 0===i?void 0:i.uuid]){var r,d=c[null===i||void 0===i?void 0:i.uuid];"string"===typeof d&&(d=c[null===i||void 0===i?void 0:i.uuid].split(",")),Z.Y.info("Fill Assessment - handleFormSubmit - error from checkbox question");var v=i.options,p=d&&(null===(r=d)||void 0===r?void 0:r.filter((function(e){return null===v||void 0===v?void 0:v.includes(e)})));0===p.length?(u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),o.push(t)):delete u[null===i||void 0===i?void 0:i.uuid],l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,p))))}else"alphabets"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===L.test(c[null===i||void 0===i?void 0:i.uuid])?(Z.Y.info("Fill Assessment - handleFormSubmit - error from numric if elese"),u[null===i||void 0===i?void 0:i.uuid]="This is an alphabetic field",o.push(t)):"numeric"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===Y.test(c[null===i||void 0===i?void 0:i.uuid])?(u[null===i||void 0===i?void 0:i.uuid]="This is a numeric field",o.push(t)):"alphanumeric"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===U.test(c[null===i||void 0===i?void 0:i.uuid])?(u[null===i||void 0===i?void 0:i.uuid]=" This is an alphanumeric field",o.push(t)):"date"===i.inputType&&c[null===i||void 0===i?void 0:i.uuid]&&isNaN(new Date(c[null===i||void 0===i?void 0:i.uuid]).getTime())?(Z.Y.info("Fill Assessment - handleFormSubmit - error from date question"),u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not valid date.\n                        '),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,"")))),o.push(t)):delete u[null===i||void 0===i?void 0:i.uuid];else Z.Y.info("Fill Assessment - handleFormSubmit - error from radio group question"),u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,"")))),o.push(t);else Z.Y.info("Fill Assessment - handleFormSubmit - error from required"),u[null===i||void 0===i?void 0:i.uuid]="This is required field",o.push(t)}));xe(o.length>0?o[0]:0),i[null===e||void 0===e?void 0:e.uuid]=(0,a.Z)({},u)})),Fe((0,a.Z)({},l)),function(e){fn((0,a.Z)({},e))}(i),Object.keys(i).every((function(e){return 0===Object.keys(i[e]).length}))&&(sn(!0),_n(n,void 0,l))},Hn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,s,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z.Y.info("Fill Assessment - onSubmitReason handler"),e.prev=1,e.next=4,k.H.post(w.zJ+be.id+"/decline",{comment:n.comment});case 4:201==(t=e.sent).status&&(Rn({titleMessage:"Success",descriptionMessage:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message,messageType:"success"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),Z.Y.info("Fill Assessment - onSubmitReason handler - catch error - ".concat(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)),An(e.t0,"onSubmitReason");case 12:Dn(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),Ln=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(w.XI+be.id+"/accept");case 3:201==(n=e.sent).status&&(Rn({titleMessage:"Success",descriptionMessage:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message,messageType:"success"},(function(){return Bn.current()})),Dn(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),An(e.t0,"onAcceptAssessments"),Dn(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Yn=(0,x.useState)(!1),Un=(0,l.Z)(Yn,2),qn=Un[0],Qn=Un[1],Gn=function(){je("/assessment-list")},zn=(0,x.useState)(""),Kn=(0,l.Z)(zn,2),Vn=Kn[0],$n=Kn[1],Jn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t,s,o,l,r,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ie||!He){e.next=15;break}return e.next=4,k.H.post(w.j5+be.id+"/download",(0,a.Z)({},ne),{responseType:"blob"});case 4:n=e.sent,t=window.URL.createObjectURL(new Blob([n.data])),(s=document.createElement("a")).href=t,o=(0,R.d)(),s.setAttribute("download","Assessment - ".concat(o,".xlsx")),document.body.appendChild(s),s.click(),201==n.status&&Rn({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return Bn.current()})),e.next=17;break;case 15:return e.next=17,(0,R.j)("Assessment",Rn,be.id,Bn,w.j5,je);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),400===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(d=r.data)||void 0===d?void 0:d.message)?(Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3)):(0,S.K)(e.t0,Rn,Bn,je);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),Wn=(0,x.useState)(!1),Xn=(0,l.Z)(Wn,2),et=Xn[0],nt=Xn[1],tt=function(){ue(""),$n(""),le(!1),rn(!0),nt(!1)},st=function(){var e,n;(Z.Y.info("Fill Assessment - addTableAssessmentValues handler"),Me&&(null===(e=Object.keys(Me))||void 0===e?void 0:e.length)>0)&&(null===Me||void 0===Me||null===(n=Me.sections)||void 0===n||n.forEach((function(e){if("table"===(null===e||void 0===e?void 0:e.layout)&&(!Ee[null===e||void 0===e?void 0:e.uuid]||0===Object.keys(Ee[null===e||void 0===e?void 0:e.uuid]).length)){var n=(0,a.Z)({},Ee);n[null===e||void 0===e?void 0:e.uuid]={},null===e||void 0===e||e.rowValues.forEach((function(t){var s;null===e||void 0===e||null===(s=e.columnValues)||void 0===s||s.forEach((function(s){n[null===e||void 0===e?void 0:e.uuid]["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(null===t||void 0===t?void 0:t.uuid)]=""}))})),Fe(n)}})))};return st(),(0,O.jsxs)("div",{className:"page-wrapper",onClick:function(){return qn&&Qn(!1)},children:[(0,O.jsx)(T.Z,{title:(0,O.jsx)("p",{children:"Accept/Reject Assessment "}),info1:(0,O.jsxs)("p",{className:"accrej-txtwrap",children:[(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Assessment title ",(0,O.jsx)("span",{children:":"})]}),(null===ke||void 0===ke||null===(e=ke.title)||void 0===e?void 0:e.length)<=36?(0,O.jsx)("span",{className:"accrej-desc",children:null===ke||void 0===ke?void 0:ke.title}):(0,O.jsx)(p.Z,{title:null===ke||void 0===ke?void 0:ke.title,children:(0,O.jsxs)("span",{className:"accrej-desc",children:[" ",null===ke||void 0===ke||null===(n=ke.title)||void 0===n?void 0:n.slice(0,39),"..."]})})]}),(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Assessment type ",(0,O.jsx)("span",{children:":"})]}),(null===ke||void 0===ke||null===(t=ke.assessmentType)||void 0===t?void 0:t.length)<=36?(0,O.jsx)("span",{className:"accrej-desc",children:null===ke||void 0===ke?void 0:ke.assessmentType}):(0,O.jsx)(p.Z,{title:null===ke||void 0===ke?void 0:ke.assessmentType,children:(0,O.jsxs)("span",{className:"accrej-desc",children:[" ",null===ke||void 0===ke||null===(r=ke.assessmentType)||void 0===r?void 0:r.slice(0,39),"..."]})})]}),(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Member company ",(0,O.jsx)("span",{children:":"})]}),(null===ke||void 0===ke||null===(E=ke.assignedMember)||void 0===E||null===(F=E.companyName)||void 0===F?void 0:F.length)<=36?(0,O.jsx)("span",{className:"accrej-desc",children:null===ke||void 0===ke||null===(D=ke.assignedMember)||void 0===D?void 0:D.companyName}):(0,O.jsx)(p.Z,{title:null===ke||void 0===ke||null===(I=ke.assignedMember)||void 0===I?void 0:I.companyName,children:(0,O.jsxs)("span",{className:"accrej-desc",children:[" ",null===ke||void 0===ke||null===(B=ke.assignedMember)||void 0===B||null===(P=B.companyName)||void 0===P?void 0:P.slice(0,39),"..."]})})]}),(0,O.jsxs)("span",{className:"accrej-txtblk",children:[(0,O.jsxs)("span",{className:"accrej-label",children:["Due date ",(0,O.jsx)("span",{children:":"})]}),(0,O.jsx)("span",{className:"accrej-desc",children:new Date(new Date(null===ke||void 0===ke?void 0:ke.dueDate).setDate(new Date(null===ke||void 0===ke?void 0:ke.dueDate).getDate()-1)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),"Click \u201cAccept\u201d if you want to fill out the assessment, or else provide a reason and reject the assessment, if you don\u2019t want to continue with it."]}),info2:(0,O.jsx)(b.Qr,{name:"comment",control:pe,rules:{required:!0,minLength:3},render:function(e){var n=e.field,t=e.fieldState.error;return(0,O.jsx)(m.Z,(0,a.Z)((0,a.Z)({multiline:!0},n),{},{onBlur:function(e){var n;return me("comment",null===(n=e.target.value)||void 0===n?void 0:n.trim())},inputProps:{maxLength:250},className:"input-textarea ".concat(t&&"input-textarea-error"),style:{marginBottom:"10px"},id:"outlined-basic",placeholder:"Enter reason",helperText:t?z.comment[t.type]:" ",variant:"outlined"}))}}),primaryButtonText:"Accept",secondaryButtonText:"Reject",onPrimaryModalButtonClickHandler:function(){Ln()},onSecondaryModalButtonClickHandler:ve(Hn),openModal:Fn,setOpenModal:Dn,isModalForm:!0,handleCloseRedirect:Gn}),(0,O.jsx)(T.Z,{title:(0,O.jsx)("p",{children:"Re-open Assessment ?"}),info1:" ",info2:(0,O.jsx)("p",{className:"mb-30",children:"Are you sure you want to edit the given submitted assessment?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:function(){return _n(!0,!0,Ee),void yn(!1)},onSecondaryModalButtonClickHandler:function(){return yn(!1),void je("/assessment-list")},openModal:bn,setOpenModal:yn,isModalForm:!0,handleCloseRedirect:Gn}),(0,O.jsx)(T.Z,{title:(0,O.jsx)("p",{children:"Data Upload"}),info1:" ",info2:(0,O.jsxs)("div",{className:"upload-file-wrap",children:[(0,O.jsx)(h.Z,{variant:"contained",component:"label",className:"upload-file-btn",children:(0,O.jsxs)("div",{className:de?"upload-file-blk selected-file-blk":"upload-file-blk",children:[(0,O.jsx)("input",{type:"file",hidden:!0,accept:".xls, .xlsx",ref:Tn,onChange:function(e){rn(!1),$n(e.target.files[0].name),ue(e.target.files[0]),Tn.current&&(Tn.current.value="")}}),(0,O.jsx)("span",{className:"upload-icon",children:(0,O.jsx)(d.Z,{})}),(0,O.jsx)("span",{className:"file-upload-txt",children:"Click here to choose file (.xlsx)"})]})}),(0,O.jsx)("p",{className:"select-filename",children:Vn})]}),primaryButtonText:"Upload",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:function(){return function(){le(!0);try{if(!de)return le(!1),le(!1),Rn({titleMessage:"error",descriptionMessage:"Please select excel file",messageType:"error"},(function(){return Bn.current()}));var e=new FileReader;if(e.readAsDataURL(de),"application/vnd.ms-excel"!==de.type&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==de.type)return ue(""),$n(""),an(!0),le(!1),Rn({titleMessage:"error",descriptionMessage:"Invalid file type Please uplaod excel file",messageType:"error"},(function(){return Bn.current()}));e.onloadend=(0,o.Z)((0,i.Z)().mark((function n(){var t,s,o,l,a,r,d,u,c,v,p,m;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.result,s=q.AES.encrypt(t,w.kc).toString(),n.prev=2,rn(!0),n.next=6,k.H.post(w.fh+"".concat(be.id,"/upload"),{encryptedFile:s});case 6:if(201!=(o=n.sent).status){n.next=36;break}if(le(!1),ue(""),$n(""),rn(!0),nt(!1),Rn({titleMessage:"Success",descriptionMessage:"Successfully imported excel file!",messageType:"success"},(function(){return Bn.current()})),Fe(o.data.answers),st(),!o.data.containsErrors){n.next=36;break}return n.prev=17,n.next=20,k.H.get(w.fh+"".concat(o.data.correctionId,"/corrections"),{responseType:"blob"});case 20:l=n.sent,a=window.URL.createObjectURL(new Blob([l.data])),(r=document.createElement("a")).href=a,d=(0,R.d)(),r.setAttribute("download","Corrections - ".concat(d,".xlsx")),document.body.appendChild(r),r.click(),kn(!0),Rn({titleMessage:"error",descriptionMessage:(0,O.jsxs)("p",{children:["Excel file has missing/invalid fields.Please check"," ",(0,O.jsx)("b",{children:"Corrections sheet"}),' attached with it".']}),messageType:"error"},(function(){return Bn.current()})),n.next=36;break;case 32:n.prev=32,n.t0=n.catch(17),le(!1),Z.Y.info("Fill Assessment - reUploadAssessment - correctionDocResponse catch error - Error from corections doc download");case 36:n.next=45;break;case 38:n.prev=38,n.t1=n.catch(2),Z.Y.info("Fill Assessment - reUploadAssessment -  ".concat(null===n.t1||void 0===n.t1||null===(u=n.t1.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message)),rn(!0),le(!1),$n(""),400===(null===n.t1||void 0===n.t1||null===(v=n.t1.response)||void 0===v?void 0:v.status)&&"Invalid assessment!"===(null===n.t1||void 0===n.t1||null===(p=n.t1.response)||void 0===p||null===(m=p.data)||void 0===m?void 0:m.message)?Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})):(0,S.K)(n.t1,Rn,Bn,je);case 45:return n.prev=45,le(!1),n.finish(45);case 48:case"end":return n.stop()}}),n,null,[[2,38,45,48],[17,32]])})))}catch(s){var n,t;ue(""),$n(""),rn(!0),le(!1),Z.Y.info("Fill assessment -reUploadAssessment - ".concat(null===s||void 0===s||null===(n=s.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message))}}()},isDisabledPrimaryButton:an,onSecondaryModalButtonClickHandler:function(){return tt()},openModal:et,setOpenModal:nt,isModalForm:!0,handleCloseRedirect:tt}),(0,O.jsx)(T.Z,{title:(0,O.jsx)("p",{children:"Alert"}),info1:" ",info2:(0,O.jsx)("p",{className:"mb-30",children:"Please open the correction sheet, make necessary changes in the imported excel sheet and import again."}),openModal:wn,setOpenModal:kn,isModalForm:!0,primaryButtonText:"OK",onPrimaryModalButtonClickHandler:function(){return kn(!1)},handleCloseRedirect:function(){return kn(!1)}}),(0,O.jsx)(N.Z,{myRef:Bn,titleMessage:Mn.titleMessage,descriptionMessage:Mn.descriptionMessage,messageType:Mn.messageType}),(0,O.jsx)("div",{className:"breadcrumb-wrapper",children:(0,O.jsx)("div",{className:"container",children:(0,O.jsxs)("ul",{className:"breadcrumb",children:[(0,O.jsx)("li",{children:(0,O.jsx)("a",{onClick:function(){return je("/assessment-list")},style:{cursor:"pointer"},children:"Assessments"})}),be["*"].includes("view")?(0,O.jsx)("li",{children:"View Assessment"}):(0,O.jsx)("li",{children:"Fill Assessment"})]})})}),(0,O.jsx)("section",{children:(0,O.jsxs)("div",{className:"container",children:[(0,O.jsxs)("div",{className:"form-header flex-between preview-assessment-ttl",children:[(0,O.jsx)("h2",{className:"heading2",children:null===Me||void 0===Me?void 0:Me.title}),(0,O.jsxs)("div",{className:"flex-between",children:[(0,O.jsxs)("div",{className:"tertiary-btn-blk mr-20",onClick:function(){je("/assessment-list/instructions")},children:[(0,O.jsx)("span",{className:"preview-icon",children:(0,O.jsx)(c.Z,{})}),(0,O.jsx)("span",{className:"addmore-txt",children:"View Instructions"})]}),(0,O.jsxs)("span",{className:"form-header-right-txt",onClick:function(){Qn(!qn)},children:[(0,O.jsx)("span",{className:"crud-operation",children:(0,O.jsx)(u.Z,{})}),(0,O.jsx)("div",{className:"crud-toggle-wrap assessment-crud-toggle-wrap",style:{display:qn?"block":"none"},children:(0,O.jsxs)("ul",{className:"crud-toggle-list",children:[(0,O.jsx)("li",{onClick:function(){return Jn()},children:"Export to Excel"}),be["*"].includes("view")||(0,O.jsx)("li",{onClick:function(){return nt(!0)},children:"Import File"})]})})]})]}),(0,O.jsx)("div",{className:"excel-short-name",children:(0,O.jsx)("p",{children:null!==(K=null===Me||void 0===Me?void 0:Me.sheetName)&&void 0!==K?K:""})})]}),(0,O.jsxs)("div",{className:"section-form-sect",children:[(0,O.jsx)("div",{className:"section-tab-blk flex-between preview-tab-blk",children:(0,O.jsx)("div",{className:"section-tab-leftblk",children:(0,O.jsx)(v.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,O.jsxs)(f.Z,{value:ge,onChange:function(e,n){xe(n)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:[null===Me||void 0===Me||null===(V=Me.sections)||void 0===V?void 0:V.map((function(e,n,t){return(0,O.jsx)(p.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,O.jsx)(g.Z,(0,a.Z)({className:"section-tab-item",label:"section ".concat(n+1)},G(n)))},null===e||void 0===e?void 0:e.uuid)})),He&&Ie&&(0,O.jsx)(g.Z,(0,a.Z)({className:"section-tab-item",label:"Results"},G(null===Me||void 0===Me||null===($=Me.sections)||void 0===$?void 0:$.length)))]})})})}),oe?(0,O.jsx)(M.Z,{}):(0,O.jsxs)("div",{className:"preview-tab-data",children:[null===Me||void 0===Me||null===(J=Me.sections)||void 0===J?void 0:J.map((function(e,n){var t,s;return(0,O.jsx)(Q,{value:ge,index:n,children:(0,O.jsx)(H,{assessmentQuestionnaire:Ee,disableFillAssessment:tn,setAssessmentQuestionnaire:Fe,section:e,questionnaireTitle:null===Me||void 0===Me?void 0:Me.title,errorQuestion:qe,setErrorQuestion:Qe,errorQuestionUUID:Ke,setErrorQuestionUUID:Ve,errors:null!==(t=hn[null===e||void 0===e?void 0:e.uuid])&&void 0!==t?t:{},handleFormSubmit:Pn,editMode:We,setEditMode:Xe,index:n,totalSections:null===Me||void 0===Me||null===(s=Me.sections)||void 0===s?void 0:s.length,setToasterDetails:Rn,myRef:Bn})},null===e||void 0===e?void 0:e.uuid)})),Ie&&He&&(0,O.jsx)(Q,{value:ge,index:null===Me||void 0===Me||null===(W=Me.sections)||void 0===W?void 0:W.length,children:(0,O.jsx)(_,{chartImages:ne,setChartImages:te,questionnaireTitle:null===Me||void 0===Me?void 0:Me.title,graphResult:He,graphLevelBreakdown:Ie})})]})]})]})})]})}},1300:function(e,n,t){"use strict";var s=t(9823),i=t(9444),o=t(5112),l=t(7962),a=t(6015),r=t(5814),d=(t(2791),t(184));n.Z=function(e){var n,t,u,c,v,p,m=e.title,h=e.info1,f=e.info2,g=e.primaryButtonText,x=e.secondaryButtonText,b=void 0===x?void 0:x,y=e.onPrimaryModalButtonClickHandler,j=e.isDisabledPrimaryButton,Z=void 0!==j&&j,w=e.onSecondaryModalButtonClickHandler,k=e.openModal,T=e.setOpenModal,N=e.isModalForm,S=e.handleCloseRedirect,M=e.hideCloseIcon,R=void 0!==M&&M,A=function(e,n){n&&"backdropClick"===n||T(!1)},C=function(){w()},E="";return"object"===typeof(null===m||void 0===m||null===(n=m.props)||void 0===n?void 0:n.children)?null===m||void 0===m||null===(t=m.props)||void 0===t||null===(u=t.children)||void 0===u||u.map((function(e){return E+=e})):E=null===m||void 0===m||null===(c=m.props)||void 0===c?void 0:c.children,(0,d.jsx)(i.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:k,onClose:A,closeAfterTransition:!0,disableEscapeKeyDown:!!N,BackdropComponent:o.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,d.jsx)(l.Z,{in:k,children:(0,d.jsx)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,d.jsxs)("div",{className:"popup-innerblk",children:[(0,d.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=E)||void 0===v?void 0:v.length)<=47?(0,d.jsx)("h2",{className:"popup-ttl heading2",children:m}):(0,d.jsx)(r.Z,{title:E,children:(0,d.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(p=E)||void 0===p?void 0:p.slice(0,50),'..."']})}),(0,d.jsx)("span",{hidden:R,className:"popup-close-icon",onClick:N?S:A,children:(0,d.jsx)(s.Z,{})})]}),(0,d.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,d.jsxs)("div",{className:"popup-content-blk text-center",children:[h,N?(0,d.jsx)("form",{onSubmit:C,children:f}):f,(0,d.jsxs)("div",{className:"form-btn flex-center",children:[b&&(0,d.jsx)("button",{type:"submit",onClick:C,className:"secondary-button mr-10",children:b}),(0,d.jsx)("button",{type:"submit",onClick:function(){y()},disabled:Z,className:"primary-button",children:g})]})]})})]})})})})}},7659:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(2131),i=t(5130),o=t(2791),l=t(5985),a=(t(5462),t(184));var r=function(e){e.titleMessage;var n=e.descriptionMessage,t=e.messageType,r=e.myRef,d=(e.key,function(){(0,l.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),u=function(){return(0,a.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,a.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,a.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,a.jsx)(s.Z,{}),"error"===t&&(0,a.jsx)(i.Z,{})]})}),(0,a.jsx)("div",{className:"toaster-right",children:(0,a.jsx)("p",{children:n})})]})};return(0,o.useEffect)((function(){r.current=d}),[d,r]),(0,a.jsxs)("div",{className:"toaster-sect",children:[(0,a.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,a.jsx)(l.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},5736:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var s=t(4165),i=t(5861),o=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i,o,l){var a,r,d,u,c,v,p,m,h,f,g=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=g.length>5&&void 0!==g[5]?g[5]:0,401==n.response.status?(t({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return i.current()})),setTimeout((function(){o("/login")}),3e3)):403===(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)?(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(d=n.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&u.message?null===n||void 0===n||null===(c=n.response)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),setTimeout((function(){o("/home")}),3e3)):(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(p=n.response)&&void 0!==p&&null!==(m=p.data)&&void 0!==m&&m.message?null===n||void 0===n||null===(h=n.response)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),l&&setTimeout((function(){o(l,{state:r})}),3e3));case 2:case"end":return e.stop()}}),e)})));return function(n,t,s,i,o){return e.apply(this,arguments)}}()},7806:function(e,n,t){"use strict";t.d(n,{d:function(){return r},j:function(){return d}});var s=t(4165),i=t(5861),o=t(4677),l=t(4917),a=t(5736),r=function(){var e=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),n=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),t=(new Date).getHours();return e+n+(new Date).getFullYear().toString()+"_"+t+(new Date).getMinutes()+(new Date).getSeconds()},d=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i,d,u,c){var v,p,m,h,f,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.H.get(i?u+i+"/download":u,{responseType:"blob"});case 3:v=e.sent,l.Y.info(" download function -  from ".concat(n,"  assessment ")),p=window.URL.createObjectURL(new Blob([v.data])),(m=document.createElement("a")).href=p,h=r(),m.setAttribute("download","".concat(n," - ").concat(h,".xlsx")),document.body.appendChild(m),m.click(),200==v.status&&t({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return d.current()})),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),l.Y.info("downlaod function - error ".concat(null===e.t0||void 0===e.t0||null===(f=e.t0.response)||void 0===f||null===(g=f.data)||void 0===g?void 0:g.message)),(0,a.K)(e.t0,t,d,c),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n,t,s,i,o,l){return e.apply(this,arguments)}}()},2820:function(e,n,t){"use strict";var s=t(885),i=t(2791);n.Z=function(e){var n=(0,i.useState)(e),t=(0,s.Z)(n,2),o=t[0],l=t[1],a=(0,i.useRef)([]);(0,i.useEffect)((function(){a.current.forEach((function(e){return e(o)})),a.current=[]}),[o]);return[o,function(e,n){l(e),n&&"function"===typeof n&&a.current.push(n)}]}},1260:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var s=t(2791),i=function(e){return(0,s.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}},2480:function(){}}]);
//# sourceMappingURL=5209.49717f34.chunk.js.map