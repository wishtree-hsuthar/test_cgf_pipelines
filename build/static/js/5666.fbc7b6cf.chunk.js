"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5666],{44562:(e,i,t)=>{t.r(i),t.d(i,{default:()=>fe});var l=t(72791),s=t(97275),n=t(68096),o=t(58406),a=t(63903),d=t(47071),r=t(697),c=t(25228),u=t(20068),v=t(43896),m=t(77194),p=t(12104),h=t(94677),x=t(76218),b=t(57689),g=t(71300),j=t(54261),f=t(94454),N=t(61419),y=t(79012),q=t(53767),w=t(20890),T=t(14917),k=t(29823),Z=t(66934),C=t(63366),S=t(87462),E=t(63733),M=t(94419),V=t(12065),P=t(14036),Q=t(97278),_=t(31402),I=t(75878),A=t(21217);function R(e){return(0,A.Z)("MuiSwitch",e)}const B=(0,I.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var D=t(80184);const O=["className","color","edge","size","sx"],L=(0,Z.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e;return[i.root,t.edge&&i["edge".concat((0,P.Z)(t.edge))],i["size".concat((0,P.Z)(t.size))]]}})((e=>{let{ownerState:i}=e;return(0,S.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===i.edge&&{marginLeft:-8},"end"===i.edge&&{marginRight:-8},"small"===i.size&&{width:40,height:24,padding:7,["& .".concat(B.thumb)]:{width:16,height:16},["& .".concat(B.switchBase)]:{padding:4,["&.".concat(B.checked)]:{transform:"translateX(16px)"}}})})),z=(0,Z.ZP)(Q.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,i)=>{const{ownerState:t}=e;return[i.switchBase,{["& .".concat(B.input)]:i.input},"default"!==t.color&&i["color".concat((0,P.Z)(t.color))]]}})((e=>{let{theme:i}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:i.vars?i.vars.palette.Switch.defaultColor:"".concat("light"===i.palette.mode?i.palette.common.white:i.palette.grey[300]),transition:i.transitions.create(["left","transform"],{duration:i.transitions.duration.shortest}),["&.".concat(B.checked)]:{transform:"translateX(20px)"},["&.".concat(B.disabled)]:{color:i.vars?i.vars.palette.Switch.defaultDisabledColor:"".concat("light"===i.palette.mode?i.palette.grey[100]:i.palette.grey[600])},["&.".concat(B.checked," + .").concat(B.track)]:{opacity:.5},["&.".concat(B.disabled," + .").concat(B.track)]:{opacity:i.vars?i.vars.opacity.switchTrackDisabled:"".concat("light"===i.palette.mode?.12:.2)},["& .".concat(B.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:i,ownerState:t}=e;return(0,S.Z)({"&:hover":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.action.activeChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,V.Fq)(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{["&.".concat(B.checked)]:{color:(i.vars||i).palette[t.color].main,"&:hover":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[t.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,V.Fq)(i.palette[t.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(B.disabled)]:{color:i.vars?i.vars.palette.Switch["".concat(t.color,"DisabledColor")]:"".concat("light"===i.palette.mode?(0,V.$n)(i.palette[t.color].main,.62):(0,V._j)(i.palette[t.color].main,.55))}},["&.".concat(B.checked," + .").concat(B.track)]:{backgroundColor:(i.vars||i).palette[t.color].main}})})),F=(0,Z.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,i)=>i.track})((e=>{let{theme:i}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:i.transitions.create(["opacity","background-color"],{duration:i.transitions.duration.shortest}),backgroundColor:i.vars?i.vars.palette.common.onBackground:"".concat("light"===i.palette.mode?i.palette.common.black:i.palette.common.white),opacity:i.vars?i.vars.opacity.switchTrack:"".concat("light"===i.palette.mode?.38:.3)}})),H=(0,Z.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,i)=>i.thumb})((e=>{let{theme:i}=e;return{boxShadow:(i.vars||i).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),G=l.forwardRef((function(e,i){const t=(0,_.Z)({props:e,name:"MuiSwitch"}),{className:l,color:s="primary",edge:n=!1,size:o="medium",sx:a}=t,d=(0,C.Z)(t,O),r=(0,S.Z)({},t,{color:s,edge:n,size:o}),c=(e=>{const{classes:i,edge:t,size:l,color:s,checked:n,disabled:o}=e,a={root:["root",t&&"edge".concat((0,P.Z)(t)),"size".concat((0,P.Z)(l))],switchBase:["switchBase","color".concat((0,P.Z)(s)),n&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=(0,M.Z)(a,R,i);return(0,S.Z)({},i,d)})(r),u=(0,D.jsx)(H,{className:c.thumb,ownerState:r});return(0,D.jsxs)(L,{className:(0,E.Z)(c.root,l),sx:a,ownerState:r,children:[(0,D.jsx)(z,(0,S.Z)({type:"checkbox",icon:u,checkedIcon:u,ref:i,ownerState:r},d,{classes:(0,S.Z)({},c,{root:c.switchBase})})),(0,D.jsx)(F,{className:c.track,ownerState:r})]})})),Y=(0,Z.ZP)(G)((e=>{let{theme:i}=e;return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===i.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:i.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"dark"===i.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}})),U=e=>{let{question:i,questionIdx:t,questionnaire:r,setQuestionnaire:c,sectionIndex:v,questionsLength:m,err:h,setErr:x}=e,b={uuid:(0,j.Z)(),questionTitle:"",srNo:1,inputType:"singleTextbox",validation:"",isRequired:!0,options:["",""]};const g=[{_id:"checkbox",name:"Checkbox"},{_id:"date",name:"Date"},{_id:"dropdown",name:"Drop down"},{_id:"radioGroup",name:"Radio group"},{_id:"singleTextbox",name:"Single text box"},{_id:"textarea",name:"Text area"}],T=[{_id:"alphabets",name:"Alphabets"},{_id:"alphanumeric",name:"Alphanumeric"},{_id:"numeric",name:"Numeric"}],Z={PaperProps:{style:{maxHeight:168}}},C=(e,i)=>{const{name:t,value:l}=e.target;let s={...r};s.sections[v].questions[i][t]=l,c(s)};(0,l.useEffect)((()=>()=>{}),[h]);const S=e=>{let{children:i}=e;return(0,D.jsx)("div",{className:"select-placeholder",children:i})},E=e=>{let i=r.sections[v].questions.filter((i=>i.questionTitle===e));return i.length>1};return(0,D.jsx)("div",{className:"que-card-blk ".concat(t+1===m&&"active"),children:(0,D.jsxs)("div",{className:"que-form-blk",children:[(0,D.jsxs)("div",{className:"que-card-innerblk flex-between",children:[(0,D.jsx)("div",{className:"que-card-form-leftfield",children:(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"questionTitle",children:["Question ","".concat(t+1)," Title"," ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)(s.Z,{className:"input-field ".concat(null!==i&&void 0!==i&&i.questionTitle||!(null===h||void 0===h?void 0:h.questionTitle)?E(null===i||void 0===i?void 0:i.questionTitle)&&(null===h||void 0===h?void 0:h.questionTitle)&&"input-error":"input-error"," "),placeholder:"Enter question title",name:"questionTitle",value:null===i||void 0===i?void 0:i.questionTitle,helperText:null!==i&&void 0!==i&&i.questionTitle||null===h||void 0===h||!h.questionTitle?E(null===i||void 0===i?void 0:i.questionTitle)&&null!==h&&void 0!==h&&h.questionTitle?"Question title already in use.":" ":"Enter the question title",onChange:e=>C(e,t),onBlur:e=>((e,i)=>{const{name:t,value:l}=e.target;let s={...r};s.sections[v].questions[i][t]=null===l||void 0===l?void 0:l.trim(),c(s)})(e,t)})]})}),(0,D.jsxs)("div",{className:"que-card-form-rightfield flex-between",children:[(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"inputField",children:["Input Type ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsxs)(n.Z,{className:"fullwidth-field",children:[(0,D.jsx)("div",{className:"select-field",children:(0,D.jsx)(o.Z,{MenuProps:Z,placeholder:"Select Input type",IconComponent:e=>(0,D.jsx)(p.Z,{...e}),name:"inputType",value:null===i||void 0===i?void 0:i.inputType,onChange:e=>((e,i)=>{const{name:t,value:l}=e.target;let s={...r};s.sections[v].questions[i][t]=l,s.sections[v].questions[i].validation="",c(s)})(e,t),children:g&&g.map((e=>(0,D.jsx)(a.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))})}),(0,D.jsx)(d.Z,{children:" "})]})]}),(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsx)("label",{htmlFor:"inputField",children:"Validation"}),(0,D.jsx)(n.Z,{className:"fullwidth-field",children:(0,D.jsx)("div",{className:"select-field",children:(0,D.jsx)(o.Z,{disabled:"singleTextbox"!==i.inputType&&"textarea"!==i.inputType,renderValue:""!==(null===i||void 0===i?void 0:i.validation)?void 0:()=>(0,D.jsx)(S,{children:"Select validation"}),placeholder:"Select Input validation",displayEmpty:!0,IconComponent:e=>(0,D.jsx)(p.Z,{...e}),name:"validation",value:null===i||void 0===i?void 0:i.validation,onChange:e=>C(e,t),children:T&&T.map((e=>(0,D.jsx)(a.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))})})})]})]})]}),["dropdown","checkbox","radioGroup"].includes(null===i||void 0===i?void 0:i.inputType)&&i.options.map(((e,l)=>{var n;return(0,D.jsx)("div",{className:"que-card-innerblk",children:(0,D.jsxs)("div",{className:"que-card-input-type-wrapper",children:[(0,D.jsx)("div",{className:"que-card-form-leftfield",children:(0,D.jsx)("div",{className:"que-checkbox-sect",children:(0,D.jsxs)("div",{className:"que-checkbox-wrap",children:[(0,D.jsx)("div",{className:"que-checkbox-blk ".concat(("dropdown"===(null===i||void 0===i?void 0:i.inputType)?"que-dropdown-blk":"checkbox"===(null===i||void 0===i?void 0:i.inputType)&&"que-checkbox-option")||"radioGroup"===(null===i||void 0===i?void 0:i.inputType)&&"que-radio-option"),children:(0,D.jsx)(s.Z,{name:"options",value:e,onChange:e=>((e,i,t)=>{let l={...r};l.sections[v].questions[i].options[t]=e.target.value,c(l)})(e,t,l),onBlur:e=>((e,i,t)=>{var l;let s={...r};s.sections[v].questions[i].options[t]=null===(l=e.target.value)||void 0===l?void 0:l.trim(),c(s)})(e,t,l),className:2!==(null===i||void 0===i?void 0:i.options.length)?"input-field que-input-type adddropdown ".concat((null===h||void 0===h?void 0:h.option)&&!e&&"input-error"):"input-field que-input-type ".concat((null===h||void 0===h?void 0:h.option)&&!e&&"input-error"),helperText:null!==h&&void 0!==h&&h.option&&!e?"Enter the option value":" ",id:"outlined-basic",placeholder:"Enter option value",variant:"outlined"})}),"checkbox"===(null===i||void 0===i?void 0:i.inputType)&&(0,D.jsx)(f.Z,{className:"que-checkbox",checked:!1}),"radioGroup"===(null===i||void 0===i?void 0:i.inputType)&&(0,D.jsx)(N.Z,{className:"radio-btn que-radio-btn",color:"primary",checked:!1}),2!==(null===i||void 0===i?void 0:i.options.length)&&(0,D.jsx)("div",{className:"que-input-type-close",onClick:e=>((e,i,t)=>{var l,s,n;let o={...r};null===o||void 0===o||null===(l=o.sections[v])||void 0===l||null===(s=l.questions[i])||void 0===s||null===(n=s.options)||void 0===n||n.splice(t,1),c(o)})(0,t,l),children:(0,D.jsx)(k.Z,{})})]})})}),(0,D.jsx)("div",{className:"que-card-form-rightfield add-option-blk",children:l+1===(null===i||void 0===i||null===(n=i.options)||void 0===n?void 0:n.length)&&(0,D.jsxs)("div",{className:"tertiary-btn-blk",onClick:()=>(e=>{let i={...r};i.sections[v].questions[e].options.push(""),c(i)})(t),children:[(0,D.jsx)("span",{className:"addmore-icon",children:(0,D.jsx)("i",{className:"fa fa-plus"})}),(0,D.jsx)("span",{className:"addmore-txt",children:"Add Option..."})]})})]})},l)})),(0,D.jsx)("div",{className:"que-card-icon-sect",children:(0,D.jsxs)("div",{className:"que-card-icon-blk",children:[t===m-1&&(0,D.jsx)("div",{className:"que-card-icon add-que-iconblk mr-40",children:(0,D.jsx)(u.Z,{title:"Add Question",children:(0,D.jsx)("img",{onClick:()=>{let e={...r};e.sections[v].questions.push({...b}),c(e)},src:"/images/add-question-icon.svg",alt:""})})}),1!==m&&(0,D.jsx)("div",{className:"que-card-icon delete-iconblk mr-40",children:(0,D.jsx)(u.Z,{title:"Delete Question",children:(0,D.jsx)("img",{onClick:()=>((e,i)=>{var t;let l={...r},s=null===l||void 0===l||null===(t=l.sections[v])||void 0===t?void 0:t.questions.filter((i=>i.uuid!==e));l.sections[v].questions=[...s],c(l)})(null===i||void 0===i?void 0:i.uuid),src:"/images/delete-icon.svg",alt:""})})}),(0,D.jsx)("div",{className:"required-toggle-btnblk",children:(0,D.jsx)(y.Z,{children:(0,D.jsxs)(q.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,D.jsx)(w.Z,{children:"Required"}),(0,D.jsx)(Y,{checked:i.isRequired,onChange:e=>((e,i,t)=>{let l={...r};l.sections[i].questions[t].isRequired=e.target.checked,c(l)})(e,v,t),inputProps:{"aria-label":"controlled"}})]})})})]})})]})},null===i||void 0===i?void 0:i.uuid)},W=((0,j.Z)(),(0,j.Z)(),(0,j.Z)(),e=>{var i,t;let{sectionIndex:l,questionnaire:s,setQuestionnaire:n,err:o,setErr:a,questionTitleList:d,setQuestionTitleList:r}=e;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:"que-form-card-wrapper",children:[(0,D.jsx)("div",{className:"drag-drop-box"}),s&&(null===s||void 0===s||null===(i=s.sections[l])||void 0===i||null===(t=i.questions)||void 0===t?void 0:t.map(((e,i)=>{var t,c;return(0,D.jsx)(U,{question:e,questionsLength:null===s||void 0===s||null===(t=s.sections[l])||void 0===t||null===(c=t.questions)||void 0===c?void 0:c.length,questionIdx:i,questionnaire:s,setQuestionnaire:n,sectionIndex:l,err:o,setErr:a,questionTitleList:d,setQuestionTitleList:r},null===e||void 0===e?void 0:e.uuid)})))]})})});var X=t(12820),K=t(33557);const $=(0,t(39109).Z)();var J=t(88447),ee=t(52739),ie=t(60627),te=t(59434),le=t(16990);const se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},ne=e=>{var i,t,n;let{openModal:o,setOpenModal:a,questionnaire:d,setQuestionnaire:c,sectionIndex:u,columnId:v,tableErr:m,setTableErr:p}=e;const h=(0,te.I0)(),[x,b]=(0,l.useState)(""),g=()=>{var e;let i={...d};null===(e=i.sections[u].columnValues[v].options)||void 0===e||e.push(""),c(i)};let j=(0,te.v9)((e=>e.user.questionnaire));const f=()=>{let e={...d};""===j[0]&&""===j[1]&&2===(null===j||void 0===j?void 0:j.length)?(e.sections[u].columnValues[v].options=["",""],e.sections[u].columnValues[v].columnType="textbox"):e.sections[u].columnValues[v].options=[...j],c(e),a(!1)};return(0,l.useEffect)((()=>{h((0,le.p7)(d.sections[u].columnValues[v].options))}),[]),(0,D.jsx)(J.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:!0,closeAfterTransition:!0,BackdropComponent:ee.Z,BackdropProps:{timeout:500},className:"popup-blk",style:{overflow:"scroll"},children:(0,D.jsx)(ie.Z,{in:!0,children:(0,D.jsx)(r.Z,{sx:se,className:"popup-box",children:(0,D.jsxs)("div",{className:"popup-innerblk",children:[(0,D.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(0,D.jsx)("h2",{className:"popup-ttl heading2",children:"Create Custom List Dropdown"}),(0,D.jsx)("span",{className:"popup-close-icon",onClick:f,children:(0,D.jsx)(k.Z,{})})]}),(0,D.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,D.jsxs)("div",{className:"popup-content-blk",children:[(0,D.jsxs)("div",{className:"custom-list-sect",children:[null===d||void 0===d||null===(i=d.sections[u])||void 0===i||null===(t=i.columnValues[v])||void 0===t||null===(n=t.options)||void 0===n?void 0:n.map(((e,i)=>{var t,l,n,o,a,r;return(0,D.jsx)("div",{className:"form-group",children:(0,D.jsxs)("div",{className:"que-checkbox-wrap",children:[(0,D.jsx)("div",{className:"que-checkbox-blk que-dropdown-blk",children:(0,D.jsx)(s.Z,{className:(null===d||void 0===d||null===(t=d.sections[u])||void 0===t||null===(l=t.columnValues[v])||void 0===l||null===(n=l.options)||void 0===n?void 0:n.length)>2?"input-field que-input-type adddropdown ".concat(x&&!e&&"input-error"):"input-field que-input-type ".concat(x&&!e&&"input-error"),value:e,onChange:e=>((e,i)=>{const{value:t}=e.target;let l={...d};l.sections[u].columnValues[v].options[i]=t,c(l)})(e,i),onBlur:e=>((e,i)=>{const{value:t}=e.target;let l={...d};l.sections[u].columnValues[v].options[i]=null===t||void 0===t?void 0:t.trim(),c(l)})(e,i),id:"outlined-basic",helperText:x&&!e?"Enter the option":" ",placeholder:"Enter option value",variant:"outlined"})}),(null===d||void 0===d||null===(o=d.sections[u])||void 0===o||null===(a=o.columnValues[v])||void 0===a||null===(r=a.options)||void 0===r?void 0:r.length)>2&&(0,D.jsx)("div",{className:"que-input-type-close",onClick:()=>(e=>{var i,t,l;let s={...d};null===s||void 0===s||null===(i=s.sections[u])||void 0===i||null===(t=i.columnValues[v])||void 0===t||null===(l=t.options)||void 0===l||l.splice(e,1),c(s)})(i),children:(0,D.jsx)(k.Z,{})})]})},i)})),(0,D.jsxs)("div",{className:"add-dropdown-btnblk mb-30",children:[(0,D.jsx)("span",{className:"addmore-icon",children:(0,D.jsx)("i",{onClick:g,className:"fa fa-plus"})})," ",(0,D.jsx)("span",{onClick:g,children:"Add Dropdown"})]})]}),(0,D.jsxs)("div",{className:"form-btn flex-center text-center",children:[(0,D.jsx)("button",{className:"secondary-button mr-10",onClick:f,children:"Cancel"}),(0,D.jsx)("button",{type:"submit",className:"primary-button",onClick:()=>{var e;let i={...d},t=!1;null===(e=i.sections[u].columnValues[v].options)||void 0===e||e.forEach((e=>{e||(t=!0,b("Option required"))})),!t&&a(!1)},children:"Save"})]})]})})]})})})})};var oe=t(43989);const ae={PaperProps:{style:{maxHeight:168}}},de=[{_id:"attachments",name:"Attachments"},{_id:"date",name:"Date"},{_id:"dropdown",name:"Drop down"},{_id:"prefilled",name:"Prefilled"},{_id:"textbox",name:"Text box"}],re=[{_id:"alphabets",name:"Alphabets"},{_id:"alphanumeric",name:"Alphanumeric"},{_id:"numeric",name:"Numeric"}],ce=e=>{var i,t;let{sectionIndex:r,questionnaire:c,setQuestionnaire:v,tableErr:m,setTableErr:h}=e;const[x,b]=(0,l.useState)(!1),[g,f]=(0,l.useState)(-1),N=(e,i)=>{const{name:t,value:l}=e.target;let s={...c};s.sections[r].columnValues[i][t]=l,v(s)},q=e=>{b(!0),f(e)};(0,l.useEffect)((()=>{}),[c]);const T=e=>{let{children:i}=e;return(0,D.jsx)("div",{className:"select-placeholder",children:i})},k=e=>c.sections[r].columnValues.filter((i=>i.title===e)).length>1;return(0,D.jsxs)("div",{className:"que-column-layout-sect",children:[c&&(null===c||void 0===c||null===(i=c.sections[r])||void 0===i||null===(t=i.columnValues)||void 0===t?void 0:t.map(((e,i)=>{var t,l;return(0,D.jsx)("div",{className:"que-column-layout-wrap",children:(0,D.jsx)("div",{className:"que-column-layout-blk",children:(0,D.jsxs)("div",{className:"que-card-innerblk",children:[(0,D.jsxs)("div",{className:"que-col-form-leftfield flex-between",children:[(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"emailid",children:["Column ",i+1," Title"," ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)(s.Z,{className:"input-field ".concat(null!==e&&void 0!==e&&e.title||!m?k(null===e||void 0===e?void 0:e.title)&&m&&"input-error":"input-error"),id:"outlined-basic",variant:"outlined",name:"title",helperText:null!==e&&void 0!==e&&e.title||!m?k(null===e||void 0===e?void 0:e.title)&&m?"Column title already in use.":" ":"Enter the column title",value:null===e||void 0===e?void 0:e.title,onChange:e=>N(e,i),onBlur:e=>((e,i)=>{const{name:t,value:l}=e.target;let s={...c};s.sections[r].columnValues[i][t]=null===l||void 0===l?void 0:l.trim(),v(s)})(e,i),placeholder:"Enter column title"})]}),(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"emailid",children:["Input Type"," ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsxs)("div",{className:"select-field",children:[(0,D.jsxs)(n.Z,{className:"fullwidth-field",children:[(0,D.jsx)(o.Z,{IconComponent:e=>(0,D.jsx)(p.Z,{...e}),displayEmpty:!0,placeholder:"Select input type",name:"columnType",value:null===e||void 0===e?void 0:e.columnType,onChange:e=>((e,i)=>{const{name:t,value:l}=e.target;let s={...c};s.sections[r].columnValues[i][t]=l,s.sections[r].columnValues[i].validation="",s.sections[r].columnValues[i].options=[],"dropdown"===l&&(s.sections[r].columnValues[i].options=["",""],f(i),b(!0)),v(s)})(e,i),className:"select-dropdown",MenuProps:ae,children:de&&de.map((e=>(0,D.jsx)(a.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))}),(0,D.jsx)(d.Z,{children:" "})]}),x&&g===i&&(0,D.jsx)(ne,{openModal:x,setOpenModal:b,questionnaire:c,setQuestionnaire:v,sectionIndex:r,columnId:i,tableErr:m,setTableErr:h})]})]}),(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsx)("label",{htmlFor:"emailid",children:"Validation"}),(0,D.jsx)("div",{className:"select-field",children:(0,D.jsxs)(n.Z,{className:"fullwidth-field",children:[(0,D.jsx)(o.Z,{disabled:"textbox"!==(null===e||void 0===e?void 0:e.columnType),IconComponent:e=>(0,D.jsx)(p.Z,{...e}),renderValue:""!==(null===e||void 0===e?void 0:e.validation)?void 0:()=>(0,D.jsx)(T,{children:"Select validator"}),displayEmpty:!0,name:"validation",value:null===e||void 0===e?void 0:e.validation,onChange:e=>N(e,i),className:"select-dropdown",MenuProps:ae,children:re&&re.map((e=>(0,D.jsx)(a.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))}),(0,D.jsx)(d.Z,{children:" "})]})}),"dropdown"===(null===e||void 0===e?void 0:e.columnType)&&(0,D.jsxs)("div",{className:"add-dropdown-btnblk edit-dropdown-btn",children:[(0,D.jsx)("span",{className:"addmore-icon",onClick:()=>q(i),children:(0,D.jsx)(K.Z,{})})," ",(0,D.jsx)("span",{onClick:()=>q(i),children:"Edit Dropdown"})]})]}),(null===c||void 0===c||null===(t=c.sections[r])||void 0===t||null===(l=t.columnValues)||void 0===l?void 0:l.length)>1&&(0,D.jsx)("div",{className:"que-col-delete delete-iconblk",children:(0,D.jsx)(u.Z,{title:"Delete column",placement:"bottom",children:(0,D.jsx)("img",{style:{cursor:"pointer"},onClick:e=>((e,i)=>{var t,l,s;let n={...c};null===n||void 0===n||null===(t=n.sections[r].rowValues)||void 0===t||t.forEach(((e,t)=>{var l,s,o;return null===n||void 0===n||null===(l=n.sections[r])||void 0===l||null===(s=l.rowValues[t])||void 0===s||null===(o=s.cells)||void 0===o?void 0:o.splice(i,1)})),null===n||void 0===n||null===(l=n.sections[r])||void 0===l||null===(s=l.columnValues)||void 0===s||s.splice(i,1),v(n)})(0,i),src:"/images/delete-icon.svg",alt:""})})})]}),(0,D.jsx)("div",{className:"que-card-icon-sect",children:(0,D.jsx)("div",{className:"required-toggle-btnblk",children:(0,D.jsx)(y.Z,{children:(0,D.jsxs)($,{direction:"row",spacing:1,alignItems:"center",children:[(0,D.jsx)(w.Z,{children:"Required"}),(0,D.jsx)(Y,{checked:null===e||void 0===e?void 0:e.isRequired,onChange:e=>((e,i)=>{let t={...c};t.sections[r].columnValues[i].isRequired=e.target.checked,v(t)})(e,i),inputProps:{"aria-label":"controlled"}})]})})})})]})})},null===e||void 0===e?void 0:e.uuid)}))),(0,D.jsxs)("div",{className:"add-row-btnblk add-col-btn",onClick:()=>{var e,i,t;let l={...c};const s=(0,j.Z)();null===l||void 0===l||null===(e=l.sections[r])||void 0===e||null===(i=e.columnValues)||void 0===i||i.push({uuid:s,title:"",columnType:"textbox",isRequired:!0,options:[],validation:""}),null===(t=l.sections[r].rowValues)||void 0===t||t.forEach(((e,i)=>{var t;null===e||void 0===e||null===(t=e.cells)||void 0===t||t.push({columnId:s,value:""})})),v(l)},children:[(0,D.jsx)("span",{className:"addmore-icon",children:(0,D.jsx)("i",{className:"fa fa-plus"})})," ","Add Column"]}),(0,D.jsx)(oe.Z,{isPreview:!1,questionnaire:c,setQuestionnaire:v,sectionIndex:r,tableErr:m,setTableErr:h})]})};var ue=t(27659);const ve=e=>{let{value:i,questionnaire:t,setQuestionnaire:r,uuid:c,setValue:v,index:m,section:f,id:N,globalSectionTitleError:y,setGlobalSectionTitleError:q,setSameSectionsNames:w,sameSectionsNames:k,err:Z,setErr:C,tableErr:S,setTableErr:E,questionTitleList:M,setQuestionTitleList:V}=e;const P=(0,b.s0)(),Q={PaperProps:{style:{maxHeight:168}}},_=l.useRef(),[I,A]=(0,X.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),R=e=>{var i,t;A({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(i=e.response)&&void 0!==i&&null!==(t=i.data)&&void 0!==t&&t.message&&"string"===typeof e.response.data.message?e.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>_.current()))},[B,O]=(0,l.useState)(!1),L=e=>{let i={...t},l=i.sections.filter((i=>i.uuid!==e));r({...i,sections:l}),v(0),K(!1)},z=(e,i)=>{let l=null===t||void 0===t?void 0:t.sections.filter((e=>"table"===e.layout)),s=l.map((e=>({section:e.sectionTitle,columnTitles:e.columnValues.map((e=>e.title))})));for(let a=0;a<t.sections.length;a++){const l=t.sections[a];if("table"===l.layout)for(let d=0;d<l.columnValues.length;d++){const r=l.columnValues[d].title,c=l.columnValues[d].columnType;var n,o;if(""===r&&(E("Error hai"),i.push(a),e++),"prefilled"===c)null===t||void 0===t||null===(n=t.sections[a])||void 0===n||null===(o=n.rowValues)||void 0===o||o.forEach(((t,l)=>{var s;null!==t&&void 0!==t&&null!==(s=t.cells[d])&&void 0!==s&&s.value||(E("Error hai"),i.push(a),e++)}));for(let l=0;l<s.length;l++){let n=0;const o=s[l];for(let l=0;l<o.columnTitles.length;l++){const s=o.columnTitles[l];let a=t.sections.map(((e,i)=>e.sectionTitle)).indexOf(o.section);if(r===s&&n++,n>1){e++,E("Same name hai"),i.push(a);break}}}}}return e},F=e=>[...k].filter((i=>i===e)).length>1,H=e=>{const{name:i,value:l}=e.target;let s={...t};s.sections[m][i]=l,r(s)},G=e=>{const{name:i,value:l}=e.target;let s={...t};s.sections[m][i]=null===l||void 0===l?void 0:l.trim(),r(s)},Y=async(e,i)=>{null===e||void 0===e||e.preventDefault();const l=await(async()=>{let e=0,i=null===t||void 0===t?void 0:t.sections.map((e=>e.sectionTitle)),l=[];w([...i]);for(let o=0;o<(null===t||void 0===t?void 0:t.sections.length);o++){let a=0;for(let e=0;e<i.length;e++){const l=i[e];t.sections[o].sectionTitle===l&&a++}if(a>1)l.push(o),e++,q({errMsg:"Section name already in use"});else if("table"==t.sections[o].layout)e=await z(e,l);else if("form"==t.sections[o].layout){let i={questionTitle:"",option:""};for(let o=0;o<(null===t||void 0===t?void 0:t.sections.length);o++){var s,n;const a=o;let d=t.sections[a].questions.map((e=>e.questionTitle));null===t||void 0===t||null===(s=t.sections[a])||void 0===s||null===(n=s.questions)||void 0===n||n.map(((t,s)=>{var n;""===(null===t||void 0===t?void 0:t.questionTitle)&&(i.questionTitle="Enter question title",e++,l.push(o)),d.filter((e=>e===(null===t||void 0===t?void 0:t.questionTitle))).length>1&&(i.questionTitle="Question title already in use.",e++,l.push(o)),["dropdown","checkbox","radioGroup"].includes(null===t||void 0===t?void 0:t.inputType)&&(null===t||void 0===t||null===(n=t.options)||void 0===n||n.map((t=>{""===t&&(i.option="Enter option",e++,l.push(o))})))})),C({...i})}}}""!==(null===t||void 0===t?void 0:t.title)&&""!==(null===t||void 0===t?void 0:t.sheetName)||(q({errMsg:"Section title required"}),e++);for(let o=0;o<t.sections.length;o++)""===t.sections[o].sectionTitle&&(q({...y,sectionTitleEmpty:"Section title required"}),l.push(o),e++);if(l.length>0){let e=[...l];v(e[0])}return 0===e&&(O(!0),!0)})();return!!l&&await ee(void 0,i)},[U,K]=((0,b.UO)(),(0,l.useState)(!1)),[$,J]=(0,l.useState)(!1),ee=async(e,i)=>{try{T.Y.info("Questionnaire - Save Content - saveSection handler");const l=await h.H.post(x.ZW,e||t);if(201===l.status){(async()=>{try{var e;const t=await h.H.get("".concat(x.ZW,"/").concat(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.uuid));return r({...t.data}),setTimeout((()=>{v(t.data.sections.length-1)}),3e3),i||A({titleMessage:"Success!",descriptionMessage:l.data.message,messageType:"success"},(()=>_.current())),setTimeout((()=>P("/questionnaires",{state:i?0:1})),3e3),!0}catch(t){return R(t),!1}})()}return l.data.uuid}catch(m){var l,s,n,o;if(O(!1),"ERR_CANCELED"===(null===m||void 0===m?void 0:m.code))return;if(T.Y.info("Questionnaire - Save Content - saveSection handler - catch error - ".concat(null===m||void 0===m||null===(l=m.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message)),401==(null===m||void 0===m||null===(n=m.response)||void 0===n?void 0:n.status))A({titleMessage:"Error!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(()=>_.current())),setTimeout((()=>P("/login")),3e3);else{if(403!==(null===m||void 0===m||null===(o=m.response)||void 0===o?void 0:o.status))return R(m),!1;var a,d,c,u;A({titleMessage:"Error!",descriptionMessage:null!==m&&void 0!==m&&null!==(a=m.response)&&void 0!==a&&null!==(d=a.data)&&void 0!==d&&d.message?null===m||void 0===m||null===(c=m.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>_.current())),setTimeout((()=>P("/home")),3e3)}}};return(0,D.jsxs)("div",{className:"sect-form-card-wrapper",children:[(0,D.jsx)(ue.Z,{myRef:_,titleMessage:I.titleMessage,descriptionMessage:I.descriptionMessage,messageType:I.messageType}),(0,D.jsx)(g.Z,{title:(0,D.jsxs)("p",{children:["Delete Section"," ",(null===f||void 0===f?void 0:f.sectionTitle)&&'"'+(null===f||void 0===f?void 0:f.sectionTitle)+'"']}),info1:(0,D.jsx)("p",{children:"On deleting, all the details of this section would get deleted and this will be an irreversible action."}),info2:(0,D.jsxs)("p",{children:["Do you still want to delete the"," ",(0,D.jsx)("b",{children:null!==f&&void 0!==f&&f.sectionTitle?null===f||void 0===f?void 0:f.sectionTitle:"Section"}),"?"]}),primaryButtonText:"Delete",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:()=>{L(c)},onSecondaryModalButtonClickHandler:()=>{K(!1)},openModal:U,setOpenModal:K}),(0,D.jsx)(g.Z,{title:(0,D.jsx)("p",{children:"Cancel Questionnaire"}),info1:(0,D.jsx)("p",{children:" On canceling, newly added details will be discarded."}),info2:(0,D.jsx)("p",{children:"Do you still want to cancel it?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:()=>{J(!1),P("/questionnaires",{state:null!==t&&void 0!==t&&t.isPublished?0:1})},onSecondaryModalButtonClickHandler:()=>{J(!1)},openModal:$,setOpenModal:J}),(0,D.jsx)("div",{className:"sect-form-card-info",children:(0,D.jsxs)("div",{className:"sect-form-innercard-blk",children:[t.sections.length>1&&(0,D.jsxs)("div",{className:"sect-ttl-blk flex-between",children:[(0,D.jsx)("div",{className:"sect-leftblk"}),(0,D.jsx)("div",{className:"sect-rightblk",children:(0,D.jsx)("div",{className:"sect-ttl-right-iconblk",children:(0,D.jsx)("span",{className:"sect-icon-blk delete-iconblk",children:(0,D.jsx)(u.Z,{title:"Delete section",children:(0,D.jsx)("img",{onClick:()=>K(!0),src:"/images/delete-icon.svg",alt:""})})})})})]}),(0,D.jsx)("form",{children:(0,D.jsxs)("div",{className:"sect-form-card-blk",children:[(0,D.jsxs)("div",{className:"sect-form-card-innerblk flex-between",children:[(0,D.jsx)("div",{className:"sect-card-form-leftfield",children:(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"title",children:["Section Name ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)(s.Z,{className:"input-field ".concat((""===f.sectionTitle&&(null===y||void 0===y?void 0:y.sectionTitleEmpty)||F(f.sectionTitle)&&(null===y||void 0===y?void 0:y.errMsg))&&"input-error"),id:"outlined-basic",placeholder:"Enter section name",variant:"outlined",onChange:H,onBlur:G,value:f.sectionTitle,name:"sectionTitle",helperText:""===f.sectionTitle&&null!==y&&void 0!==y&&y.sectionTitleEmpty?"Enter the section name":F(f.sectionTitle)&&null!==y&&void 0!==y&&y.errMsg?null===y||void 0===y?void 0:y.errMsg:" "})]})}),(0,D.jsx)("div",{className:"sect-card-form-rightfield",children:(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"layout",children:["Layout ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)("div",{className:"select-field",children:(0,D.jsxs)(n.Z,{className:"fullwidth-field",children:[(0,D.jsxs)(o.Z,{IconComponent:e=>(0,D.jsx)(p.Z,{...e}),name:"layout",value:null===f||void 0===f?void 0:f.layout,onChange:e=>{const{name:i,value:l}=e.target;let s={...t};if(s.sections[m].layout=l,"table"===l){s.sections[m].questions=[];const e=(0,j.Z)();s.sections[m].columnValues=[{uuid:e,title:"",isRequired:!0,columnType:"textbox",options:["",""],validation:""}],s.sections[m].rowValues=[{uuid:(0,j.Z)(),cells:[{columnId:e,value:""}]},{uuid:(0,j.Z)(),cells:[{columnId:e,value:""}]}]}"form"===l&&(s.sections[m].columnValues=[],s.sections[m].rowValues=[],s.sections[m].questions=[{uuid:(0,j.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}]),r(s)},MenuProps:Q,children:[(0,D.jsx)(a.Z,{value:"form",children:"Form"}),(0,D.jsx)(a.Z,{value:"table",selected:!0,children:"Table"})]}),(0,D.jsx)(d.Z,{children:" "})]})})]})})]}),(0,D.jsx)("div",{className:"sect-form-card-innerblk",children:(0,D.jsx)("div",{className:"sect-card-form-leftfield full-width",children:(0,D.jsxs)("div",{className:"form-group mb-0",children:[(0,D.jsx)("label",{htmlFor:"emailid",children:"Description"}),(0,D.jsx)(s.Z,{className:"input-field",id:"outlined-basic",placeholder:"Enter description",variant:"outlined",onChange:H,onBlur:G,name:"description",value:f.description})]})})})]})})]})}),"form"===(null===f||void 0===f?void 0:f.layout)?(0,D.jsx)(W,{sectionIndex:m,questionnaire:t,setQuestionnaire:r,err:Z,setErr:C,questionTitleList:M,setQuestionTitleList:V}):(0,D.jsx)(ce,{sectionIndex:m,questionnaire:t,setQuestionnaire:r,tableErr:S,setTableErr:E}),(0,D.jsxs)("div",{className:"form-btn flex-between add-members-btn que-page-btn",children:[(0,D.jsx)("button",{type:"reset",className:"secondary-button mr-10",onClick:()=>{J(!0)},children:"Cancel"}),(0,D.jsx)("button",{type:"submit",onClick:Y,disabled:B,className:"outlined-button add-button mr-10",children:null!==t&&void 0!==t&&t.isDraft||null!==t&&void 0!==t&&t.isPublished?"Update":"Save"}),(0,D.jsx)("button",{type:"submit",disabled:B,className:"primary-button add-button",onClick:async e=>{const i=await Y(e,!0);if(i)try{var t;T.Y.info("Questionnaire - Section Content - onPublishButtonClickHandler handler");const e=await h.H.put("".concat(x.ZW,"/publish/").concat(i));A({titleMessage:"Success!",descriptionMessage:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,messageType:"success"},(()=>_.current()))}catch(n){var l,s;if(O(!1),"ERR_CANCELED"===(null===n||void 0===n?void 0:n.code))return;T.Y.info("Questionnaire - Section Content - onPublishButtonClickHandler handler - ".concat(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message)),R(n)}},children:"Publish"})]})]})};var me=t(11087),pe=t(1260),he=t(98460),xe=t(28386),be=t(45736);function ge(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}const je={PaperProps:{style:{maxHeight:99}}};const fe=function(){var e;const[i,t]=(0,l.useState)(!1),[g,f]=(0,l.useState)([]),[N,y]=l.useState(0),[q,w]=(0,l.useState)({questionTitle:"",option:""}),[k,Z]=(0,l.useState)(""),[C,S]=(0,l.useState)([]),{id:E}=(0,b.UO)(),M=(0,b.TH)(),{pathname:V}=M;(0,pe.j)(V.includes("edit")?"Edit Questionnaire":"Add Questionnaire");const[P,Q]=(0,l.useState)({errMsg:""}),_=l.useRef(),[I,A]=(0,X.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),R=(e,i)=>{y(i)},B=(0,b.s0)(),[O,L]=(0,l.useState)({uuid:E,version:"",title:"",sheetName:"",sections:[{id:"",isRequired:!0,uuid:(0,j.Z)(),sectionTitle:"",description:"",layout:"form",isActive:!0,questions:[{uuid:(0,j.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}],value:1}],createdAt:Date,updatedAt:Date,createdBy:"",updatedBy:"",isActive:!0}),z=(0,b.UO)(),F=(0,te.v9)((e=>{var i;return null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.privilege})),H=(0,te.v9)((e=>{var i;return null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.userObj})),G="Super Admin"===(null===F||void 0===F?void 0:F.name);let Y=("Super Admin"===(null===H||void 0===H||null===(e=H.roleId)||void 0===e?void 0:e.name)?[]:Object.values(null===F||void 0===F?void 0:F.privileges)).filter((e=>{var i;return"Questionnaire"===(null===e||void 0===e||null===(i=e.moduleId)||void 0===i?void 0:i.name)})).map((e=>({questionnaire:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}})));(0,l.useEffect)((()=>{var e,i;let l=!0,s=new AbortController;return(null!==(e=Y[0])&&void 0!==e&&null!==(i=e.questionnaire)&&void 0!==i&&i.edit||G)&&z["*"].includes("edit")&&(async()=>{try{t(!0),T.Y.info("Questionnaire - Add New Questionnaire - fetch handler");const e=await h.H.get("".concat(x.ZW,"/").concat(E),{signal:s.signal});t(!1),l&&L({...e.data})}catch(n){var e,i;if("ERR_CANCELED"===(null===n||void 0===n?void 0:n.code))return;T.Y.info("Questionnaire - Add New Questionnaire - fetch handler - catch error - ".concat(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)),t(!1),(0,be.K)(n,A,_,B,"/questionnaires")}})(),()=>{l=!1,s.abort()}}),[]);const U=()=>{L({...O,sections:[...O.sections,{id:"",uuid:(0,j.Z)(),srNo:"",sectionTitle:"",description:"",layout:"form",isActive:!0,questions:[{uuid:(0,j.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}],value:O.sections.length+1}]}),y(O.sections.length)};return(0,D.jsxs)("div",{className:"page-wrapper",children:[(0,D.jsx)(ue.Z,{myRef:_,titleMessage:I.titleMessage,descriptionMessage:I.descriptionMessage,messageType:I.messageType}),(0,D.jsx)("div",{className:"breadcrumb-wrapper",children:(0,D.jsx)("div",{className:"container",children:(0,D.jsxs)("ul",{className:"breadcrumb",children:[(0,D.jsx)("li",{children:(0,D.jsxs)(me.rU,{to:"/questionnaires",state:null!==O&&void 0!==O&&O.isPublished?0:1,children:["Questionnaire ",null!==O&&void 0!==O&&O.isPublished?"(Published)":"(Drafted)"]})}),((null===O||void 0===O?void 0:O.isDraft)||(null===O||void 0===O?void 0:O.isPublished))&&(0,D.jsx)("li",{children:(0,D.jsx)(me.rU,{to:"/questionnaires/preview-questionnaire/".concat(z.id),children:"Preview Questionnaire"})}),null!==O&&void 0!==O&&O.isDraft||null!==O&&void 0!==O&&O.isPublished?(0,D.jsx)("li",{children:"Edit Questionnaire"}):(0,D.jsx)("li",{children:"Add Questionnaire"})]})})}),(0,D.jsx)("section",{children:i?(0,D.jsx)(xe.Z,{}):(0,D.jsxs)("div",{className:"container",children:[(0,D.jsx)("div",{className:"form-header flex-between",children:null!==O&&void 0!==O&&O.isDraft||null!==O&&void 0!==O&&O.isPublished?(0,D.jsx)("h2",{className:"heading2",children:"Edit Questionnaire"}):(0,D.jsx)("h2",{className:"heading2",children:"Add Questionnaire"})}),(0,D.jsxs)("div",{className:"que-ttl-blk flex-between",children:[(0,D.jsx)("div",{className:"que-ttl-left",children:(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"emailid",children:["Questionnaire Title ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)(s.Z,{className:"input-field ".concat(""===O.title&&(null===P||void 0===P?void 0:P.errMsg)&&"input-error"),id:"outlined-basic",value:O.title,placeholder:"Enter questionnaire title",disabled:(null===O||void 0===O?void 0:O.isPublished)||(null===O||void 0===O?void 0:O.isDraft),variant:"outlined",onChange:e=>{L({...O,title:e.target.value})},onBlur:e=>{var i;return L({...O,title:null===(i=e.target.value)||void 0===i?void 0:i.trim()})},helperText:""===O.title&&null!==P&&void 0!==P&&P.errMsg?"Enter the questionnaire title":" "})]})}),(0,D.jsxs)("div",{className:"que-ttl-right flex-between",children:[(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"emailid",children:["Sheet Name ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)(s.Z,{className:"input-field ".concat(""===O.sheetName&&(null===P||void 0===P?void 0:P.errMsg)&&"input-error"),id:"outlined-basic",inputProps:{maxLength:31},value:O.sheetName,placeholder:"Enter sheet name",variant:"outlined",onChange:e=>{L({...O,sheetName:e.target.value})},helperText:""===O.sheetName&&null!==P&&void 0!==P&&P.errMsg?"Enter the sheet name":" "})]}),(0,D.jsxs)("div",{className:"form-group",children:[(0,D.jsxs)("label",{htmlFor:"status",children:["Status ",(0,D.jsx)("span",{className:"mandatory",children:"*"})]}),(0,D.jsx)("div",{className:"select-field",children:(0,D.jsxs)(n.Z,{className:"fullwidth-field",children:[(0,D.jsxs)(o.Z,{IconComponent:e=>(0,D.jsx)(p.Z,{...e}),value:null!==O&&void 0!==O&&O.isActive?"active":"inActive",onChange:e=>{L({...O,isActive:"active"===e.target.value})},MenuProps:je,name:"isActive",children:[(0,D.jsx)(a.Z,{value:"active",selected:!0,children:"Active"}),(0,D.jsx)(a.Z,{value:"inActive",children:"Inactive"})]}),(0,D.jsx)(d.Z,{children:" "})]})})]})]})]}),(0,D.jsxs)("div",{className:"section-form-sect",children:[(0,D.jsxs)("div",{className:"section-tab-blk flex-between",children:[(0,D.jsx)("div",{className:"section-tab-leftblk",children:(0,D.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,D.jsx)(c.Z,{value:N,onChange:R,"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:O.sections.map(((e,i,t)=>(0,D.jsx)(u.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,D.jsx)(v.Z,{className:"section-tab-item",label:"section ".concat(i+1),...ge(i)})},null===e||void 0===e?void 0:e.uuid)))})})}),(0,D.jsx)("div",{className:"section-tab-rightblk",children:(0,D.jsxs)("div",{className:"form-header-right-txt",children:[(0,D.jsxs)("div",{onClick:()=>{((null===O||void 0===O?void 0:O.isDraft)||(null===O||void 0===O?void 0:O.isPublished))&&B("/questionnaires/preview-questionnaire/".concat(E))},className:"tertiary-btn-blk ".concat((null===O||void 0===O?void 0:O.isDraft)||(null===O||void 0===O?void 0:O.isPublished)||"disabled-tertiary-btn","  mr-20"),children:[(0,D.jsx)("span",{className:"preview-icon",children:(0,D.jsx)(m.Z,{})}),(0,D.jsx)("span",{className:"addmore-txt",children:"Preview"})]}),(0,D.jsxs)("div",{className:"tertiary-btn-blk",children:[(0,D.jsx)("span",{className:"addmore-icon",onClick:U,children:(0,D.jsx)("i",{className:"fa fa-plus"})}),(0,D.jsx)("span",{onClick:U,className:"addmore-txt",children:"Add Section"})]})]})})]}),(0,D.jsx)("div",{className:"que-tab-data",children:O.sections.map(((e,i)=>(0,D.jsx)(he.x,{value:N,index:i,children:(0,D.jsx)(ve,{sameSectionsNames:g,err:q,setErr:w,setSameSectionsNames:f,setQuestionnaire:L,tableErr:k,setTableErr:Z,questionnaire:O,value:e.value,uuid:e.uuid,setValue:y,index:i,section:e,tabChange:R,globalSectionTitleError:P,setGlobalSectionTitleError:Q,questionTitleList:C,setQuestionTitleList:S})},null===e||void 0===e?void 0:e.uuid)))})]})]})})]})}},33557:(e,i,t)=>{var l=t(64836);i.Z=void 0;var s=l(t(45649)),n=t(80184),o=(0,s.default)((0,n.jsx)("path",{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25V21zm2-2.92 9.06-9.06.92.92L5.92 19H5v-.92zM18.37 3.29a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34z"}),"ModeEditOutlineOutlined");i.Z=o},77194:(e,i,t)=>{var l=t(64836);i.Z=void 0;var s=l(t(45649)),n=t(80184),o=(0,s.default)((0,n.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined");i.Z=o}}]);
//# sourceMappingURL=5666.fbc7b6cf.chunk.js.map