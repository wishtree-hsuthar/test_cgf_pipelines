"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[593],{6593:function(s,e,r){r.r(e);var a=r(4165),o=r(5861),n=r(1413),i=r(885),d=r(2791),l=r(1134),t=r(4695),c=r(6746),m=r(8254),u=r(3811),w=r(7689),p=r(1087),h=r(1724),g=r(4677),f=r(6218),v=r(7444),x=r(2820),P=r(1260),j=r(4917),b=r(5736),N=r(184),Z=h.Ry().shape({oldPassword:h.Z_().required("Enter the old password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),newPassword:h.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:h.Z_().required("Enter the confirm password").oneOf([h.iH("newPassword"),null],"Password does not match.")});e.default=function(){(0,P.j)("Change Password");var s=(0,w.s0)(),e=(0,l.cI)({resolver:(0,t.X)(Z)}),r=e.handleSubmit,h=e.register,y=e.setValue,M=e.reset,C=e.formState.errors,k=(0,d.useRef)(),O=(0,x.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),T=(0,i.Z)(O,2),_=T[0],E=T[1],S=d.useState({oldPassword:"",showOldPassword:"",newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),A=(0,i.Z)(S,2),z=A[0],D=A[1],H=function(s){s.preventDefault()},q=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.Y.debug("data",r),e.prev=1,e.next=4,g.H.post(f.oj,{oldPassword:r.oldPassword,password:r.newPassword,confirmPassword:r.confirmPassword});case 4:201==(o=e.sent).status&&(E({titleMessage:"Hurray!",descriptionMessage:o.data.message,messageType:"success"},(function(){return k.current()})),setTimeout((function(){s("/home")}),3e3),M()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),j.Y.debug("Error from on change password data",e.t0),M(),(0,b.K)(e.t0,E,k,s);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(s){return e.apply(this,arguments)}}();return(0,N.jsxs)("div",{className:"page-wrapper",children:[(0,N.jsx)(v.Z,{myRef:k,titleMessage:_.titleMessage,descriptionMessage:_.descriptionMessage,messageType:_.messageType}),(0,N.jsx)("div",{className:"breadcrumb-wrapper",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("ul",{className:"breadcrumb",children:[(0,N.jsx)("li",{children:(0,N.jsx)(p.rU,{to:"/home",children:"Home"})}),(0,N.jsx)("li",{children:"Change Password"})]})})}),(0,N.jsx)("section",{className:"container",children:(0,N.jsxs)("form",{onSubmit:r(q),children:[(0,N.jsx)("div",{className:"form-header flex-between",children:(0,N.jsx)("h2",{className:"heading2",children:"Change Password"})}),(0,N.jsxs)("div",{className:"card-wrapper",children:[(0,N.jsx)("div",{className:"card-blk flex-between",children:(0,N.jsx)("div",{className:"card-form-field",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"oldPassword",children:["Old Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(c.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,id:"outlined-adornment-password",type:z.showOldPassword?"text":"password",placeholder:"Enter old password",className:"input-field ".concat(C.oldPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,N.jsx)(m.Z,{position:"end",children:(0,N.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){D((0,n.Z)((0,n.Z)({},z),{},{showOldPassword:!z.showOldPassword}))},onMouseDown:H,edge:"end",className:"eye-btn",children:z.showOldPassword?(0,N.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,N.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})},h("oldPassword")),{},{onBlur:function(s){return y("oldPassword",s.target.value.trim())},error:!!C.oldPassword})),(0,N.jsx)("p",{className:"password-error",children:null!==C&&void 0!==C&&C.oldPassword?C.oldPassword.message:(0,N.jsx)("span",{children:"\xa0"})})]})]})})}),(0,N.jsx)("div",{className:"card-form-field",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(c.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,id:"outlined-adornment-password",type:z.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat((null===C||void 0===C?void 0:C.newPassword)&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,N.jsx)(m.Z,{position:"end",children:(0,N.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){D((0,n.Z)((0,n.Z)({},z),{},{showNewPassword:!z.showNewPassword}))},onMouseDown:H,edge:"end",className:"eye-btn",children:z.showNewPassword?(0,N.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,N.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})},h("newPassword")),{},{onBlur:function(s){return y("newPassword",s.target.value.trim())},error:!!C.password})),(0,N.jsx)("p",{className:"password-error",children:null!==C&&void 0!==C&&C.newPassword?C.newPassword.message:(0,N.jsx)("span",{children:"\xa0"})})]})]})}),(0,N.jsx)("div",{className:"card-form-field",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(c.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,id:"outlined-adornment-password",type:z.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(C.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,N.jsx)(m.Z,{position:"end",children:(0,N.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){D((0,n.Z)((0,n.Z)({},z),{},{showConfirmPassword:!z.showConfirmPassword}))},onMouseDown:H,edge:"end",className:"eye-btn",children:z.showConfirmPassword?(0,N.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,N.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})},h("confirmPassword")),{},{onBlur:function(s){return y("confirmPassword",s.target.value.trim())},error:!!C.confirmPassword})),(0,N.jsx)("p",{className:"password-error",children:null!==C&&void 0!==C&&C.confirmPassword?C.confirmPassword.message:(0,N.jsx)("span",{children:"\xa0"})})]})]})}),(0,N.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,N.jsx)("button",{type:"reset",onClick:function(){return s("/home")},className:"secondary-button mr-10",children:"Cancel"}),(0,N.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})]})})]})}},5736:function(s,e,r){r.d(e,{K:function(){return n}});var a=r(4165),o=r(5861),n=function(){var s=(0,o.Z)((0,a.Z)().mark((function s(e,r,o,n,i){var d,l,t,c,m,u,w,p,h;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:401==e.response.status?(r({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return o.current()})),setTimeout((function(){n("/login")}),3e3)):403===(null===e||void 0===e||null===(d=e.response)||void 0===d?void 0:d.status)?(r({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.message?null===e||void 0===e||null===(c=e.response)||void 0===c||null===(m=c.data)||void 0===m?void 0:m.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return o.current()})),setTimeout((function(){n("/home")}),3e3)):(console.log("Else block"),console.log("route = ",i),console.log("erro in else block",e),r({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(u=e.response)&&void 0!==u&&null!==(w=u.data)&&void 0!==w&&w.message?null===e||void 0===e||null===(p=e.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return o.current()})),i&&setTimeout((function(){n(i)}),3e3));case 1:case"end":return s.stop()}}),s)})));return function(e,r,a,o,n){return s.apply(this,arguments)}}()}}]);
//# sourceMappingURL=593.e62383fd.chunk.js.map