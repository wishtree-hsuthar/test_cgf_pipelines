{"version":3,"file":"static/js/747.c053e9fb.chunk.js","mappings":"gOAKMA,EAAyBC,EAAAA,MAAW,kBACxC,8DAAmC,IAE/BC,EAAkBD,EAAAA,MAAW,kBAAM,qDAA0B,IA8LnE,UA5KA,SAA8B,GAgB1B,IAfFE,EAAO,EAAPA,QACAC,EAA0B,EAA1BA,2BACAC,EAAuB,EAAvBA,wBACAC,EAAa,EAAbA,cACAC,EAAgB,EAAhBA,iBACAC,EAAiB,EAAjBA,kBACAC,EAAoB,EAApBA,qBACAC,EAAM,EAANA,OAEAC,GADe,EAAfC,gBACgB,EAAhBD,kBACAE,EAAQ,EAARA,SACAC,EAAW,EAAXA,YACAC,EAAqB,EAArBA,sBACAC,EAAa,EAAbA,cACAC,EAAK,EAALA,MAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,MAafC,QAAQC,IAAI,aAAcpB,GAE1B,OAAgDqB,EAAAA,EAAAA,WAAS,GAAM,eAAxDC,EAAgB,KAAEC,EAAmB,KAEtCC,EAAsB,SAACC,EAAMC,GACjCzB,GAA2B,kBACtBC,GAAuB,cAClB,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,MAAI,kBACTzB,EAA+B,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,OAAK,cACxCF,EAAOC,MAGd,EACME,EAAoB,SAACH,EAAMC,GAC/BG,EAAAA,EAAAA,MAAa,kBAEb5B,GAA2B,kBACtBC,GAAuB,cAClB,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,MAAI,kBACTzB,EAA+B,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,OAAK,cACxCF,EAAY,OAALC,QAAK,IAALA,OAAK,EAALA,EAAOI,WAGrB,EAEA,OADAX,QAAQC,IAAI,8BAA+BlB,IAEzC,iCACE,SAAC,IAAS,CACR6B,OAAO,6CACPC,OACE,iGAKFC,OAAO,2DACPC,kBAAmB,MACnBC,oBAAqB,KACrBC,iCAAkC,WAChCrB,EAAS,mBACX,EACAsB,mCAAoC,WAClCd,GAAoB,EACtB,EACAe,UAAWhB,EACXiB,aAAchB,KAEhB,iBAAKiB,UAAU,wBAAuB,WACpC,gBAAKA,UAAU,4BAA2B,UACxC,eAAIA,UAAU,aAAY,SAAS,OAAPxC,QAAO,IAAPA,OAAO,EAAPA,EAASyC,kBAEvC,gBAAKD,UAAU,mBAAkB,SAAS,OAAPxC,QAAO,IAAPA,OAAO,EAAPA,EAAS0C,kBAE9C,iBAAKF,UAAU,uBAAsB,WACnC,gBAAKA,UAAU,mBAAkB,SACX,SAAnBxC,EAAQ2C,OACP3C,EAAQ4C,UAAUC,KAAI,SAACC,GAAQ,aAC7B,SAACjD,EAAsB,CAErBK,wBAAyBA,EACzBD,2BAA4BA,EAC5B8C,YAAoB,OAAP/C,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,KACtBmB,SAAUA,EACV3C,cAAeA,EACfC,iBAAkBA,EAClBC,kBAAmBA,EACnBC,qBAAsBA,EACtB0C,OACE9C,EAA+B,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,OACjCzB,EAA+B,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,MAAc,OAARmB,QAAQ,IAARA,OAAQ,EAARA,EAAUnB,MAC7CzB,EAA+B,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,MAAc,OAARmB,QAAQ,IAARA,OAAQ,EAARA,EAAUnB,MACzB,cAAhB,OAARmB,QAAQ,IAARA,OAAQ,EAARA,EAAUG,WACV,GACA,GAENC,MAA6B,QAAxB,EAAE3C,EAAe,OAARuC,QAAQ,IAARA,OAAQ,EAARA,EAAUnB,aAAK,QAAI,GACjCH,oBAAqBA,EACrBI,kBAAmBA,EACnBlB,SAAUA,EACVC,YAAaA,GArBA,OAARmC,QAAQ,IAARA,OAAQ,EAARA,EAAUnB,KAsBf,KAGJ,SAAC5B,EAAe,CACdE,2BAA4BA,EAC5BC,wBAAyBA,EACzB6C,YAAoB,OAAP/C,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,KACtBwB,aAAqB,OAAPnD,QAAO,IAAPA,OAAO,EAAPA,EAASmD,aACvBC,UAAkB,OAAPpD,QAAO,IAAPA,OAAO,EAAPA,EAASoD,UACpB5B,oBAAqBA,EACrBI,kBAAmBA,EACnBrB,OAAc,OAANA,QAAM,IAANA,EAAAA,EAAU,CAAC,EACnBG,SAAUA,MAIfA,IAAaO,EAAO,KAAKoC,SAAS,SACjC,iBAAKb,UAAU,wCAAuC,WACpD,mBACEc,KAAK,QACLC,QAAS,kBAAMhC,GAAoB,EAAK,EACxCiB,UAAU,yBACVgB,SAAU5C,EAAsB,qBAKlC,mBACE0C,KAAK,SACLC,QAAS,SAACE,GAAC,OAAKjD,EAAiBiD,GAAG,EAAK,EACzCD,SAAU5C,EACV4B,UAAU,mCAAkC,4BAI9C,mBACEc,KAAK,SACLC,QAAS,SAACE,GAAC,OAAKjD,EAAiBiD,GAAG,EAAM,EAC1CD,SAAU5C,EACV4B,UAAU,4BACVkB,QAlIVvC,QAAQC,IAAI,oBAAqBP,GACjCM,QAAQC,IAAI,mBAAoBN,GAC5BD,IAAkBC,EAAQ,GAgIe,mCAMvC,gBAAK0B,UAAU,wCAAuC,UACpD,mBACEc,KAAK,QACLC,QAAS,kBAAMxC,EAAS,mBAAmB,EAC3CyB,UAAU,mBAAkB,2BAS1C,C","sources":["Pages/AssessmentModule/FillAssessmentSection.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport DialogBox from \"../../components/DialogBox\";\nimport { Logger } from \"../../Logger/Logger\";\nconst FillAssessmentQuestion = React.lazy(() =>\n  import(\"./FillAssessmentQuestions\")\n);\nconst TableAssessment = React.lazy(() => import(\"./TableAssesment\"));\nconst getTransformedColumns = (columns) => {\n  let transformedColumns = {};\n  columns.forEach((column) => {\n    transformedColumns[column.uuid] = column;\n  });\n  return transformedColumns;\n};\n\nconst getTransformedRows = (rows) => {\n  let transfromedRows = {};\n  rows.forEach((row) => {\n    transfromedRows[row.uuid] = row;\n  });\n\n  return transfromedRows;\n};\n\nfunction FillAssesmentSection({\n  section,\n  setAssessmentQuestionnaire,\n  assessmentQuestionnaire,\n  errorQuestion,\n  setErrorQuestion,\n  errorQuestionUUID,\n  setErrorQuestionUUID,\n  errors,\n  handleSetErrors,\n  handleFormSubmit,\n  editMode,\n  setEditMode,\n  disableFillAssessment,\n  totalSections,\n  index,\n}) {\n  const navigate = useNavigate();\n  const params = useParams();\n\n  const showSubmitOnFinalSection = () => {\n    console.log(\"total sections = \", totalSections);\n    console.log(\"current index = \", index);\n    if (totalSections === index + 1) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  // cancel dailog box open/close state\n  console.log(\"section - \", section);\n\n  const [openCancelDailog, setOpenCancelDailog] = useState(false);\n\n  const handleAnswersChange = (name, value) => {\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value,\n      },\n    });\n  };\n  const handleAnswersBlur = (name, value) => {\n    Logger.debug(\"inside on Blur\");\n\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value?.trim(),\n      },\n    });\n  };\n  console.log(\"Assessment Questionnaire:- \", assessmentQuestionnaire);\n  return (\n    <>\n      <DialogBox\n        title={<p>Cancel Assessment</p>}\n        info1={\n          <p>\n            On canceling, all the entered details of the section will be\n            removed.\n          </p>\n        }\n        info2={<p>Do you still want to cancel it?</p>}\n        primaryButtonText={\"Yes\"}\n        secondaryButtonText={\"No\"}\n        onPrimaryModalButtonClickHandler={() => {\n          navigate(\"/assessment-list\");\n        }}\n        onSecondaryModalButtonClickHandler={() => {\n          setOpenCancelDailog(false);\n        }}\n        openModal={openCancelDailog}\n        setOpenModal={setOpenCancelDailog}\n      />\n      <div className=\"preview-sect-ttl-wrap\">\n        <div className=\"preview-sect-card-ttl-blk\">\n          <h2 className=\"subheading\">{section?.sectionTitle}</h2>\n        </div>\n        <div className=\"preview-sect-txt\">{section?.description}</div>\n      </div>\n      <div className=\"preview-card-wrapper\">\n        <div className=\"preview-que-wrap\">\n          {section.layout === \"form\" ? (\n            section.questions.map((question) => (\n              <FillAssessmentQuestion\n                key={question?.uuid}\n                assessmentQuestionnaire={assessmentQuestionnaire}\n                setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n                sectionUUID={section?.uuid}\n                question={question}\n                errorQuestion={errorQuestion}\n                setErrorQuestion={setErrorQuestion}\n                errorQuestionUUID={errorQuestionUUID}\n                setErrorQuestionUUID={setErrorQuestionUUID}\n                answer={\n                  assessmentQuestionnaire[section?.uuid] &&\n                  assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    ? assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    : question?.inputType === \"checkbox\"\n                    ? []\n                    : \"\"\n                }\n                error={errors[question?.uuid] ?? \"\"}\n                handleAnswersChange={handleAnswersChange}\n                handleAnswersBlur={handleAnswersBlur}\n                editMode={editMode}\n                setEditMode={setEditMode}\n              />\n            ))\n          ) : (\n            <TableAssessment\n              setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n              assessmentQuestionnaire={assessmentQuestionnaire}\n              sectionUUID={section?.uuid}\n              columnValues={section?.columnValues}\n              rowValues={section?.rowValues}\n              handleAnswersChange={handleAnswersChange}\n              handleAnswersBlur={handleAnswersBlur}\n              errors={errors ?? {}}\n              editMode={editMode}\n            />\n          )}\n        </div>\n        {editMode && !params[\"*\"].includes(\"view\") ? (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => setOpenCancelDailog(true)}\n              className=\"secondary-button mr-10\"\n              disabled={disableFillAssessment}\n            >\n              Cancel\n            </button>\n\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, true)}\n              disabled={disableFillAssessment}\n              className=\"outlined-button add-button mr-10\"\n            >\n              Save as draft\n            </button>\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, false)}\n              disabled={disableFillAssessment}\n              className=\"primary-button add-button\"\n              hidden={showSubmitOnFinalSection()}\n            >\n              Submit assessment\n            </button>\n          </div>\n        ) : (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => navigate(\"/assessment-list\")}\n              className=\"secondary-button\"\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default FillAssesmentSection;\n"],"names":["FillAssessmentQuestion","React","TableAssessment","section","setAssessmentQuestionnaire","assessmentQuestionnaire","errorQuestion","setErrorQuestion","errorQuestionUUID","setErrorQuestionUUID","errors","handleFormSubmit","handleSetErrors","editMode","setEditMode","disableFillAssessment","totalSections","index","navigate","useNavigate","params","useParams","console","log","useState","openCancelDailog","setOpenCancelDailog","handleAnswersChange","name","value","uuid","handleAnswersBlur","Logger","trim","title","info1","info2","primaryButtonText","secondaryButtonText","onPrimaryModalButtonClickHandler","onSecondaryModalButtonClickHandler","openModal","setOpenModal","className","sectionTitle","description","layout","questions","map","question","sectionUUID","answer","inputType","error","columnValues","rowValues","includes","type","onClick","disabled","e","hidden"],"sourceRoot":""}