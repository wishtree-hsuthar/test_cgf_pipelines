"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8830],{8830:function(e,t,n){n.r(t);var s=n(4165),i=n(5861),a=n(4942),r=n(1413),l=n(2982),o=n(885),c=n(1346),d=n(9407),u=n(5473),v=n(8821),m=n(2791),p=n(7689),h=n(4569),g=n.n(h),f=n(9106),b=n(6218),x=n(2820),j=n(7659),y=n(9434),Z=n(1260),w=n(7806),k=n(8386),N=n(4917),C=n(184),S=["Erin","John","Maria","Rajkumar"],A=[{id:"companyName",disablePadding:!1,label:"Company"},{id:"name",disablePadding:!1,label:"Representative"},{id:"email",disablePadding:!1,label:"Email"},{id:"companyType",disablePadding:!1,label:"Company Type"},{id:"totalOperationMembers",disablePadding:!1,label:"Ops. Members"},{id:"createdBy",disablePadding:!1,label:"Created By"},{id:"createdAt",disablePadding:!1,label:"Created At"},{id:"isActive",disablePadding:!1,label:"Status"}];t.default=function(){var e,t,n,h,M;(0,Z.j)("Members");var D=(0,p.s0)(),T=m.useRef(),O=(0,x.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),R=(0,o.Z)(O,2),P=R[0],B=R[1],E=(0,y.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.privilege})),_="Super Admin"===(null===E||void 0===E?void 0:E.name),Y=(E?Object.values(null===E||void 0===E?void 0:E.privileges):[]).filter((function(e){var t;return"Members"===(null===e||void 0===e||null===(t=e.moduleId)||void 0===t?void 0:t.name)})).map((function(e){return{member:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}}}));N.Y.debug("module access member in view member",null===(e=Y[0])||void 0===e?void 0:e.member);var I=(0,m.useState)(!1),F=(0,o.Z)(I,2),H=F[0],L=F[1],U=(0,m.useState)(null),z=(0,o.Z)(U,2),V=z[0],K=z[1],q=(0,m.useState)(!0),J=(0,o.Z)(q,2),Q=J[0],W=J[1],G=(0,m.useState)(""),X=(0,o.Z)(G,2),$=X[0],ee=X[1],te=(0,m.useState)({companyType:"none",status:"none"}),ne=(0,o.Z)(te,2),se=ne[0],ie=ne[1],ae=["_id","companyName","name","email","companyType","totalOperationMembers","createdBy","createdAt","isActive"],re=(0,m.useState)(1),le=(0,o.Z)(re,2),oe=le[0],ce=le[1],de=(0,m.useState)(10),ue=(0,o.Z)(de,2),ve=ue[0],me=ue[1],pe=(0,m.useState)("asc"),he=(0,o.Z)(pe,2),ge=he[0],fe=he[1],be=(0,m.useState)("initialRender"),xe=(0,o.Z)(be,2),je=xe[0],ye=xe[1],Ze=(0,m.useState)([]),we=(0,o.Z)(Ze,2),ke=we[0],Ne=we[1],Ce=(0,m.useState)(0),Se=(0,o.Z)(Ce,2),Ae=Se[0],Me=Se[1],De=(0,m.useState)([]),Te=(0,o.Z)(De,2),Oe=Te[0],Re=Te[1],Pe=(0,m.useState)(["none"]),Be=(0,o.Z)(Pe,2),Ee=Be[0],_e=Be[1],Ye=(0,m.useState)(""),Ie=(0,o.Z)(Ye,2),Fe=Ie[0],He=Ie[1],Le=Ee.length>1&&Ee.length-1===S.length,Ue=function(e){He(e)},ze=function(e){var t=e.target,n=t.name,s=t.value;N.Y.debug("name",n,"Value ",s),ie((0,r.Z)((0,r.Z)({},se),{},(0,a.Z)({},n,s)))},Ve=function(){N.Y.debug("memberFilters",se);var e="".concat(b.Dl,"/list?page=").concat(oe,"&size=").concat(ve,"&orderBy=").concat({initialRender:"",companyName:"name",name:"representativeName",email:"representativeEmail",companyType:"companyType",totalOperationMembers:"operationMembersCount",createdBy:"createdBy",createdAt:"createdAt",isActive:"status"}[je],"&order=").concat(ge);return $&&(e+="&search=".concat($)),"all"!==(null===se||void 0===se?void 0:se.status)&&"none"!==(null===se||void 0===se?void 0:se.status)&&(e+="&status=".concat(se.status)),"none"!==(null===se||void 0===se?void 0:se.companyType)&&(e+="&companyType=".concat(se.companyType)),e},Ke=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var i,a,r,o,c,d,u,v,m,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Ve(),L(!0),e.next=5,g().get(i,{signal:n.signal});case 5:a=e.sent,Me(parseInt(a.headers["x-total-count"])),N.Y.debug("response from backend",a),L(!1),(s=null===a||void 0===a?void 0:a.data).forEach((function(e){var t,n,s,i,a,r,l;delete e.address,delete e.cgfActivity,delete e.cgfCategory,delete e.cgfOffice,delete e.cgfOfficeCountry,delete e.cgfOfficeRegion,delete e.city,delete e.corporateEmail,delete e.country,delete e.countryCode,delete e.parentCompany,delete e.phoneNumber,delete e.region,delete e.state,delete e.updatedAt,delete e.updatedBy,delete e.website,delete e.isDeleted,delete e.isReplaced,delete e.isMemberRepresentative,delete e.memberRepresentativeRole,delete e.__v,e.createdAt=null===(t=new Date(e.createdAt))||void 0===t?void 0:t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),"object"===typeof e.createdBy?e.createdBy=e.createdBy.name:e.createdBy="N/A",e.representative?(e.isActive=null===(s=e.representative)||void 0===s?void 0:s.isActive,e.email=null!==(i=null===(a=e.representative)||void 0===a?void 0:a.email)&&void 0!==i?i:"N/A",e.name=null!==(r=null===(l=e.representative)||void 0===l?void 0:l.name)&&void 0!==r?r:"N/A"):(e.isActive=!1,e.email="N/A",e.name="N/A"),e.totalOperationMembers=null===(n=e.totalOperationMembers)||void 0===n?void 0:n.toString(),delete e.representative,delete e.memberRepresentativeId,ae.forEach((function(t){var n=e[t];delete e[t],e[t]=n}))})),Ne((0,l.Z)(s)),e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(0),N.Y.debug("error from get members api - ",e.t0),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=17;break}return e.abrupt("return");case 17:401===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)?(B({titleMessage:"Error",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(function(){return T.current()})),setTimeout((function(){D("/login")}),3e3)):403===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?(B({titleMessage:"Error",descriptionMessage:null!==e.t0&&void 0!==e.t0&&null!==(c=e.t0.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&d.message?null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(v=u.data)||void 0===v?void 0:v.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return T.current()})),setTimeout((function(){D("/home")}),3e3)):(L(!1),t&&B({titleMessage:"Error",descriptionMessage:null!==e.t0&&void 0!==e.t0&&null!==(m=e.t0.response)&&void 0!==m&&null!==(p=m.data)&&void 0!==p&&p.message&&"string"===typeof e.t0.response.data.message?e.t0.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return T.current()})));case 18:case"end":return e.stop()}var s}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){var e=!0,t=new AbortController;return Q&&Ke(e,t),function(){e=!1,clearTimeout(V),t.abort()}}),[oe,ve,je,ge,se,Q]),(0,C.jsxs)("div",{className:"page-wrapper",children:[(0,C.jsx)(j.Z,{myRef:T,titleMessage:P.titleMessage,descriptionMessage:P.descriptionMessage,messageType:P.messageType}),(0,C.jsx)("section",{children:(0,C.jsxs)("div",{className:"container",children:[(0,C.jsxs)("div",{className:"form-header member-form-header flex-between",children:[(0,C.jsx)("div",{className:"form-header-left-blk flex-start",children:(0,C.jsx)("h2",{className:"heading2 mr-40",children:"Members"})}),(0,C.jsxs)("div",{className:"form-header-right-txt",children:[(0,C.jsxs)("div",{className:"tertiary-btn-blk mr-20",onClick:function(){return(0,w.j)("Members",B,!1,T,b.MZ,D)},children:[(0,C.jsx)("span",{className:"download-icon",children:(0,C.jsx)(v.Z,{})}),"Download"]}),(1==_||(null===(t=Y[0])||void 0===t||null===(n=t.member)||void 0===n?void 0:n.add))&&(0,C.jsx)("div",{className:"form-btn",children:(0,C.jsx)("button",{type:"submit",className:"primary-button add-button",onClick:function(){return D("/users/members/add-member")},children:"Add Member"})})]})]}),(0,C.jsx)("div",{className:"member-filter-sect",children:(0,C.jsxs)("div",{className:"member-filter-wrap flex-between",children:[(0,C.jsx)("div",{className:"member-filter-left",children:(0,C.jsxs)("div",{className:"searchbar",children:[(0,C.jsx)("input",{type:"text",value:$,name:"search",placeholder:"Search",onKeyDown:function(e){"Enter"===e.key&&(W(!0),ce(1))},onChange:function(e){N.Y.debug("event",e.key),V&&clearTimeout(V),W(!1),N.Y.debug("searchMember values",e.target.value),ee(e.target.value),K(setTimeout((function(){W(!0),ce(1)}),1e3))}}),(0,C.jsx)("button",{type:"submit",children:(0,C.jsx)("i",{className:"fa fa-search"})})]})}),(0,C.jsx)("div",{className:"member-filter-right",children:(0,C.jsxs)("div",{className:"filter-select-wrap flex-between",children:[(0,C.jsx)("div",{className:"filter-select-field",children:(0,C.jsx)("div",{className:"dropdown-field",children:(0,C.jsxs)(c.Z,{sx:{display:"none"},name:"companyType",value:se.companyType,onChange:ze,onFocus:function(e){return Ue("companyType")},children:[(0,C.jsx)(d.Z,{value:"none",sx:{display:"companyType"===Fe&&"none"},children:"Company Type"}),(0,C.jsx)(d.Z,{value:"Internal",children:"Internal"}),(0,C.jsx)(d.Z,{value:"External",children:"External"})]})})}),(0,C.jsx)("div",{className:"filter-select-field",children:(0,C.jsx)("div",{className:"dropdown-field",children:(0,C.jsxs)(c.Z,{sx:{display:"none"},name:"createdBy",multiple:!0,value:Ee,onChange:function(e){var t=e.target,n=t.name,s=t.value;if(N.Y.debug("name",n,"value",s),""===s[s.length-1])return Ee.length-1===S.length?_e(["none"]):_e(["none"].concat(S));_e((0,l.Z)(s))},onFocus:function(e){return Ue("createdBy")},renderValue:function(e){return Ee.length>1?e.slice(1).join(", "):"Created By"},children:[(0,C.jsx)(d.Z,{value:"none",sx:{display:"createdBy"===Fe&&"none"},children:"Created By"}),(0,C.jsxs)(d.Z,{value:"",children:[(0,C.jsx)(u.Z,{className:"table-checkbox",checked:Le,indeterminate:Ee.length>1&&Ee.length-1<S.length}),"Select All"]}),S.map((function(e){return(0,C.jsxs)(d.Z,{value:e,children:[(0,C.jsx)(u.Z,{className:"table-checkbox",checked:(null===Ee||void 0===Ee?void 0:Ee.indexOf(e))>-1}),e]},e)}))]})})}),(0,C.jsx)("div",{className:"filter-select-field",children:(0,C.jsx)("div",{className:"dropdown-field",children:(0,C.jsxs)(c.Z,{sx:{display:"none"},name:"status",value:se.status,onChange:ze,onFocus:function(e){return Ue("status")},children:[(0,C.jsx)(d.Z,{value:"none",sx:{display:"status"===Fe&&"none"},children:"Status"}),(0,C.jsx)(d.Z,{value:"active",children:"Active"}),(0,C.jsx)(d.Z,{value:"inactive",children:"Inactive"})]})})})]})})]})}),(0,C.jsx)("div",{className:"member-info-wrapper table-content-wrap table-footer-btm-space",children:H?(0,C.jsx)(k.Z,{}):(0,C.jsx)(f.Z,{tableHead:A,records:ke,handleChangePage1:function(e){ce(e)},handleChangeRowsPerPage1:function(e){me(parseInt(e.target.value,10)),ce(1)},page:oe,rowsPerPage:ve,selected:Oe,setSelected:Re,totalRecords:Ae,orderBy:je,onClickVisibilityIconHandler1:function(e){return N.Y.debug("id",e),D("/users/members/view-member/".concat(e))},order:ge,setOrder:fe,setOrderBy:ye,setCheckBoxes:!1,onRowClick:!!_||(null===(h=Y[0])||void 0===h||null===(M=h.member)||void 0===M?void 0:M.view)})})]})})]})}},9106:function(e,t,n){n.d(t,{Z:function(){return C}});var s=n(7195),i=n(3372),a=n(7194),r=n(6015),l=n(5473),o=n(6650),c=n(1680),d=n(9773),u=n(4390),v=n(9963),m=n(9827),p=n(807),h=n(3769),g=(n(2791),n(922)),f=n(6321),b=n(4917),x=n(5814),j=n(1346),y=n(9407),Z=n(4162),w=n(4585),k=(n(1605),n(184));function N(e){var t=e.onSelectAllClick,n=e.order,s=e.orderBy,i=e.tableHead,a=e.numSelected,r=e.rowCount,o=e.onRequestSort,c=e.setCheckBoxes;return(0,k.jsx)(m.Z,{children:(0,k.jsxs)(p.Z,{children:[c&&(0,k.jsx)(u.Z,{padding:"checkbox",className:"table-checkbox",children:(0,k.jsx)(l.Z,{color:"primary",indeterminate:a>0&&a<r,checked:r>0&&a===r,onChange:t,inputProps:{"aria-label":"select all desserts"},className:"checkbox-mui"})}),i.map((function(e){return(0,k.jsxs)(u.Z,{width:null===e||void 0===e?void 0:e.width,align:"left",padding:e.disablePadding?"none":"normal",className:"table-header",children:["action"!==e.id&&(0,k.jsx)(h.Z,{active:s===e.id,direction:s===e.id?n:"asc",onClick:(t=e.id,function(e){o(e,t)}),className:"sorted-blk",children:e.label}),"action"===e.id&&(0,k.jsx)("span",{className:"sorted-blk",children:e.label})]},e.id);var t}))]})})}function C(e){var t=e.tableHead,n=e.records,m=e.page,h=void 0===m?1:m,C=e.rowsPerPage,S=void 0===C?10:C,A=e.handleChangeRowsPerPage1,M=e.handleChangePage1,D=e.totalRecords,T=e.orderBy,O=e.setOrderBy,R=e.icons,P=e.onClickVisibilityIconHandler1,B=e.onClickDeleteIconHandler1,E=e.selected,_=void 0===E?[]:E,Y=e.setSelected,I=e.order,F=void 0===I?"asc":I,H=e.setOrder,L=e.setCheckBoxes,U=void 0===L||L,z=e.setSingleSelect,V=void 0!==z&&z,K=e.handleSingleUserSelect,q=e.selectedUser,J=e.onRowClick,Q=void 0!==J&&J,W=e.isQuestionnare,G=void 0!==W&&W,X=e.onClickEditAssesmentFunction,$=e.onClickAssignAssesmentFunction,ee=e.onClickFillAssessmentFunction,te=e.viewAssessment,ne=void 0!==te&&te,se=function(e,t){b.Y.debug("Inside on click handler",t),P(e,t||!1)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(r.Z,{sx:{width:"100%"},className:U?"table-blk":"table-blk table-blk-without-checkbox",children:(0,k.jsx)(o.Z,{sx:{width:"100%",mb:2},children:(0,k.jsx)(v.Z,{children:(0,k.jsxs)(c.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,k.jsx)(N,{numSelected:_.length,order:F,orderBy:T,tableHead:t,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e._id}));Y(t)}else Y([])},onRequestSort:function(e,t){H(T===t&&"asc"===F?"desc":"asc"),O(t)},rowCount:n.length,setCheckBoxes:U}),(null===n||void 0===n?void 0:n.length)>0?(0,k.jsx)(d.Z,{children:n.map((function(e,t){b.Y.debug("row",e);var n,r=(n=e._id,-1!==_.indexOf(n)),o="enhanced-table-checkbox-".concat(t);return(0,k.jsxs)(p.Z,{hover:!0,onClick:function(){return Q&&se(G?e.uuid:e._id,(null===e||void 0===e?void 0:e.isOperationMember)||(null===e||void 0===e?void 0:e.isMemberRepresentative))},style:{cursor:Q&&"pointer"},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[U&&(0,k.jsx)(u.Z,{padding:"checkbox",children:(0,k.jsx)(l.Z,{className:"table-checkbox",color:"primary",onClick:function(t){return function(e,t){var n=_.indexOf(t),s=[];-1===n?s=s.concat(_,t):0===n?s=s.concat(_.slice(1)):n===_.length-1?s=s.concat(_.slice(0,-1)):n>0&&(s=s.concat(_.slice(0,n),_.slice(n+1))),Y(s)}(0,e._id)},checked:r,inputProps:{"aria-labelledby":o}})}),V&&(0,k.jsx)(u.Z,{children:(0,k.jsx)("div",{className:"radio-btn-field",children:(0,k.jsx)(f.Z,{className:"radio-btn",color:"primary",value:e._id,onChange:function(){return function(e){K(e)}(e._id)},checked:q==e._id,inputProps:{"aria-labelledby":o}})})}),Object.keys(e).map((function(t,n){var s,i,a,r,l;return"_id"!==t&&"uuid"!==t&&"isActive"!==t&&"isUserAuthorizedToFillAssessment"!==t&&"isOperationMember"!==t&&"isMemberRepresentative"!==t&&"dueDate"!==t?(null===(s=e[t])||void 0===s?void 0:s.length)<=28||"undefined"===typeof e[t]?(0,k.jsxs)(u.Z,{children:[" ","undefined"===typeof e[t]&&"N/A","string"===typeof e[t]&&"email"!==t?e[t][0].toUpperCase()+(null===(i=e[t])||void 0===i?void 0:i.slice(1)):e[t]]},t):(0,k.jsx)(x.Z,{placement:"bottom-start",enterDelay:1e3,title:e[t],children:(0,k.jsx)(u.Z,{children:"string"===typeof e[t]&&"email"!==t?e[t][0].toUpperCase()+"".concat(null===(a=e[t])||void 0===a?void 0:a.slice(1,28),"..."):"".concat(null===(r=e[t])||void 0===r?void 0:r.slice(0,28),"...")},t)},t):"isActive"===t?(0,k.jsx)(u.Z,{className:"button-style ".concat(e[t]&&"button-style-success"),children:(0,k.jsx)("span",{children:e[t]?"Active":"Inactive"})},t):"dueDate"===t?(b.Y.debug("due date  = ",new Date(e[t]).toLocaleDateString("en")),b.Y.debug("current date  = ",(new Date).toLocaleDateString("en")),b.Y.debug("Comparison = ",new Date(new Date(e[t]).toLocaleDateString("en")).getTime()>=new Date((new Date).toLocaleDateString("en")).getTime()),(0,k.jsx)(u.Z,{className:"due-date-style ".concat(new Date(new Date(e[t]).toLocaleDateString("en")).getTime()>=new Date((new Date).toLocaleDateString("en")).getTime()&&"due-date-style-success"),children:(0,k.jsx)("span",{children:null!==(l=e[t])&&void 0!==l?l:e[t]})},t)):void 0})),(null===R||void 0===R?void 0:R.length)>0&&(0,k.jsxs)(u.Z,{children:[R.includes("visibility")&&(0,k.jsx)("span",{className:"icon",children:(0,k.jsx)(x.Z,{title:"View Assessment",children:(0,k.jsx)(a.Z,{onClick:function(){return se(ne?e.uuid:e._id)}})})}),R.includes("delete")&&(0,k.jsx)("span",{className:"icon",children:(0,k.jsx)(x.Z,{title:"Delete",children:(0,k.jsx)("img",{src:"/images/delete-icon.svg",onClick:function(){return function(e){B(e)}(e._id)}})})}),R.includes("edit")&&(0,k.jsx)("span",{className:"icon",children:(0,k.jsx)(x.Z,{title:"Edit",children:(0,k.jsx)(s.Z,{onClick:function(){return t=e.uuid,void X(t);var t}})})}),R.includes("send")&&("In Progress"==(null===e||void 0===e?void 0:e.assessmentStatus)||"Re-opened"==(null===e||void 0===e?void 0:e.assessmentStatus)||"Accepted"==(null===e||void 0===e?void 0:e.assessmentStatus))&&e.isUserAuthorizedToFillAssessment&&(0,k.jsx)("span",{className:"icon",children:(0,k.jsx)(x.Z,{title:"Assign to Operation Member",children:(0,k.jsx)(g.Z,{onClick:function(){return $(e.uuid)}})})}),R.includes("fill")&&e.isUserAuthorizedToFillAssessment&&(0,k.jsx)("span",{className:"icon",children:(0,k.jsx)(x.Z,{title:"Fill Assessment",children:(0,k.jsx)(i.Z,{onClick:function(){return t=e.uuid,void ee(t);var t}})})})]})]},null===e||void 0===e?void 0:e._id)}))}):(0,k.jsx)(d.Z,{children:(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"10",children:(0,k.jsx)("div",{className:"no-records-blk",children:(0,k.jsx)("h2",{className:"heading2",children:"No records available"})})})})})]})})})}),(null===n||void 0===n?void 0:n.length)>0&&(0,k.jsxs)("div",{className:"table-footer flex-between",children:[(0,k.jsxs)("div",{className:"table-footer-left",children:[(0,k.jsxs)("div",{className:"per-page-blk",children:[(0,k.jsx)("span",{className:"per-page-txt",children:"Records"}),(0,k.jsx)("div",{className:"per-page-dropdown",children:(0,k.jsx)("div",{className:"per-page-select-field",children:(0,k.jsxs)(j.Z,{value:S,onChange:function(e){A(e)},children:[(0,k.jsx)(y.Z,{value:"5",children:"05"}),(0,k.jsx)(y.Z,{value:"10",selected:!0,children:"10"}),(0,k.jsx)(y.Z,{value:"20",children:"20"})]})})})]}),(0,k.jsxs)("div",{className:"show-entries-txt",children:["showing ",(h-1)*S+1,"-",(h-1)*S+(null===n||void 0===n?void 0:n.length)," out of ",D]})]}),(0,k.jsx)("div",{className:"table-footer-right",children:(0,k.jsx)(Z.Z,{spacing:2,className:"pagination-blk",children:(0,k.jsx)(w.Z,{page:h,count:Math.ceil(D/S),onChange:function(e,t){M(t)},variant:"outlined",shape:"rounded"})})})]})]})}},7659:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(2131),i=n(5130),a=n(2791),r=n(5985),l=(n(5462),n(184));var o=function(e){e.titleMessage;var t=e.descriptionMessage,n=e.messageType,o=e.myRef,c=(e.key,function(){(0,r.Am)(d,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),d=function(){return(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===n&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===n&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===n&&(0,l.jsx)(s.Z,{}),"error"===n&&(0,l.jsx)(i.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:t})})]})};return(0,a.useEffect)((function(){o.current=c}),[c,o]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(r.Ix,{className:"toaster-wrap ".concat("success"===n&&"toaster-wrap-success"," ")})]})}},5736:function(e,t,n){n.d(t,{K:function(){return a}});var s=n(4165),i=n(5861),a=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n,i,a,r){var l,o,c,d,u,v,m,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:401==t.response.status?(n({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return i.current()})),setTimeout((function(){a("/login")}),3e3)):403===(null===t||void 0===t||null===(l=t.response)||void 0===l?void 0:l.status)?(n({titleMessage:"Oops!",descriptionMessage:null!==t&&void 0!==t&&null!==(o=t.response)&&void 0!==o&&null!==(c=o.data)&&void 0!==c&&c.message?null===t||void 0===t||null===(d=t.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),setTimeout((function(){a("/home")}),3e3)):(console.log("Else block"),console.log("route = ",r),console.log("erro in else block",t),n({titleMessage:"Oops!",descriptionMessage:null!==t&&void 0!==t&&null!==(v=t.response)&&void 0!==v&&null!==(m=v.data)&&void 0!==m&&m.message?null===t||void 0===t||null===(p=t.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),r&&setTimeout((function(){a(r)}),3e3));case 1:case"end":return e.stop()}}),e)})));return function(t,n,s,i,a){return e.apply(this,arguments)}}()},7806:function(e,t,n){n.d(t,{j:function(){return o}});var s=n(4165),i=n(5861),a=n(4677),r=n(4917),l=n(5736),o=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n,i,o,c,d){var u,v,m,p,h,g,f,b,x,j;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.Y.debug("navigate = ",d),e.prev=1,e.next=4,a.H.get(i?c+i+"/download":c,{responseType:"blob"});case 4:u=e.sent,r.Y.debug("resposne from ".concat(t,"  assessment "),u),v=window.URL.createObjectURL(new Blob([u.data])),(m=document.createElement("a")).href=v,p=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),h=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),g=(new Date).getFullYear().toString(),f=(new Date).getHours(),b=(new Date).getMinutes(),x=(new Date).getSeconds(),j=h+p+g+"_"+f+b+x,m.setAttribute("download","".concat(t," - ").concat(j,".xlsx")),document.body.appendChild(m),m.click(),200==u.status&&n({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return o.current()})),e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(1),r.Y.debug("Error from ".concat(t,"  Assessment"),e.t0),(0,l.K)(e.t0,n,o,d),e.abrupt("return",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,n,s,i,a,r){return e.apply(this,arguments)}}()},2820:function(e,t,n){var s=n(885),i=n(2791);t.Z=function(e){var t=(0,i.useState)(e),n=(0,s.Z)(t,2),a=n[0],r=n[1],l=(0,i.useRef)([]);(0,i.useEffect)((function(){l.current.forEach((function(e){return e(a)})),l.current=[]}),[a]);return[a,function(e,t){r(e),t&&"function"===typeof t&&l.current.push(t)}]}},1260:function(e,t,n){n.d(t,{j:function(){return i}});var s=n(2791),i=function(e){return(0,s.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}},8821:function(e,t,n){var s=n(4836);t.Z=void 0;var i=s(n(5649)),a=n(184),r=(0,i.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.Z=r},1605:function(){}}]);
//# sourceMappingURL=8830.397c2b20.chunk.js.map