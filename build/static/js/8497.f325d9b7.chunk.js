"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8497],{18497:(e,l,a)=>{a.r(l),a.d(l,{default:()=>B});var s=a(73518),i=a(12104),n=a(52898),t=a(88970),d=a(85523),o=a(61419),r=a(45904),c=a(97275),m=a(58406),u=a(63903),v=a(94454),h=a(74569),p=a.n(h),b=a(72791),x=a(61134),g=a(59434),j=a(57689),f=a(11087),y=a(14917),N=a(76218),C=a(94677),w=a(71300),A=a(46363),Z=a(48086),M=a(53073),k=a(27659),S=a(28386),D=a(60868),O=a(16483),R=a(12820),P=a(1260),F=a(80184);const E=["Erin","John","Maria","Rajkumar"];let T={},I=[];const B=()=>{var e,l,a,h,B,_,H,L,U,V,Y,z;(0,P.j)("View Member");const G=(0,j.UO)(),K=["_id","name","email","assessmentCount","createdBy","createdAt","isActive"],[q,J]=(0,b.useState)(1),[Q,W]=(0,b.useState)(10),[X,$]=(0,b.useState)("desc"),[ee,le]=(0,b.useState)(""),[ae,se]=(0,b.useState)([]),[ie,ne]=(0,b.useState)(0),[te,de]=(0,b.useState)([]),[oe,re]=(0,b.useState)(!1),[ce,me]=(0,b.useState)(""),[ue,ve]=(0,b.useState)(["none"]),[he,pe]=(0,b.useState)(""),be=ue.length>1&&ue.length-1===E.length,[xe,ge]=(0,b.useState)(null),[je,fe]=(0,b.useState)(!0),[ye,Ne]=(0,b.useState)(""),[Ce,we]=(0,b.useState)(!1),[Ae,Ze]=(0,b.useState)({status:"none"}),Me=(0,g.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.privilege})),ke=G["*"].includes("pending")?1:0,Se="Super Admin"===(null===Me||void 0===Me?void 0:Me.name);let De=Me?Object.values(null===Me||void 0===Me?void 0:Me.privileges):[],Oe=De.filter((e=>{var l;return"Members"===(null===e||void 0===e||null===(l=e.moduleId)||void 0===l?void 0:l.name)})).map((e=>({member:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete}}))),Re=De.filter((e=>{var l;return"Operation Members"===(null===e||void 0===e||null===(l=e.moduleId)||void 0===l?void 0:l.name)})).map((e=>({operationMember:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}})));Oe.push(...Re);const Pe=e=>{pe(e)};let Fe={};const Ee=b.useRef(),[Te,Ie]=(0,R.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),Be=e=>{var l,a;Ie({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.message&&"string"===typeof e.response.data.message?e.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Ee.current()))},_e=G["*"].includes("pending"),He=(0,j.s0)(),[Le,Ue]=(0,b.useState)(!1),[Ve,Ye]=(0,b.useState)(!1),[ze,Ge]=(0,b.useState)({}),[Ke,qe]=(0,b.useState)([]),[Je,Qe]=(0,b.useState)([]),[We,Xe]=(0,b.useState)([]),[$e,el]=(0,b.useState)([]),[ll,al]=(0,b.useState)([]),{control:sl,reset:il,watch:nl,trigger:tl}=(0,x.cI)({defaultValues:D.Pg}),dl=e=>(e&&e.forEach(((l,a)=>e[a]=l.hasOwnProperty("_id")?l.name:l)),e),ol=async e=>{let l=new AbortController;try{return e&&"N/A"!==e?await p().get(N.rF+"/".concat(e),{signal:l.signal}):[]}catch(a){if("ERR_CANCELED"===(null===a||void 0===a?void 0:a.code))return;return[]}},rl=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments.length>1&&void 0!==arguments[1]||new AbortController;try{var l,a,s,i,n,t,d,o,r,c,m,u,v,h,b,x,g,j,f,C,w,A,Z,M,k,S,D,O,R,P,F,E,T,I,B,_,H,L;const e=await(async()=>{const e=new AbortController;try{if(we(!0),_e)return(await p().get(N.s7+"/".concat(G.id),{signal:e.signal})).data;{const l=await p().get(N.Dl+"/".concat(G.id),{signal:e.signal});return null===l||void 0===l?void 0:l.data}}catch(l){}finally{we(!1)}})();y.Y.info("View member - getMemberId handler"),Ge({...e}),Fe={memberCompany:null!==(l=null===e||void 0===e?void 0:e.companyName)&&void 0!==l?l:"N/A",companyType:null!==(a=null===e||void 0===e?void 0:e.companyType)&&void 0!==a?a:"N/A",parentCompany:null!==(s=null===e||void 0===e?void 0:e.parentCompany)&&void 0!==s?s:"N/A",cgfCategory:null!==(i=null===e||void 0===e?void 0:e.cgfCategory)&&void 0!==i?i:"N/A",cgfActivity:null!==(n=null===e||void 0===e?void 0:e.cgfActivity)&&void 0!==n?n:"N/A",replacedMember:null!==(t=null===e||void 0===e?void 0:e.replacedMember)&&void 0!==t?t:"N/A",corporateEmail:null!==(d=null===e||void 0===e?void 0:e.corporateEmail)&&void 0!==d?d:"N/A",countryCode:null!==(o=null===e||void 0===e?void 0:e.countryCode)&&void 0!==o?o:"N/A",phoneNumber:null!==(r=null===e||void 0===e||null===(c=e.phoneNumber)||void 0===c?void 0:c.toString())&&void 0!==r?r:"N/A",websiteUrl:null!==(m=null===e||void 0===e?void 0:e.website)&&void 0!==m?m:"N/A",region:null!==(u=null===e||void 0===e?void 0:e.region)&&void 0!==u?u:"N/A",country:null!==(v=null===e||void 0===e?void 0:e.country)&&void 0!==v?v:"N/A",state:null!==(h=null===e||void 0===e?void 0:e.state)&&void 0!==h?h:"N/A",city:null!==(b=null===e||void 0===e?void 0:e.city)&&void 0!==b?b:"N/A",address:null!==(x=null===e||void 0===e?void 0:e.address)&&void 0!==x?x:"N/A",cgfOfficeRegion:null!==(g=null===e||void 0===e?void 0:e.cgfOfficeRegion)&&void 0!==g?g:"N/A",cgfOfficeCountry:null!==(j=null===e||void 0===e?void 0:e.cgfOfficeCountry)&&void 0!==j?j:"N/A",cgfOffice:null!==(f=null===e||void 0===e?void 0:e.cgfOffice)&&void 0!==f?f:"N/A",memberContactSalutation:null===e||void 0===e||null===(C=e.memberRepresentativeId)||void 0===C?void 0:C.salutation,memberContactFullName:null!==(w=null===e||void 0===e||null===(A=e.memberRepresentativeId)||void 0===A?void 0:A.name)&&void 0!==w?w:"N/A",title:null!==(Z=null===e||void 0===e||null===(M=e.memberRepresentativeId)||void 0===M?void 0:M.title)&&void 0!==Z?Z:"N/A",department:null!==(k=null===e||void 0===e||null===(S=e.memberRepresentativeId)||void 0===S?void 0:S.department)&&void 0!==k?k:"N/A",memberContactCountryCode:null!==(D=null===e||void 0===e||null===(O=e.memberRepresentativeId)||void 0===O?void 0:O.countryCode)&&void 0!==D?D:"N/A",memberContactEmail:null!==(R=null===e||void 0===e||null===(P=e.memberRepresentativeId)||void 0===P?void 0:P.email)&&void 0!==R?R:"N/A",memberContactPhoneNuber:null!==(F=null===e||void 0===e||null===(E=e.memberRepresentativeId)||void 0===E||null===(T=E.phoneNumber)||void 0===T?void 0:T.toString())&&void 0!==F?F:"N/A",status:null!==e&&void 0!==e&&e.isActive?"active":"inactive",createdBy:null!==(I=null===e||void 0===e||null===(B=e.createdBy)||void 0===B?void 0:B.name)&&void 0!==I?I:"N/A",roleId:null!==(_=null===e||void 0===e||null===(H=e.memberRepresentativeId)||void 0===H||null===(L=H.role)||void 0===L?void 0:L.name)&&void 0!==_?_:"N/A"},il({...Fe}),we(!1)}catch(J){var U,V;if("ERR_CANCELED"===(null===J||void 0===J?void 0:J.code))return;if(y.Y.info("View member - getMemberId handler"),401==(null===J||void 0===J||null===(U=J.response)||void 0===U?void 0:U.status))e&&Ie({titleMessage:"Error",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(()=>Ee.current())),setTimeout((()=>{He("/login")}),3e3);else if(403===(null===J||void 0===J||null===(V=J.response)||void 0===V?void 0:V.status)){var Y,z,K,q;e&&Ie({titleMessage:"Error",descriptionMessage:null!==J&&void 0!==J&&null!==(Y=J.response)&&void 0!==Y&&null!==(z=Y.data)&&void 0!==z&&z.message?null===J||void 0===J||null===(K=J.response)||void 0===K||null===(q=K.data)||void 0===q?void 0:q.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Ee.current())),setTimeout((()=>{He("/home")}),3e3)}else we(!1),e&&Be(J)}},cl=async e=>{y.Y.info("View member - getOperationMemberByMemberId handler");try{let l=(()=>{let e="".concat(N.aB,"/").concat(G.id,"/list?page=").concat(q,"&size=").concat(Q,"&orderBy=").concat(ee,"&order=").concat(X);return(null===ye||void 0===ye?void 0:ye.length)>=3&&(e+="&search=".concat(ye)),"all"!==(null===Ae||void 0===Ae?void 0:Ae.status)&&"none"!==(null===Ae||void 0===Ae?void 0:Ae.status)&&(e+="&status=".concat(Ae.status)),e})();const a=await p().get(l,{signal:e.signal});ne(parseInt(a.headers["x-total-count"])),il({...Fe,totalOperationMembers:parseInt(a.headers["x-total-count"])}),(s=null===a||void 0===a?void 0:a.data).forEach((e=>{var l;delete e.department,delete e.memberId,delete e.operationType,delete e.password,delete e.reportingManager,delete e.roleId,delete e.salt,delete e.salutation,delete e.title,delete e.countryCode,delete e.phoneNumber,delete e.updatedAt,delete e.updatedBy,delete e.isDeleted,delete e.address,delete e.isReplaced,delete e.uuid,delete e.__v,delete e.isMemberRepresentative,delete e.memberRepresentative,delete e.role,delete e.isCGFStaff,delete e.isOperationMember,delete e.replacedUsers,delete e.memberData,e.assessmentCount="".concat(e.assessmentCount),e.createdAt=null===(l=new Date(e.createdAt))||void 0===l?void 0:l.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),"object"===typeof e.createdBy&&(e.createdBy=e.createdBy.name),K.forEach((l=>{const a=e[l];delete e[l],e[l]=a}))})),se([...s])}catch(i){var l,a;if("ERR_CANCELED"===(null===i||void 0===i?void 0:i.code))return;y.Y.info("View member - getOperationMemberByMemberId handler catch error - ".concat(null===i||void 0===i||null===(l=i.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message))}var s},ml=async e=>{try{const l=await C.H.get(e?"".concat(N.Dl,"/").concat(e,"/activesessions/download"):N.aB+"/".concat(G.id,"/list/download"),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([l.data])),s=document.createElement("a");s.href=a;let i=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),n=((new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString())+i+(new Date).getFullYear().toString()+"_"+(new Date).getHours()+(new Date).getMinutes()+(new Date).getSeconds();s.setAttribute("download","Operation members - ".concat(n,".xlsx")),document.body.appendChild(s),s.click(),200==l.status&&Ie({titleMessage:"Success!",descriptionMessage:"Downloaded successfully",messageType:"success"},(()=>Ee.current()))}catch(l){}};return(0,b.useEffect)((()=>{let e=!0;const l=new AbortController;return(async(a,s)=>{0===(null===(a=Object.keys(T))||void 0===a?void 0:a.length)&&(async()=>{T=await(0,D.CP)()})(),0===(null===(s=I)||void 0===s?void 0:s.length)&&(async()=>{I=await(0,D.y_)()})(),e&&je&&await rl(e,l),e&&await async function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new AbortController;try{const l=await p().get(N.od,{signal:e.signal});let a=[];l.data.forEach(((e,l)=>{e.countryCode&&a.push(e.countryCode)}));const s=new Set(a);el([...s])}catch(l){if("ERR_CANCELED"===(null===l||void 0===l?void 0:l.code))return}}(e,l),e&&await async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new AbortController;try{var a;const e=await p().get(N.Up,{signal:l.signal});qe(null!==(a=null===e||void 0===e?void 0:e.data)&&void 0!==a?a:[]);const s=await ol(nl("region")),i=dl(null===s||void 0===s?void 0:s.data);if(i&&Qe([...i]),nl("country")&&"N/A"!==nl("country")){const e=await p().get(N.PO+"/".concat(nl("country")));Xe(e.data)}const n=await ol(nl("cgfOfficeRegion")),t=await dl(n.data);return t&&al([...t]),Ke}catch(r){var s,i;if("ERR_CANCELED"===(null===r||void 0===r?void 0:r.code))return;if(401==(null===r||void 0===r||null===(s=r.response)||void 0===s?void 0:s.status))Ie({titleMessage:"Error",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(()=>Ee.current())),setTimeout((()=>{He("/login")}),3e3);else{if(403!==(null===r||void 0===r||null===(i=r.response)||void 0===i?void 0:i.status))return e&&Be(r),[];var n,t,d,o;Ie({titleMessage:"Error",descriptionMessage:null!==r&&void 0!==r&&null!==(n=r.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.message?null===r||void 0===r||null===(d=r.response)||void 0===d||null===(o=d.data)||void 0===o?void 0:o.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>Ee.current())),setTimeout((()=>{He("/home")}),3e3)}}}(e,l),e&&je&&(_e||await cl(l)),Ke.length>0&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})(),()=>{e=!1,clearTimeout(xe),l.abort()}}),[nl,q,Q,ee,X,je]),(0,F.jsxs)("div",{className:"page-wrapper",onClick:()=>Le&&Ue(!1),children:[(0,F.jsx)(k.Z,{myRef:Ee,titleMessage:Te.titleMessage,descriptionMessage:Te.descriptionMessage,messageType:Te.messageType}),(0,F.jsx)(w.Z,{title:(0,F.jsxs)("p",{children:['Delete Member "',null===ze||void 0===ze?void 0:ze.companyName,'"']}),info1:(0,F.jsx)("p",{children:"Deleting the member will be an irreversible action. All the related details would be lost."}),info2:(0,F.jsxs)("p",{children:["Do you still want to delete ",(0,F.jsx)("b",{children:ze.companyName}),"?"]}),primaryButtonText:"Delete",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:async()=>{try{return await p().delete(N.Dl+"/".concat(G.id)),Ie({titleMessage:"Success",descriptionMessage:"".concat((null===ze||void 0===ze?void 0:ze.companyName)||"Member"," deleted!"),messageType:"success"},(()=>Ee.current())),setTimeout((()=>He("/users/members",{state:ke})),3e3)}catch(t){var e,l,a,s,i,n;if("ERR_CANCELED"===(null===t||void 0===t?void 0:t.code))return;if(null!==t&&void 0!==t&&null!==(e=t.response)&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.hasOwnProperty("activeSessionsCount"))re(!0),me(null===t||void 0===t||null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message),ml(null===t||void 0===t||null===(i=t.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.textFileId);else Be(t)}finally{Ye(!1)}},onSecondaryModalButtonClickHandler:()=>{He("/users/members",{state:ke})},openModal:Ve,setOpenModal:Ye}),(0,F.jsx)(w.Z,{title:(0,F.jsx)("p",{children:"Session Active"}),info1:(0,F.jsx)("p",{children:ce}),primaryButtonText:"Okay",onPrimaryModalButtonClickHandler:()=>re(!1),openModal:oe,setOpenModal:re}),(0,F.jsx)("div",{className:"breadcrumb-wrapper",children:(0,F.jsx)("div",{className:"container",children:(0,F.jsxs)("ul",{className:"breadcrumb",children:[(0,F.jsx)("li",{children:(0,F.jsxs)(f.rU,{to:"/users/members",state:G["*"].includes("pending")?1:0,children:["Members"," ",G["*"].includes("pending")?"(Pending)":"(Onboarded)"]})}),(0,F.jsx)("li",{children:"View Member"})]})})}),(0,F.jsx)("section",{children:(0,F.jsxs)("div",{className:"container",children:[(0,F.jsxs)("div",{className:"form-header flex-between",children:[(0,F.jsx)("h2",{className:"heading2",children:"View Member"}),(0,F.jsxs)("span",{className:"form-header-right-txt",onClick:()=>{Ue(!Le)},children:[(!0===Se||(null===(e=Oe[0])||void 0===e?void 0:e.member.edit)||(null===(l=Oe[0])||void 0===l?void 0:l.member.delete))&&(0,F.jsx)("span",{className:"crud-operation ".concat(Le&&"crud-operation-active"),children:(0,F.jsx)(n.Z,{})}),(0,F.jsx)("div",{className:"crud-toggle-wrap",style:{display:Le?"block":"none"},children:(0,F.jsxs)("ul",{className:"crud-toggle-list",children:[(0,F.jsx)("li",{hidden:!Se&&!(null!==(a=Oe[0])&&void 0!==a&&a.member.edit),onClick:()=>{He(_e?"/users/members/edit-member/pending/".concat(G.id):"/users/members/edit-member/".concat(G.id))},children:"Edit"}),_e&&Object.keys(null!==(h=null===ze||void 0===ze?void 0:ze.memberRepresentativeId)&&void 0!==h?h:{}).length>0&&(0,F.jsx)("li",{onClick:()=>{var e,l;(0,O.F)(null!==(e=null===ze||void 0===ze||null===(l=ze.memberRepresentativeId)||void 0===l?void 0:l.inviteId)&&void 0!==e?e:"",Ie,Ee,He)},children:"Re-Invite"}),(0,F.jsx)("li",{hidden:!Se&&!(null!==(B=Oe[0])&&void 0!==B&&B.member.delete),onClick:()=>Ye(!0),children:"Delete"})]})})]})]}),Ce?(0,F.jsx)(S.Z,{}):(0,F.jsxs)("div",{className:"card-wrapper",children:[(0,F.jsxs)("div",{className:"card-inner-wrap",children:[(0,F.jsx)("h2",{className:"sub-heading1",children:"Company Details"}),(0,F.jsxs)("div",{className:"card-blk flex-between",children:[(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"memberCompany",children:["Member Company ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"memberCompany",placeholder:"Enter member company"})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"companyType",children:["Company Type ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)("div",{className:"radio-btn-field",children:(0,F.jsxs)(t.Z,{value:null!==(_=null===ze||void 0===ze?void 0:ze.companyType)&&void 0!==_?_:"","aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",className:"radio-btn",children:[(0,F.jsx)(d.Z,{disabled:!0,value:"Partner",control:(0,F.jsx)(o.Z,{}),label:"Partner"}),(0,F.jsx)(d.Z,{disabled:!0,value:"Member",control:(0,F.jsx)(o.Z,{}),label:"Member"})]})})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"parentCompany",children:"Parent Company"}),(0,F.jsx)(r.Z,{disabled:!0,className:"searchable-input",value:null!==(H=null===ze||void 0===ze?void 0:ze.parentCompany)&&void 0!==H?H:"N/A",selectOnFocus:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:["Google","MicroSoft","Nike","Adobe","Falcon","Apple","TSMC","Relience","Adani","Ford","Uber","wishtree"],renderOption:(e,l)=>(0,F.jsx)("li",{...e,children:l}),freeSolo:!0,renderInput:e=>(0,F.jsx)(c.Z,{...e,placeholder:"N/A"})})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"cgfCategory",children:["CGF Category ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(A.Z,{isDisabled:!0,control:sl,name:"cgfCategory",placeholder:"N/A",options:(null===(L=Object.keys(T))||void 0===L?void 0:L.length)>0&&Object.keys(T)})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"cgfActivity",children:["CGF Activity ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"cgfActivity",placeholder:"N/A"})]})}),_e||(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"status",children:["Status ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)("div",{className:"radio-btn-field",children:(0,F.jsxs)(t.Z,{value:null!==ze&&void 0!==ze&&ze.isActive?"active":"inactive","aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",className:"radio-btn",children:[(0,F.jsx)(d.Z,{disabled:!0,value:"active",control:(0,F.jsx)(o.Z,{}),label:"Active"}),(0,F.jsx)(d.Z,{disabled:!0,value:"inactive",control:(0,F.jsx)(o.Z,{}),label:"Inactive"})]})})]})})]})]}),(0,F.jsxs)("div",{className:"card-inner-wrap",children:[(0,F.jsx)("h2",{className:"sub-heading1",children:"Company Address Details"}),(0,F.jsxs)("div",{className:"flex-between card-blk",children:[(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"region",children:"Region "}),(0,F.jsx)(A.Z,{isDisabled:!0,control:sl,name:"region",placeholder:"N/A",options:Ke})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"country",children:"Country "}),(0,F.jsx)(A.Z,{isDisabled:!0,control:sl,name:"country",placeholder:"N/A",myHelper:{},options:Je})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"state",children:"State"}),(0,F.jsx)(A.Z,{isDisabled:!0,control:sl,name:"state",placeholder:"N/A",options:We})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"city",children:"City"}),(0,F.jsx)(r.Z,{disabled:!0,className:"searchable-input",handleHomeEndKeys:!0,value:null!==(U=null===ze||void 0===ze?void 0:ze.city)&&void 0!==U?U:"",id:"free-solo-with-text-demo",options:["Mumbai","Paris","London","New york","Sydney","Melbourne","Perth","Toronto","Vancour","Texas","Delhi","Tokyo"],getOptionLabel:e=>{if("string"===typeof e)return e},renderOption:(e,l)=>(0,F.jsx)("li",{...e,children:l}),freeSolo:!0,renderInput:e=>(0,F.jsx)(c.Z,{...e,placeholder:"N/A"})})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"address",children:"Address "}),(0,F.jsx)(c.Z,{disabled:!0,multiline:!0,value:null!==ze&&void 0!==ze&&ze.address?ze.address:"",inputProps:{maxLength:250},className:"input-textarea",id:"outlined-basic",placeholder:"N/A",variant:"outlined",helperText:" "})]})})]})]}),(0,F.jsxs)("div",{className:"card-inner-wrap ".concat(_e||"pening-margin-bottom"),children:[(0,F.jsx)("h2",{className:"sub-heading1",children:"Representative Contact Details"}),(0,F.jsxs)("div",{className:"flex-between card-blk",children:[(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsx)("div",{className:"form-group",children:(0,F.jsxs)("div",{className:"salutation-wrap",children:[(0,F.jsxs)("div",{className:"salutation-blk",children:[(0,F.jsxs)("label",{htmlFor:"memberContactSalutation",children:["Salutation ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(A.Z,{isDisabled:!0,control:sl,name:"memberContactSalutation",placeholder:"N/A",options:["Mr.","Mrs.","Ms."]})]}),(0,F.jsxs)("div",{className:"salutation-inputblk",children:[(0,F.jsxs)("label",{htmlFor:"memberContactFullName",children:["Full Name ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"memberContactFullName",placeholder:"N/A"})]})]})})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"title",children:"Job Title"}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"title",placeholder:"N/A"})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"department",children:"Department"}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"department",placeholder:"N/A"})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"memberContactEmail",children:["Email ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"memberContactEmail",placeholder:"N/A"})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsx)("label",{htmlFor:"memberContactPhoneNumber",children:"Phone Number"}),(0,F.jsxs)("div",{className:"phone-number-field",children:[(0,F.jsx)("div",{className:"select-field country-code",children:(0,F.jsx)(r.Z,{disabled:!0,popupIcon:(0,F.jsx)(i.Z,{}),className:"phone-number-disable",readOnly:!0,value:null!==ze&&void 0!==ze&&ze.memberRepresentativeId?null===ze||void 0===ze||null===(V=ze.memberRepresentativeId)||void 0===V?void 0:V.countryCode:"",options:$e,autoHighlight:!0,placeholder:"Select country code",renderOption:(e,l)=>(0,F.jsx)("li",{...e,children:l}),renderInput:e=>(0,F.jsx)(c.Z,{...e,inputProps:{...e.inputProps},onChange:()=>tl("memberContactPhoneNuber"),placeholder:"N/A"})})}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"memberContactPhoneNuber",placeholder:"N/A"})]})]})}),_e||(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"totalOperationMembers",children:["Total Operation Member"," ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"totalOperationMembers",placeholder:"0"})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"createdBy",children:["Created By ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"createdBy",placeholder:"N/A"})]})}),(0,F.jsx)("div",{className:"card-form-field",children:(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{htmlFor:"role",children:["Role ",(0,F.jsx)("span",{className:"mandatory",children:"*"})]}),(0,F.jsx)("div",{children:(0,F.jsx)(Z.Z,{isDisabled:!0,control:sl,name:"roleId",placeholder:"N/A"})})]})})]})]}),_e||(0,F.jsxs)("div",{className:"form-header member-form-header flex-between mb-10",children:[(0,F.jsx)("div",{className:"operation-member-left-blk",children:(0,F.jsxs)("div",{className:"searchbar",children:[(0,F.jsx)("input",{type:"text",value:ye,name:"search",placeholder:"Search",onKeyDown:e=>{"Enter"===e.key&&(fe(!0),J(1))},onChange:e=>{xe&&clearTimeout(xe),fe(!1),Ne(e.target.value),ge(setTimeout((()=>{fe(!0),J(1)}),1e3))}}),(0,F.jsx)("button",{type:"submit",children:(0,F.jsx)("i",{className:"fa fa-search"})})]})}),(0,F.jsxs)("div",{className:"form-header-right-txt",children:[(0,F.jsxs)("div",{className:"tertiary-btn-blk mr-20",onClick:()=>ml(),children:[(0,F.jsx)("span",{className:"download-icon",children:(0,F.jsx)(s.Z,{})}),"Download"]}),(0,F.jsx)("div",{className:"form-btn",hidden:!0!==Se&&!(null!==(Y=Oe[1])&&void 0!==Y&&null!==(z=Y.operationMember)&&void 0!==z&&z.add),children:(0,F.jsx)("button",{type:"submit",className:"primary-button add-button",onClick:()=>He("/users/operation-members/add-operation-member"),children:"Add Operation Member"})})]})]}),_e||(0,F.jsx)("div",{className:"member-filter-sect",children:(0,F.jsxs)("div",{className:"member-filter-wrap flex-between",children:[(0,F.jsx)("div",{className:"member-filter-left"}),(0,F.jsx)("div",{className:"member-filter-right",children:(0,F.jsxs)("div",{className:"filter-select-wrap flex-between",children:[(0,F.jsx)("div",{className:"filter-select-field",children:(0,F.jsx)("div",{className:"dropdown-field",children:(0,F.jsxs)(m.Z,{sx:{display:"none"},name:"createdBy",multiple:!0,value:ue,onChange:e=>{const{value:l}=e.target;if(""===l[l.length-1])return ue.length-1===E.length?ve(["none"]):ve(["none",...E]);ve([...l])},onFocus:e=>Pe("createdBy"),renderValue:e=>ue.length>1?e.slice(1).join(", "):"Created By",children:[(0,F.jsx)(u.Z,{value:"none",sx:{display:"createdBy"===he&&"none"},children:"Created By"}),(0,F.jsxs)(u.Z,{value:"",children:[(0,F.jsx)(v.Z,{className:"table-checkbox",checked:be,indeterminate:ue.length>1&&ue.length-1<E.length}),"Select All"]}),E.map((e=>(0,F.jsxs)(u.Z,{value:e,children:[(0,F.jsx)(v.Z,{className:"table-checkbox",checked:ue.indexOf(e)>-1}),e]},e)))]})})}),(0,F.jsx)("div",{className:"filter-select-field",children:(0,F.jsx)("div",{className:"dropdown-field",children:(0,F.jsxs)(m.Z,{sx:{display:"none"},name:"status",value:Ae.status,onChange:e=>{const{name:l,value:a}=e.target;Ze({...Ae,[l]:a})},onFocus:e=>Pe("status"),children:[(0,F.jsx)(u.Z,{value:"none",sx:{display:"status"===he&&"none"},children:"Status"}),(0,F.jsx)(u.Z,{value:"active",children:"Active"}),(0,F.jsx)(u.Z,{value:"inactive",children:"Inactive"})]})})})]})})]})}),_e||(0,F.jsx)("div",{className:"member-info-wrapper table-content-wrap",children:(0,F.jsx)(M.Z,{tableHead:[{id:"name",disablePadding:!1,label:"Operation Member"},{id:"email",disablePadding:!1,label:"Email"},{id:"assessmentCount",disablePadding:!1,label:"Assessment"},{id:"createdBy",disablePadding:!1,label:"Created By"},{id:"createdAt",disablePadding:!1,label:"Onboarded on"},{id:"is Active",disablePadding:!1,label:"Status"}],records:ae,handleChangePage1:e=>{J(e)},handleChangeRowsPerPage1:e=>{W(parseInt(e.target.value,10)),J(1)},page:q,rowsPerPage:Q,selected:te,setSelected:de,totalRecords:ie,orderBy:ee,onClickVisibilityIconHandler1:e=>He("/users/operation-member/view-operation-member/".concat(e)),order:X,setOrder:$,setOrderBy:le,setCheckBoxes:!1,onRowClick:!0})})]})]})})]})}},48086:(e,l,a)=>{a.d(l,{Z:()=>t});var s=a(97275),i=(a(72791),a(61134)),n=a(80184);const t=e=>{let{control:l,name:a,myHelper:t,placeholder:d,myOnChange:o,rules:r,onBlur:c,multiline:m,isDisabled:u}=e;const{field:{onChange:v,value:h,ref:p},fieldState:{error:b}}=(0,i.bc)({name:a,control:l,rules:r,defaultValue:""});return(0,n.jsx)(s.Z,{disabled:u,className:"input-field ".concat(b&&"input-error"),placeholder:d,onChange:o||v,onBlur:c,value:h,inputRef:p,inputProps:{maxLength:(null===r||void 0===r?void 0:r.maxLength)&&r.maxLength},helperText:b?t&&t[a]&&t[a][b.type]?t[a][b.type]:"Invalid Input":" ",variant:"outlined"})}},53073:(e,l,a)=>{a.d(l,{Z:()=>Z});var s=a(7195),i=a(59140),n=a(77194),t=a(697),d=a(94454),o=a(35527),r=a(79836),c=a(53382),m=a(53994),u=a(39281),v=a(56890),h=a(35855),p=a(80720),b=(a(72791),a(50922)),x=a(61419),g=a(96816),j=(a(14917),a(20068)),f=a(58406),y=a(63903),N=a(53767),C=a(57246),w=(a(71605),a(80184));function A(e){const{onSelectAllClick:l,order:a,orderBy:s,tableHead:i,numSelected:n,rowCount:t,onRequestSort:o,setCheckBoxes:r}=e;return(0,w.jsx)(v.Z,{children:(0,w.jsxs)(h.Z,{children:[r&&(0,w.jsx)(m.Z,{padding:"checkbox",className:"table-checkbox",children:(0,w.jsx)(d.Z,{color:"primary",indeterminate:n>0&&n<t,checked:t>0&&n===t,onChange:l,inputProps:{"aria-label":"select all desserts"},className:"checkbox-mui"})}),i.map((e=>{return(0,w.jsxs)(m.Z,{width:null===e||void 0===e?void 0:e.width,align:"left",padding:e.disablePadding?"none":"normal",className:"table-header",children:["action"!==e.id&&(0,w.jsx)(p.Z,{active:s===e.id,direction:s===e.id?a:"asc",onClick:(l=e.id,e=>{o(e,l)}),className:"sorted-blk",children:e.label}),"action"===e.id&&(0,w.jsx)("span",{className:"sorted-blk",children:e.label})]},e.id);var l}))]})})}function Z(e){let{tableHead:l,records:a,page:v=1,rowsPerPage:p=10,handleChangeRowsPerPage1:Z,handleChangePage1:M,totalRecords:k,orderBy:S,setOrderBy:D,icons:O,onClickVisibilityIconHandler1:R,onClickDeleteIconHandler1:P,selected:F=[],setSelected:E,order:T="asc",setOrder:I,setCheckBoxes:B=!0,setSingleSelect:_=!1,handleSingleUserSelect:H,selectedUser:L,onRowClick:U=!1,isQuestionnare:V=!1,onClickEditAssesmentFunction:Y,onClickAssignAssesmentFunction:z,onClickFillAssessmentFunction:G,viewAssessment:K=!1,onClickActionPlanDownload:q}=e;console.log("icons - ",O);const J=(e,l)=>{R(e,l||!1)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(t.Z,{sx:{width:"100%"},className:B?"table-blk":"table-blk table-blk-without-checkbox",children:(0,w.jsx)(o.Z,{sx:{width:"100%",mb:2},children:(0,w.jsx)(u.Z,{children:(0,w.jsxs)(r.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,w.jsx)(A,{numSelected:F.length,order:T,orderBy:S,tableHead:l,onSelectAllClick:e=>{if(e.target.checked){const e=a.map((e=>e._id));E(e)}else E([])},onRequestSort:(e,l)=>{I(S===l&&"asc"===T?"desc":"asc"),D(l)},rowCount:a.length,setCheckBoxes:B}),(null===a||void 0===a?void 0:a.length)>0?(0,w.jsx)(c.Z,{children:a.map(((e,l)=>{const a=(t=e._id,-1!==F.indexOf(t));var t;const o="enhanced-table-checkbox-".concat(l);return(0,w.jsxs)(h.Z,{hover:!0,onClick:()=>U&&J(V?e.uuid:e._id,(null===e||void 0===e?void 0:e.isOperationMember)||(null===e||void 0===e?void 0:e.isMemberRepresentative)),style:{cursor:U&&"pointer"},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[B&&(0,w.jsx)(m.Z,{padding:"checkbox",children:(0,w.jsx)(d.Z,{className:"table-checkbox",color:"primary",onClick:l=>((e,l)=>{const a=F.indexOf(l);let s=[];-1===a?s=s.concat(F,l):0===a?s=s.concat(F.slice(1)):a===F.length-1?s=s.concat(F.slice(0,-1)):a>0&&(s=s.concat(F.slice(0,a),F.slice(a+1))),E(s)})(0,e._id),checked:a,inputProps:{"aria-labelledby":o}})}),_&&(0,w.jsx)(m.Z,{children:(0,w.jsx)("div",{className:"radio-btn-field",children:(0,w.jsx)(x.Z,{className:"radio-btn",color:"primary",value:e._id,onChange:()=>(e=>{H(e)})(e._id),checked:L==e._id,inputProps:{"aria-labelledby":o}})})}),Object.keys(e).map(((l,a)=>{var s,i,n,t,d,o;return"_id"!==l&&"uuid"!==l&&"isActive"!==l&&"isUserAuthorizedToFillAssessment"!==l&&"isOperationMember"!==l&&"isMemberRepresentative"!==l&&"dueDate"!==l?(null===(s=e[l])||void 0===s?void 0:s.length)<=28||"undefined"===typeof e[l]?(0,w.jsxs)(m.Z,{children:[" ",("undefined"===typeof e[l]||""===e[l])&&"N/A","string"===typeof e[l]&&(null===(i=e[l])||void 0===i?void 0:i.length)>0&&"email"!==l?e[l][0].toUpperCase()+(null===(n=e[l])||void 0===n?void 0:n.slice(1)):e[l]]},l):(0,w.jsx)(j.Z,{placement:"bottom-start",enterDelay:1e3,title:e[l],children:(0,w.jsx)(m.Z,{children:"string"===typeof e[l]&&"email"!==l?e[l][0].toUpperCase()+"".concat(null===(t=e[l])||void 0===t?void 0:t.slice(1,28),"..."):"".concat(null===(d=e[l])||void 0===d?void 0:d.slice(0,28),"...")},l)},l):"isActive"===l?(0,w.jsx)(m.Z,{className:"button-style ".concat(e[l]&&"button-style-success"),children:(0,w.jsx)("span",{children:e[l]?"Active":"Inactive"})},l):"dueDate"===l?(0,w.jsx)(m.Z,{className:"due-date-style ".concat(new Date(new Date(e[l]).toLocaleDateString("en")).getTime()>=new Date((new Date).toLocaleDateString("en")).getTime()&&"due-date-style-success"),children:(0,w.jsx)("span",{children:null!==(o=e[l])&&void 0!==o?o:e[l]})},l):void 0})),(null===O||void 0===O?void 0:O.length)>0&&(0,w.jsxs)(m.Z,{children:[O.includes("visibility")&&(0,w.jsx)("span",{className:"icon",children:(0,w.jsx)(j.Z,{title:"View Assessment",children:(0,w.jsx)(n.Z,{onClick:()=>J(K?e.uuid:e._id)})})}),O.includes("delete")&&(0,w.jsx)("span",{className:"icon",children:(0,w.jsx)(j.Z,{title:"Delete",children:(0,w.jsx)("img",{src:"/images/delete-icon.svg",onClick:()=>(e=>{P(e)})(e._id)})})}),O.includes("edit")&&(0,w.jsx)("span",{className:"icon",children:(0,w.jsx)(j.Z,{title:"Edit",children:(0,w.jsx)(s.Z,{onClick:()=>{return l=e.uuid,void Y(l);var l}})})}),O.includes("send")&&("In Progress"==(null===e||void 0===e?void 0:e.assessmentStatus)||"Re-opened"==(null===e||void 0===e?void 0:e.assessmentStatus)||"Accepted"==(null===e||void 0===e?void 0:e.assessmentStatus))&&e.isUserAuthorizedToFillAssessment&&(0,w.jsx)("span",{className:"icon",children:(0,w.jsx)(j.Z,{title:"Assign to Operation Member",children:(0,w.jsx)(b.Z,{onClick:()=>z(e.uuid)})})}),O.includes("fill")&&e.isUserAuthorizedToFillAssessment&&(0,w.jsx)("span",{className:"icon",children:(0,w.jsx)(j.Z,{title:"Fill Assessment",children:(0,w.jsx)(i.Z,{onClick:()=>{return l=e.uuid,void G(l);var l}})})}),O.includes("download")&&(0,w.jsx)("span",{className:"icon",children:(0,w.jsx)(j.Z,{title:"Action plan",children:(0,w.jsx)(g.Z,{onClick:()=>{return l=e.uuid,void q(l);var l}})})})]})]},null===e||void 0===e?void 0:e._id)}))}):(0,w.jsx)(c.Z,{children:(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:"10",children:(0,w.jsx)("div",{className:"no-records-blk",children:(0,w.jsx)("h2",{className:"heading2",children:"No records available"})})})})})]})})})}),(null===a||void 0===a?void 0:a.length)>0&&(0,w.jsxs)("div",{className:"table-footer flex-between",children:[(0,w.jsxs)("div",{className:"table-footer-left",children:[(0,w.jsxs)("div",{className:"per-page-blk",children:[(0,w.jsx)("span",{className:"per-page-txt",children:"Records"}),(0,w.jsx)("div",{className:"per-page-dropdown",children:(0,w.jsx)("div",{className:"per-page-select-field",children:(0,w.jsxs)(f.Z,{value:p,onChange:e=>{Z(e)},children:[(0,w.jsx)(y.Z,{value:"5",children:"05"}),(0,w.jsx)(y.Z,{value:"10",selected:!0,children:"10"}),(0,w.jsx)(y.Z,{value:"20",children:"20"})]})})})]}),(0,w.jsxs)("div",{className:"show-entries-txt",children:["showing ",(v-1)*p+1,"-",(v-1)*p+(null===a||void 0===a?void 0:a.length)," out of ",k]})]}),(0,w.jsx)("div",{className:"table-footer-right",children:(0,w.jsx)(N.Z,{spacing:2,className:"pagination-blk",children:(0,w.jsx)(C.Z,{page:v,count:Math.ceil(k/p),onChange:(e,l)=>{M(l)},variant:"outlined",shape:"rounded"})})})]})]})}},60868:(e,l,a)=>{a.d(l,{CP:()=>o,Pg:()=>c,y_:()=>r});var s=a(74569),i=a.n(s),n=a(76218),t=a(14917);let d={};const o=async()=>{try{const e=await i().get(n.aA);return t.Y.info("Member module util- getCategories handler"),(null===e||void 0===e?void 0:e.data).forEach((e=>{d[e.categoryName]=e.activities})),d}catch(a){var e,l;t.Y.info("Member module util- getCategories handler ".concat(null===a||void 0===a||null===(e=a.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message))}},r=async()=>{try{const e=await i().get(n.mB);return t.Y.info("Member module util- getCGFOffices handler"),null===e||void 0===e?void 0:e.data}catch(a){var e,l;t.Y.info("Member module util- getCGFOffices handler catch error".concat(null===a||void 0===a||null===(e=a.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message))}},c={memberCompany:"",companyType:"Partner",parentCompany:"",cgfCategory:"Manufacturer",cgfActivity:"",replacedMember:"",corporateEmail:"",countryCode:"",phoneNumber:"",websiteUrl:"",region:"",country:"",state:"",city:"",address:"",cgfOfficeRegion:"",cgfOfficeCountry:"",cgfOffice:"",memberContactSalutation:"Mr.",memberContactFullName:"",title:"",department:"",memberContactCountryCode:"",memberContactEmail:"",memberContactPhoneNuber:"",totalOperationMembers:"",createdBy:"",roleId:"",status:"active"}},73518:(e,l,a)=>{var s=a(64836);l.Z=void 0;var i=s(a(45649)),n=a(80184),t=(0,i.default)((0,n.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");l.Z=t},71605:()=>{}}]);
//# sourceMappingURL=8497.f325d9b7.chunk.js.map