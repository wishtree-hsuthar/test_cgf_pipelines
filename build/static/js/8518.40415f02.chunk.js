"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[8518],{8518:(e,i,l)=>{l.r(i),l.d(i,{default:()=>de});var n=l(72791),s=l(97275),o=l(68096),t=l(58406),d=l(63903),a=l(47071),r=l(697),c=l(25228),u=l(20068),v=l(43896),m=l(77194),p=l(12104),h=l(94677),x=l(76218),j=l(57689),b=l(71300),g=l(54261),f=l(94454),N=l(61419),y=l(79012),T=l(53767),k=l(20890),q=l(14917),Z=l(29823),w=l(66934),C=l(9955);const E=(0,w.ZP)(C.Z)((e=>{let{theme:i}=e;return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===i.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:i.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"dark"===i.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}}));var M=l(80184);const S=e=>{let{question:i,questionIdx:l,questionnaire:r,setQuestionnaire:c,sectionIndex:v,questionsLength:m,err:h,setErr:x}=e,j={uuid:(0,g.Z)(),questionTitle:"",srNo:1,inputType:"singleTextbox",validation:"",isRequired:!0,options:["",""]};const b=[{_id:"checkbox",name:"Checkbox"},{_id:"date",name:"Date"},{_id:"dropdown",name:"Drop down"},{_id:"radioGroup",name:"Radio group"},{_id:"singleTextbox",name:"Single text box"},{_id:"textarea",name:"Text area"}],q=[{_id:"alphabets",name:"Alphabets"},{_id:"alphanumeric",name:"Alphanumeric"},{_id:"numeric",name:"Numeric"}],w={PaperProps:{style:{maxHeight:168}}},C=(e,i)=>{const{name:l,value:n}=e.target;let s={...r};s.sections[v].questions[i][l]=n,c(s)};(0,n.useEffect)((()=>()=>{}),[h]);const S=e=>{let{children:i}=e;return(0,M.jsx)("div",{className:"select-placeholder",children:i})},I=e=>{let i=r.sections[v].questions.filter((i=>i.questionTitle===e));return i.length>1};return(0,M.jsx)("div",{className:"que-card-blk ".concat(l+1===m&&"active"),children:(0,M.jsxs)("div",{className:"que-form-blk",children:[(0,M.jsxs)("div",{className:"que-card-innerblk flex-between",children:[(0,M.jsx)("div",{className:"que-card-form-leftfield",children:(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"questionTitle",children:["Question ","".concat(l+1)," Title"," ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:"input-field ".concat(null!==i&&void 0!==i&&i.questionTitle||!(null===h||void 0===h?void 0:h.questionTitle)?I(null===i||void 0===i?void 0:i.questionTitle)&&(null===h||void 0===h?void 0:h.questionTitle)&&"input-error":"input-error"," "),placeholder:"Enter question title",name:"questionTitle",value:null===i||void 0===i?void 0:i.questionTitle,helperText:null!==i&&void 0!==i&&i.questionTitle||null===h||void 0===h||!h.questionTitle?I(null===i||void 0===i?void 0:i.questionTitle)&&null!==h&&void 0!==h&&h.questionTitle?"Question title already in use.":" ":"Enter the question title",onChange:e=>C(e,l),onBlur:e=>((e,i)=>{const{name:l,value:n}=e.target;let s={...r};s.sections[v].questions[i][l]=null===n||void 0===n?void 0:n.trim(),c(s)})(e,l)})]})}),(0,M.jsxs)("div",{className:"que-card-form-rightfield flex-between",children:[(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"inputField",children:["Input Type ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsxs)(o.Z,{className:"fullwidth-field",children:[(0,M.jsx)("div",{className:"select-field",children:(0,M.jsx)(t.Z,{MenuProps:w,placeholder:"Select Input type",IconComponent:e=>(0,M.jsx)(p.Z,{...e}),name:"inputType",value:null===i||void 0===i?void 0:i.inputType,onChange:e=>((e,i)=>{const{name:l,value:n}=e.target;let s={...r};s.sections[v].questions[i][l]=n,s.sections[v].questions[i].validation="",c(s)})(e,l),children:b&&b.map((e=>(0,M.jsx)(d.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))})}),(0,M.jsx)(a.Z,{children:" "})]})]}),(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsx)("label",{htmlFor:"inputField",children:"Validation"}),(0,M.jsx)(o.Z,{className:"fullwidth-field",children:(0,M.jsx)("div",{className:"select-field",children:(0,M.jsx)(t.Z,{disabled:"singleTextbox"!==i.inputType&&"textarea"!==i.inputType,renderValue:""!==(null===i||void 0===i?void 0:i.validation)?void 0:()=>(0,M.jsx)(S,{children:"Select validation"}),placeholder:"Select Input validation",displayEmpty:!0,IconComponent:e=>(0,M.jsx)(p.Z,{...e}),name:"validation",value:null===i||void 0===i?void 0:i.validation,onChange:e=>C(e,l),children:q&&q.map((e=>(0,M.jsx)(d.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))})})})]})]})]}),["dropdown","checkbox","radioGroup"].includes(null===i||void 0===i?void 0:i.inputType)&&i.options.map(((e,n)=>{var o;return(0,M.jsx)("div",{className:"que-card-innerblk",children:(0,M.jsxs)("div",{className:"que-card-input-type-wrapper",children:[(0,M.jsx)("div",{className:"que-card-form-leftfield",children:(0,M.jsx)("div",{className:"que-checkbox-sect",children:(0,M.jsxs)("div",{className:"que-checkbox-wrap",children:[(0,M.jsx)("div",{className:"que-checkbox-blk ".concat(("dropdown"===(null===i||void 0===i?void 0:i.inputType)?"que-dropdown-blk":"checkbox"===(null===i||void 0===i?void 0:i.inputType)&&"que-checkbox-option")||"radioGroup"===(null===i||void 0===i?void 0:i.inputType)&&"que-radio-option"),children:(0,M.jsx)(s.Z,{name:"options",value:e,onChange:e=>((e,i,l)=>{let n={...r};n.sections[v].questions[i].options[l]=e.target.value,c(n)})(e,l,n),onBlur:e=>((e,i,l)=>{var n;let s={...r};s.sections[v].questions[i].options[l]=null===(n=e.target.value)||void 0===n?void 0:n.trim(),c(s)})(e,l,n),className:2!==(null===i||void 0===i?void 0:i.options.length)?"input-field que-input-type adddropdown ".concat((null===h||void 0===h?void 0:h.option)&&!e&&"input-error"):"input-field que-input-type ".concat((null===h||void 0===h?void 0:h.option)&&!e&&"input-error"),helperText:null!==h&&void 0!==h&&h.option&&!e?"Enter the option value":" ",id:"outlined-basic",placeholder:"Enter option value",variant:"outlined"})}),"checkbox"===(null===i||void 0===i?void 0:i.inputType)&&(0,M.jsx)(f.Z,{className:"que-checkbox",checked:!1}),"radioGroup"===(null===i||void 0===i?void 0:i.inputType)&&(0,M.jsx)(N.Z,{className:"radio-btn que-radio-btn",color:"primary",checked:!1}),2!==(null===i||void 0===i?void 0:i.options.length)&&(0,M.jsx)("div",{className:"que-input-type-close",onClick:e=>((e,i,l)=>{var n,s,o;let t={...r};null===t||void 0===t||null===(n=t.sections[v])||void 0===n||null===(s=n.questions[i])||void 0===s||null===(o=s.options)||void 0===o||o.splice(l,1),c(t)})(0,l,n),children:(0,M.jsx)(Z.Z,{})})]})})}),(0,M.jsx)("div",{className:"que-card-form-rightfield add-option-blk",children:n+1===(null===i||void 0===i||null===(o=i.options)||void 0===o?void 0:o.length)&&(0,M.jsxs)("div",{className:"tertiary-btn-blk",onClick:()=>(e=>{let i={...r};i.sections[v].questions[e].options.push(""),c(i)})(l),children:[(0,M.jsx)("span",{className:"addmore-icon",children:(0,M.jsx)("i",{className:"fa fa-plus"})}),(0,M.jsx)("span",{className:"addmore-txt",children:"Add Option..."})]})})]})},n)})),(0,M.jsx)("div",{className:"que-card-icon-sect",children:(0,M.jsxs)("div",{className:"que-card-icon-blk",children:[l===m-1&&(0,M.jsx)("div",{className:"que-card-icon add-que-iconblk mr-40",children:(0,M.jsx)(u.Z,{title:"Add Question",children:(0,M.jsx)("img",{onClick:()=>{let e={...r};e.sections[v].questions.push({...j}),c(e)},src:"/images/add-question-icon.svg",alt:""})})}),1!==m&&(0,M.jsx)("div",{className:"que-card-icon delete-iconblk mr-40",children:(0,M.jsx)(u.Z,{title:"Delete Question",children:(0,M.jsx)("img",{onClick:()=>((e,i)=>{var l;let n={...r},s=null===n||void 0===n||null===(l=n.sections[v])||void 0===l?void 0:l.questions.filter((i=>i.uuid!==e));n.sections[v].questions=[...s],c(n)})(null===i||void 0===i?void 0:i.uuid),src:"/images/delete-icon.svg",alt:""})})}),(0,M.jsx)("div",{className:"required-toggle-btnblk",children:(0,M.jsx)(y.Z,{children:(0,M.jsxs)(T.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,M.jsx)(k.Z,{children:"Required"}),(0,M.jsx)(E,{checked:i.isRequired,onChange:e=>((e,i,l)=>{let n={...r};n.sections[i].questions[l].isRequired=e.target.checked,c(n)})(e,v,l),inputProps:{"aria-label":"controlled"}})]})})})]})})]})},null===i||void 0===i?void 0:i.uuid)},I=((0,g.Z)(),(0,g.Z)(),(0,g.Z)(),e=>{var i,l;let{sectionIndex:n,questionnaire:s,setQuestionnaire:o,err:t,setErr:d,questionTitleList:a,setQuestionTitleList:r}=e;return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"que-form-card-wrapper",children:[(0,M.jsx)("div",{className:"drag-drop-box"}),s&&(null===s||void 0===s||null===(i=s.sections[n])||void 0===i||null===(l=i.questions)||void 0===l?void 0:l.map(((e,i)=>{var l,c;return(0,M.jsx)(S,{question:e,questionsLength:null===s||void 0===s||null===(l=s.sections[n])||void 0===l||null===(c=l.questions)||void 0===c?void 0:c.length,questionIdx:i,questionnaire:s,setQuestionnaire:o,sectionIndex:n,err:t,setErr:d,questionTitleList:a,setQuestionTitleList:r},null===e||void 0===e?void 0:e.uuid)})))]})})});var V=l(12820),P=l(33557),Q=l(59369),D=l(88447),B=l(52739),A=l(60627),R=l(59434),_=l(16990);const F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},L=e=>{var i,l,o;let{openModal:t,setOpenModal:d,questionnaire:a,setQuestionnaire:c,sectionIndex:u,columnId:v,tableErr:m,setTableErr:p}=e;const h=(0,R.I0)(),[x,j]=(0,n.useState)(""),b=()=>{var e;let i={...a};null===(e=i.sections[u].columnValues[v].options)||void 0===e||e.push(""),c(i)};let g=(0,R.v9)((e=>e.user.questionnaire));const f=()=>{let e={...a};""===g[0]&&""===g[1]&&2===(null===g||void 0===g?void 0:g.length)?(e.sections[u].columnValues[v].options=["",""],e.sections[u].columnValues[v].columnType="textbox"):e.sections[u].columnValues[v].options=[...g],c(e),d(!1)};return(0,n.useEffect)((()=>{h((0,_.p7)(a.sections[u].columnValues[v].options))}),[]),(0,M.jsx)(D.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:!0,closeAfterTransition:!0,BackdropComponent:B.Z,BackdropProps:{timeout:500},className:"popup-blk",style:{overflow:"scroll"},children:(0,M.jsx)(A.Z,{in:!0,children:(0,M.jsx)(r.Z,{sx:F,className:"popup-box",children:(0,M.jsxs)("div",{className:"popup-innerblk",children:[(0,M.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(0,M.jsx)("h2",{className:"popup-ttl heading2",children:"Create Custom List Dropdown"}),(0,M.jsx)("span",{className:"popup-close-icon",onClick:f,children:(0,M.jsx)(Z.Z,{})})]}),(0,M.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,M.jsxs)("div",{className:"popup-content-blk",children:[(0,M.jsxs)("div",{className:"custom-list-sect",children:[null===a||void 0===a||null===(i=a.sections[u])||void 0===i||null===(l=i.columnValues[v])||void 0===l||null===(o=l.options)||void 0===o?void 0:o.map(((e,i)=>{var l,n,o,t,d,r;return(0,M.jsx)("div",{className:"form-group",children:(0,M.jsxs)("div",{className:"que-checkbox-wrap",children:[(0,M.jsx)("div",{className:"que-checkbox-blk que-dropdown-blk",children:(0,M.jsx)(s.Z,{className:(null===a||void 0===a||null===(l=a.sections[u])||void 0===l||null===(n=l.columnValues[v])||void 0===n||null===(o=n.options)||void 0===o?void 0:o.length)>2?"input-field que-input-type adddropdown ".concat(x&&!e&&"input-error"):"input-field que-input-type ".concat(x&&!e&&"input-error"),value:e,onChange:e=>((e,i)=>{const{value:l}=e.target;let n={...a};n.sections[u].columnValues[v].options[i]=l,c(n)})(e,i),onBlur:e=>((e,i)=>{const{value:l}=e.target;let n={...a};n.sections[u].columnValues[v].options[i]=null===l||void 0===l?void 0:l.trim(),c(n)})(e,i),id:"outlined-basic",helperText:x&&!e?"Enter the option":" ",placeholder:"Enter option value",variant:"outlined"})}),(null===a||void 0===a||null===(t=a.sections[u])||void 0===t||null===(d=t.columnValues[v])||void 0===d||null===(r=d.options)||void 0===r?void 0:r.length)>2&&(0,M.jsx)("div",{className:"que-input-type-close",onClick:()=>(e=>{var i,l,n;let s={...a};null===s||void 0===s||null===(i=s.sections[u])||void 0===i||null===(l=i.columnValues[v])||void 0===l||null===(n=l.options)||void 0===n||n.splice(e,1),c(s)})(i),children:(0,M.jsx)(Z.Z,{})})]})},i)})),(0,M.jsxs)("div",{className:"add-dropdown-btnblk mb-30",children:[(0,M.jsx)("span",{className:"addmore-icon",children:(0,M.jsx)("i",{onClick:b,className:"fa fa-plus"})})," ",(0,M.jsx)("span",{onClick:b,children:"Add Dropdown"})]})]}),(0,M.jsxs)("div",{className:"form-btn flex-center text-center",children:[(0,M.jsx)("button",{className:"secondary-button mr-10",onClick:f,children:"Cancel"}),(0,M.jsx)("button",{type:"submit",className:"primary-button",onClick:()=>{var e;let i={...a},l=!1;null===(e=i.sections[u].columnValues[v].options)||void 0===e||e.forEach((e=>{e||(l=!0,j("Option required"))})),!l&&d(!1)},children:"Save"})]})]})})]})})})})};var H=l(43989);const O={PaperProps:{style:{maxHeight:168}}},U=[{_id:"attachments",name:"Attachments"},{_id:"date",name:"Date"},{_id:"dropdown",name:"Drop down"},{_id:"prefilled",name:"Prefilled"},{_id:"textbox",name:"Text box"}],G=[{_id:"alphabets",name:"Alphabets"},{_id:"alphanumeric",name:"Alphanumeric"},{_id:"numeric",name:"Numeric"}],Y=e=>{var i,l;let{sectionIndex:r,questionnaire:c,setQuestionnaire:v,tableErr:m,setTableErr:h}=e;const[x,j]=(0,n.useState)(!1),[b,N]=(0,n.useState)(-1),T=(e,i)=>{const{name:l,value:n,checked:s}=e.target;let o={...c};"hideColumn"===l?(console.log("value in hidecol change handler - ",s),o.sections[r].columnValues[i][l]=s?"yes":"no"):o.sections[r].columnValues[i][l]=n,v(o)},q=e=>{j(!0),N(e)};(0,n.useEffect)((()=>{}),[c]);const Z=e=>{let{children:i}=e;return(0,M.jsx)("div",{className:"select-placeholder",children:i})},w=e=>c.sections[r].columnValues.filter((i=>i.title===e)).length>1;return(0,M.jsxs)("div",{className:"que-column-layout-sect",children:[c&&(null===c||void 0===c||null===(i=c.sections[r])||void 0===i||null===(l=i.columnValues)||void 0===l?void 0:l.map(((e,i)=>{var l,n;return(0,M.jsx)("div",{className:"que-column-layout-wrap",children:(0,M.jsx)("div",{className:"que-column-layout-blk",children:(0,M.jsxs)("div",{className:"que-card-innerblk",children:[(0,M.jsxs)("div",{className:"que-col-form-leftfield flex-between",children:[(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"emailid",children:["Column ",i+1," Title"," ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:"input-field ".concat(null!==e&&void 0!==e&&e.title||!m?w(null===e||void 0===e?void 0:e.title)&&m&&"input-error":"input-error"),id:"outlined-basic",variant:"outlined",name:"title",helperText:null!==e&&void 0!==e&&e.title||!m?w(null===e||void 0===e?void 0:e.title)&&m?"Column title already in use.":" ":"Enter the column title",value:null===e||void 0===e?void 0:e.title,onChange:e=>T(e,i),onBlur:e=>((e,i)=>{const{name:l,value:n}=e.target;let s={...c};s.sections[r].columnValues[i][l]=null===n||void 0===n?void 0:n.trim(),v(s)})(e,i),placeholder:"Enter column title"})]}),(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"emailid",children:["Input Type"," ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsxs)("div",{className:"select-field",children:[(0,M.jsxs)(o.Z,{className:"fullwidth-field",children:[(0,M.jsx)(t.Z,{IconComponent:e=>(0,M.jsx)(p.Z,{...e}),displayEmpty:!0,placeholder:"Select input type",name:"columnType",value:null===e||void 0===e?void 0:e.columnType,onChange:e=>((e,i)=>{const{name:l,value:n}=e.target;let s={...c};s.sections[r].columnValues[i][l]=n,s.sections[r].columnValues[i].validation="",s.sections[r].columnValues[i].options=[],s.sections[r].columnValues[i].hideColumn="no","prefilled"===n&&(s.sections[r].columnValues[i].hideColumn="no"),"dropdown"===n&&(s.sections[r].columnValues[i].options=["",""],N(i),j(!0)),v(s)})(e,i),className:"select-dropdown",MenuProps:O,children:U&&U.map((e=>(0,M.jsx)(d.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))}),(0,M.jsx)(a.Z,{children:" "})]}),x&&b===i&&(0,M.jsx)(L,{openModal:x,setOpenModal:j,questionnaire:c,setQuestionnaire:v,sectionIndex:r,columnId:i,tableErr:m,setTableErr:h})]})]}),(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsx)("label",{htmlFor:"emailid",children:"Validation"}),(0,M.jsx)("div",{className:"select-field",children:(0,M.jsxs)(o.Z,{className:"fullwidth-field",children:[(0,M.jsx)(t.Z,{disabled:"textbox"!==(null===e||void 0===e?void 0:e.columnType),IconComponent:e=>(0,M.jsx)(p.Z,{...e}),renderValue:""!==(null===e||void 0===e?void 0:e.validation)?void 0:()=>(0,M.jsx)(Z,{children:"Select validator"}),displayEmpty:!0,name:"validation",value:null===e||void 0===e?void 0:e.validation,onChange:e=>T(e,i),className:"select-dropdown",MenuProps:O,children:G&&G.map((e=>(0,M.jsx)(d.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))}),(0,M.jsx)(a.Z,{children:" "})]})}),"dropdown"===(null===e||void 0===e?void 0:e.columnType)&&(0,M.jsxs)("div",{className:"add-dropdown-btnblk edit-dropdown-btn",children:[(0,M.jsx)("span",{className:"addmore-icon",onClick:()=>q(i),children:(0,M.jsx)(P.Z,{})})," ",(0,M.jsx)("span",{onClick:()=>q(i),children:"Edit Dropdown"})]})]}),(null===c||void 0===c||null===(l=c.sections[r])||void 0===l||null===(n=l.columnValues)||void 0===n?void 0:n.length)>1&&(0,M.jsx)("div",{className:"que-col-delete delete-iconblk",children:(0,M.jsx)(u.Z,{title:"Delete column",placement:"bottom",children:(0,M.jsx)("img",{style:{cursor:"pointer"},onClick:e=>((e,i)=>{var l,n,s;let o={...c};null===o||void 0===o||null===(l=o.sections[r].rowValues)||void 0===l||l.forEach(((e,l)=>{var n,s,t;return null===o||void 0===o||null===(n=o.sections[r])||void 0===n||null===(s=n.rowValues[l])||void 0===s||null===(t=s.cells)||void 0===t?void 0:t.splice(i,1)})),null===o||void 0===o||null===(n=o.sections[r])||void 0===n||null===(s=n.columnValues)||void 0===s||s.splice(i,1),v(o)})(0,i),src:"/images/delete-icon.svg",alt:""})})})]}),(0,M.jsxs)("div",{className:"que-card-icon-sect-mod",children:[(0,M.jsx)("div",{className:"required-toggle-btnblk",children:(0,M.jsx)(y.Z,{children:(0,M.jsxs)(Q.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,M.jsx)(k.Z,{children:"Required"}),(0,M.jsx)(E,{checked:null===e||void 0===e?void 0:e.isRequired,onChange:e=>((e,i)=>{let l={...c};l.sections[r].columnValues[i].isRequired=e.target.checked,v(l)})(e,i),inputProps:{"aria-label":"controlled"}})]})})}),(0,M.jsx)("div",{className:"required-toggle-btnblk-mod",children:(0,M.jsx)(y.Z,{children:(0,M.jsxs)(Q.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,M.jsx)(k.Z,{children:"Hide Column"}),(0,M.jsx)(o.Z,{children:(0,M.jsx)(f.Z,{disabled:"prefilled"!==(null===e||void 0===e?void 0:e.columnType),type:"checkbox",name:"hideColumn",checked:"yes"===(null===e||void 0===e?void 0:e.hideColumn),onChange:e=>T(e,i)})})]})})})]})]})})},null===e||void 0===e?void 0:e.uuid)}))),(0,M.jsxs)("div",{className:"add-row-btnblk add-col-btn",onClick:()=>{var e,i,l;let n={...c};const s=(0,g.Z)();null===n||void 0===n||null===(e=n.sections[r])||void 0===e||null===(i=e.columnValues)||void 0===i||i.push({uuid:s,title:"",columnType:"textbox",isRequired:!0,options:[],validation:"",hideColumn:"no"}),null===(l=n.sections[r].rowValues)||void 0===l||l.forEach(((e,i)=>{var l;null===e||void 0===e||null===(l=e.cells)||void 0===l||l.push({columnId:s,value:""})})),v(n)},children:[(0,M.jsx)("span",{className:"addmore-icon",children:(0,M.jsx)("i",{className:"fa fa-plus"})})," ","Add Column"]}),(0,M.jsx)(H.Z,{isPreview:!1,questionnaire:c,setQuestionnaire:v,sectionIndex:r,tableErr:m,setTableErr:h})]})};var z=l(27659),W=l(94294),K=l(40600),X=l(45736);const J={PaperProps:{style:{maxHeight:168}}};const $=function(e){var i,l,r,c,v,m;let{setQuestionnaire:f,questionnaire:N,sectionIndex:y,documents:T,err:k}=e;const q=[".jpg",".jpeg",".png",".doc",".txt",".pdf",".docx",".xlsx",".xls",".ppt",".pptx",".mp4",".mp3",".zip",".rar"],[Z,w]=(0,n.useState)(!1),[C,E]=(0,n.useState)(null);let S=new FormData;const I=(0,j.s0)(),[P,Q]=(0,V.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),D=(0,n.useRef)(),[B,A]=(0,n.useState)("");console.log("questionnaire in other doc=",N),console.log("section index in other doc=",y);const R=(e,i)=>{const{name:l,value:n}=e.target;let s={...N};s.sections[y].documents[i][l]=n,f(s)},_=(e,i)=>{const{name:l,value:n}=e.target;let s={...N};s.sections[y].documents[i][l]=null===n||void 0===n?void 0:n.trim(),f(s)},F=()=>{let e={...N};e.sections[y].documents.push({uuid:(0,g.Z)(),documentTitle:"",originalName:"",type:"File"}),f(e)};let L=null===N||void 0===N||null===(i=N.sections)||void 0===i?void 0:i.filter((e=>"documents"===e.layout));console.log("docs = ",L),console.log("section index",y);const H=(e,i)=>N.sections[y].documents.filter((l=>(null===l||void 0===l?void 0:l[i])===e)).length>1;console.log("error from other doc",k);const O=(e,i)=>"Link"===N.sections[y].documents[i].type?"input-field ".concat(null!==e&&void 0!==e&&e.linkTitle||!(null===k||void 0===k?void 0:k.linkTitle)?H(null===e||void 0===e?void 0:e.linkTitle,"linkTitle")&&(null===k||void 0===k?void 0:k.linkTitle)&&"input-error":"input-error"," "):"input-field ".concat(null!==e&&void 0!==e&&e.documentTitle||!(null===k||void 0===k?void 0:k.documentTitle)?H(null===e||void 0===e?void 0:e.documentTitle,"documentTitle")&&(null===k||void 0===k?void 0:k.documentTitle)&&"input-error":"input-error"," "),U=(e,i)=>"Link"===N.sections[y].documents[i].type?null!==e&&void 0!==e&&e.linkTitle||null===k||void 0===k||!k.linkTitle?H(null===e||void 0===e?void 0:e.linkTitle,"linkTitle")&&null!==k&&void 0!==k&&k.linkTitle?"Title already in use":"":"Enter title":null!==e&&void 0!==e&&e.documentTitle||null===k||void 0===k||!k.documentTitle?H(null===e||void 0===e?void 0:e.documentTitle,"documentTitle")&&null!==k&&void 0!==k&&k.documentTitle?"Title already in use":"":"Enter title";return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(z.Z,{myRef:D,titleMessage:P.titleMessage,descriptionMessage:P.descriptionMessage,messageType:P.messageType}),(0,M.jsx)(b.Z,{title:(0,M.jsx)("p",{children:"Upload other documents"}),info1:" ",info2:(0,M.jsxs)("div",{className:"upload-file-wrap",children:[(0,M.jsx)(W.Z,{variant:"contained",component:"label",className:"upload-file-btn",children:(0,M.jsxs)("div",{className:"upload-file-blk",children:[(0,M.jsx)("input",{type:"file",hidden:!0,accept:".jpg, .jpeg, .png, .doc, .txt, .pdf, .docx, .xlsx, .xls, .ppt, .pptx, .mp4, .mp3, .zip, .rar",name:"files[]",onChange:e=>{console.log("file change hadler clicked",N);const i=e.target.files[0];if(i){const l=".".concat(i.name.split(".").pop());if(!q.includes(l.toLowerCase()))return void Q({titleMessage:"oops!",descriptionMessage:"Invalid file type. Please select a valid file.",messageType:"error"},(()=>D.current()));if(i.size>10485760)return void Q({titleMessage:"oops!",descriptionMessage:"File size exceeds the limit of 10 MB. Please select a smaller file.",messageType:"error"},(()=>D.current()));E(e.target.files[0]),console.log("inside if");(new FileReader).onload=e=>{}}}}),(0,M.jsx)("span",{className:"upload-icon",children:(0,M.jsx)(K.Z,{})}),(0,M.jsxs)("span",{className:"file-upload-txt",children:["Click here to choose files (max file size"," ","".concat("10"," MB"),") '.doc', '.txt', '.pdf','.docx', '.xls', '.ppt', '.pptx', '.xlsx', '.jpg', '.jpeg', '.png"]})]})}),(0,M.jsx)("p",{style:{color:"#f7a823",fontFamily:"ProximaNova-Semibold, serif, sans-serif",margin:"10px 0px"},children:"Uploading large files may take some time"}),null!==(l=null===C||void 0===C?void 0:C.name)&&void 0!==l?l:null===N||void 0===N||null===(r=N.sections[y])||void 0===r||null===(c=r.documents)||void 0===c||null===(v=c[B])||void 0===v?void 0:v.originalName]}),primaryButtonText:"Save",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:async()=>{if(""===N.sections[y].documents[B].documentTitle)return w(!1),E(""),void Q({titleMessage:"oops!",descriptionMessage:"Please enter title first",messageType:"error"},(()=>D.current()));if(""===C||null===C)w(!1);else{S.append("questionnaireId",null===N||void 0===N?void 0:N.uuid),S.append("sectionId",N.sections[y].uuid),S.append("documentId",N.sections[y].documents[B].uuid),S.append("documentTitle",N.sections[y].documents[B].documentTitle),S.append("document",C);try{const e=await h.H.post(x.eb,S,{headers:{"Content-Type":"multipart/form-data"}});if(201===e.status){let i={...N};i.sections[y].documents[B].originalName=C.name,f(i),S.append("questionnaireId",null===N||void 0===N?void 0:N.uuid),S.append("sectionId",N.sections[y].uuid),S.delete("document"),S.delete("documentTitle"),S.delete("documentId"),E(""),w(!1),A(""),Q({titleMessage:"Hurray!",descriptionMessage:e.data.message,messageType:"success"},(()=>D.current()))}}catch(e){(0,X.K)(e,Q,D,I),S.delete("document"),S.delete("documentTitle"),S.delete("documentId"),console.log("error from file ")}}},isDisabledPrimaryButton:!1,onSecondaryModalButtonClickHandler:()=>{w(!1),E(null)},openModal:Z,setOpenModal:w,isModalForm:!0,handleCloseRedirect:()=>{w(!1),E(null)}}),(0,M.jsxs)("div",{className:"que-form-card-wrapper",children:[(0,M.jsx)("div",{className:"drag-drop-box"}),null===(m=N.sections)||void 0===m?void 0:m[y].documents.map(((e,i)=>{var l,n,r,c,v;return(0,M.jsx)("div",{className:"que-card-blk \n        ".concat(i+1===(null===(l=N.sections)||void 0===l?void 0:l[y].documents.length)&&"active","\n        "),children:(0,M.jsxs)("div",{className:"que-form-blk",children:[(0,M.jsxs)("div",{className:"flex-between-other-section",children:[(0,M.jsx)("div",{className:"flex-between-other-section-left",children:(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"inputField",children:["Type ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsxs)(o.Z,{className:"fullwidth-field",children:[(0,M.jsx)("div",{className:"select-field",children:(0,M.jsx)(t.Z,{MenuProps:J,placeholder:"Select type",IconComponent:e=>(0,M.jsx)(p.Z,{...e}),name:"inputType",value:null===e||void 0===e?void 0:e.type,onChange:e=>((e,i)=>{let l={...N};l.sections[y].documents[i].type=e.target.value,"Link"===e.target.value&&(l.sections[y].documents[i]={uuid:l.sections[y].documents[i].uuid,linkTitle:l.sections[y].documents[i].documentTitle,type:e.target.value,link:""},f(l)),f(l)})(e,i),children:["Link","File"].map((e=>(0,M.jsx)(d.Z,{value:e,children:e})))})}),(0,M.jsx)(a.Z,{children:" "})]})]})}),(0,M.jsxs)("div",{className:"flex-mid-other-section form-group",children:[(0,M.jsxs)("label",{htmlFor:"questionTitle",children:["Title "," ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:O(e,i),placeholder:"Enter title",name:"File"===N.sections[y].documents[i].type?"documentTitle":"linkTitle",value:"File"===N.sections[y].documents[i].type?null===e||void 0===e?void 0:e.documentTitle:null===e||void 0===e?void 0:e.linkTitle,helperText:U(e,i),onChange:e=>R(e,i),onBlur:e=>_(e,i)})]}),"File"===N.sections[y].documents[i].type?(0,M.jsx)("div",{className:"flex-end-other-section form-group",children:(0,M.jsxs)(o.Z,{children:[(0,M.jsx)("a",{href:"#",onClick:()=>{w(!0),A(i)},style:{color:"#f7a823",textDecoration:"none",pointerEvents:"auto"},children:"Upload Document"}),(0,M.jsx)("p",{style:{margin:"8px 0 auto"},children:null===N||void 0===N||null===(n=N.sections[y])||void 0===n||null===(r=n.documents)||void 0===r||null===(c=r[i])||void 0===c?void 0:c.originalName}),(0,M.jsx)(a.Z,{children:null!==e&&void 0!==e&&e.originalName||null===k||void 0===k||!k.originalName?" ":"Upload document"})]})}):(0,M.jsxs)("div",{className:"flex-end-other-section form-group",children:[(0,M.jsxs)("label",{htmlFor:"questionTitle",children:["Link "," ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:"input-field ".concat(null!==e&&void 0!==e&&e.link||!(null===k||void 0===k?void 0:k.link)?H(null===e||void 0===e?void 0:e.link)&&(null===k||void 0===k?void 0:k.link)&&"input-error":"input-error"," "),placeholder:"Enter Link",name:"link",value:null===e||void 0===e?void 0:e.link,helperText:null!==e&&void 0!==e&&e.link||null===k||void 0===k||!k.link?H(null===e||void 0===e?void 0:e.link)&&null!==k&&void 0!==k&&k.link?"Link already added":"":"Enter Link",onChange:e=>R(e,i),onBlur:e=>_(e,i)})]})]}),(0,M.jsx)("div",{className:"que-card-icon-sect",children:(0,M.jsxs)("div",{className:"que-card-icon-blk",children:[(0,M.jsx)("div",{className:"que-card-icon add-que-iconblk mr-40",children:(0,M.jsx)(u.Z,{title:"Add document",children:(0,M.jsx)("img",{onClick:F,src:"/images/add-question-icon.svg",alt:""})})}),(null===(v=L[0].documents)||void 0===v?void 0:v.length)>1&&(0,M.jsx)("div",{className:"que-card-icon delete-iconblk mr-40",children:(0,M.jsx)(u.Z,{title:"Delete Question",children:(0,M.jsx)("img",{onClick:()=>(async e=>{var i;console.log("questionnaire id = ",null===N||void 0===N?void 0:N.uuid);try{const i=await h.H.delete(x.Gg,{data:{questionnaireId:N.uuid,documentId:e}});console.log("document deleted",i)}catch(s){console.log("Error from delete uploaded other doc",s)}let l={...N},n=null===l||void 0===l||null===(i=l.sections[y])||void 0===i?void 0:i.documents.filter((i=>i.uuid!==e));l.sections[y].documents=[...n],f(l)})(null===e||void 0===e?void 0:e.uuid),src:"/images/delete-icon.svg",alt:""})})}),(0,M.jsx)("div",{className:"required-toggle-btnblk"})]})})]})},null===e||void 0===e?void 0:e.uuid)}))]})]})},ee=e=>{let{value:i,questionnaire:l,setQuestionnaire:r,uuid:c,setValue:v,index:m,section:f,id:N,globalSectionTitleError:y,setGlobalSectionTitleError:T,setSameSectionsNames:k,sameSectionsNames:Z,err:w,setErr:C,tableErr:E,setTableErr:S,questionTitleList:P,setQuestionTitleList:Q}=e;const D=(0,j.s0)(),B={PaperProps:{style:{maxHeight:168}}},A=n.useRef(),[R,_]=(0,V.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),F=e=>{var i,l;_({titleMessage:"Error",descriptionMessage:null!==e&&void 0!==e&&null!==(i=e.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.message&&"string"===typeof e.response.data.message?e.response.data.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>A.current()))},[L,H]=(0,n.useState)(!1),O=e=>{let i={...l},n=i.sections.filter((i=>i.uuid!==e));r({...i,sections:n}),v(0),ee(!1)},U=(e,i)=>{let n=null===l||void 0===l?void 0:l.sections.filter((e=>"table"===e.layout)),s=n.map((e=>({section:e.sectionTitle,columnTitles:e.columnValues.map((e=>e.title))})));for(let d=0;d<l.sections.length;d++){const n=l.sections[d];if("table"===n.layout){let a=n.columnValues.map((e=>e.hideColumn));if(a.every((e=>"yes"===e))){console.log("every column is hidden",a),_({titleMessage:"Error",descriptionMessage:"All columns are hidden.Make at least one column visible.",messageType:"error"},(()=>A.current())),i.push(d),e++;break}for(let r=0;r<n.columnValues.length;r++){const a=n.columnValues[r].title,c=n.columnValues[r].columnType;var o,t;if(""===a&&(S("Error hai"),i.push(d),e++),"prefilled"===c)null===l||void 0===l||null===(o=l.sections[d])||void 0===o||null===(t=o.rowValues)||void 0===t||t.forEach(((l,n)=>{var s;null!==l&&void 0!==l&&null!==(s=l.cells[r])&&void 0!==s&&s.value||(S("Error hai"),i.push(d),e++)}));for(let n=0;n<s.length;n++){let o=0;const t=s[n];for(let n=0;n<t.columnTitles.length;n++){const s=t.columnTitles[n];let d=l.sections.map(((e,i)=>e.sectionTitle)).indexOf(t.section);if(a===s&&o++,o>1){e++,S("Same name hai"),i.push(d);break}}}}}}return e},G=e=>[...Z].filter((i=>i===e)).length>1,W=e=>{const{name:i,value:n}=e.target;let s={...l};s.sections[m][i]=n,r(s)},K=e=>{const{name:i,value:n}=e.target;let s={...l};s.sections[m][i]=null===n||void 0===n?void 0:n.trim(),r(s)},X=async(e,i)=>{null===e||void 0===e||e.preventDefault();const n=await(async()=>{let e=0,i=null===l||void 0===l?void 0:l.sections.map((e=>e.sectionTitle)),n={questionTitle:"",option:"",documentTitle:"",originalName:""},s=[];k([...i]);for(let v=0;v<(null===l||void 0===l?void 0:l.sections.length);v++){let p=0;for(let e=0;e<i.length;e++){const n=i[e];l.sections[v].sectionTitle===n&&p++}if(p>1)s.push(v),e++,T({errMsg:"Section name already in use"});else if("table"==l.sections[v].layout)e=await U(e,s);else if("form"==l.sections[v].layout){for(let i=0;i<(null===l||void 0===l?void 0:l.sections.length);i++){var o,t;const d=i;let a=l.sections[d].questions.map((e=>e.questionTitle));null===l||void 0===l||null===(o=l.sections[d])||void 0===o||null===(t=o.questions)||void 0===t||t.map(((l,o)=>{var t;""===(null===l||void 0===l?void 0:l.questionTitle)&&(n.questionTitle="Enter question title",e++,s.push(i)),a.filter((e=>e===(null===l||void 0===l?void 0:l.questionTitle))).length>1&&(n.questionTitle="Question title already in use.",e++,s.push(i)),console.log("error in form question title missing"),["dropdown","checkbox","radioGroup"].includes(null===l||void 0===l?void 0:l.inputType)&&(null===l||void 0===l||null===(t=l.options)||void 0===t||t.map((l=>{""===l&&(n.option="Enter option",e++,s.push(i))})))}))}C({...n})}else if("documents"==l.sections[v].layout){for(let i=0;i<(null===l||void 0===l?void 0:l.sections.length);i++){var d,a,r,c,u,m;const o=i;let t=null===l||void 0===l||null===(d=l.sections[o])||void 0===d||null===(a=d.documents)||void 0===a?void 0:a.map((e=>e.documentTitle)),v=null===l||void 0===l||null===(r=l.sections[o])||void 0===r||null===(c=r.documents)||void 0===c?void 0:c.map((e=>e.linkTitle));null===l||void 0===l||null===(u=l.sections[o])||void 0===u||null===(m=u.documents)||void 0===m||m.map(((l,o)=>{"File"===(null===l||void 0===l?void 0:l.type)&&(""===l.documentTitle&&(n.documentTitle="Enter document title",e++,s.push(i)),""===l.originalName&&(n.originalName="upload document",e++,s.push(i)),t.filter((e=>e===(null===l||void 0===l?void 0:l.documentTitle))).length>1&&(n.documentTitle="Document title already in use.",e++,s.push(i))),"Link"===(null===l||void 0===l?void 0:l.type)&&(""===l.linkTitle&&(n.linkTitle="Enter Link title",e++,s.push(i)),""===l.link&&(n.link="Add link",e++,s.push(i)),v.filter((e=>e===(null===l||void 0===l?void 0:l.linkTitle))).length>1&&(n.linkTitle="Link title already in use.",e++,s.push(i)))}))}C({...n})}}""!==(null===l||void 0===l?void 0:l.title)&&""!==(null===l||void 0===l?void 0:l.sheetName)||(T({errMsg:"Section title required"}),e++);for(let v=0;v<l.sections.length;v++)""===l.sections[v].sectionTitle&&(T({...y,sectionTitleEmpty:"Section title required"}),s.push(v),e++);if(s.length>0){let e=[...s];v(e[0])}return 0===e&&(H(!0),!0)})();return!!n&&await ne(void 0,i)},[J,ee]=((0,j.UO)(),(0,n.useState)(!1)),[ie,le]=(0,n.useState)(!1),ne=async(e,i)=>{try{q.Y.info("Questionnaire - Save Content - saveSection handler"),console.log("save section called");const n=await h.H.post(x.ZW,e||l);if(201===n.status){(async()=>{try{var e;const l=await h.H.get("".concat(x.ZW,"/").concat(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.uuid));return r({...l.data}),setTimeout((()=>{v(l.data.sections.length-1)}),3e3),i||_({titleMessage:"Success!",descriptionMessage:n.data.message,messageType:"success"},(()=>A.current())),setTimeout((()=>D("/questionnaires",{state:i?0:1})),3e3),!0}catch(l){return F(l),!1}})()}return n.data.uuid}catch(m){var n,s,o,t;if(H(!1),"ERR_CANCELED"===(null===m||void 0===m?void 0:m.code))return;if(q.Y.info("Questionnaire - Save Content - saveSection handler - catch error - ".concat(null===m||void 0===m||null===(n=m.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)),401==(null===m||void 0===m||null===(o=m.response)||void 0===o?void 0:o.status))_({titleMessage:"Error!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(()=>A.current())),setTimeout((()=>D("/login")),3e3);else{if(403!==(null===m||void 0===m||null===(t=m.response)||void 0===t?void 0:t.status))return F(m),!1;var d,a,c,u;_({titleMessage:"Error!",descriptionMessage:null!==m&&void 0!==m&&null!==(d=m.response)&&void 0!==d&&null!==(a=d.data)&&void 0!==a&&a.message?null===m||void 0===m||null===(c=m.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>A.current())),setTimeout((()=>D("/home")),3e3)}}};return(0,M.jsxs)("div",{className:"sect-form-card-wrapper",children:[(0,M.jsx)(z.Z,{myRef:A,titleMessage:R.titleMessage,descriptionMessage:R.descriptionMessage,messageType:R.messageType}),(0,M.jsx)(b.Z,{title:(0,M.jsxs)("p",{children:["Delete Section"," ",(null===f||void 0===f?void 0:f.sectionTitle)&&'"'+(null===f||void 0===f?void 0:f.sectionTitle)+'"']}),info1:(0,M.jsx)("p",{children:"On deleting, all the details of this section would get deleted and this will be an irreversible action."}),info2:(0,M.jsxs)("p",{children:["Do you still want to delete the"," ",(0,M.jsx)("b",{children:null!==f&&void 0!==f&&f.sectionTitle?null===f||void 0===f?void 0:f.sectionTitle:"Section"}),"?"]}),primaryButtonText:"Delete",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:()=>{O(c)},onSecondaryModalButtonClickHandler:()=>{ee(!1)},openModal:J,setOpenModal:ee}),(0,M.jsx)(b.Z,{title:(0,M.jsx)("p",{children:"Cancel Questionnaire"}),info1:(0,M.jsx)("p",{children:" On canceling, newly added details will be discarded."}),info2:(0,M.jsx)("p",{children:"Do you still want to cancel it?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:()=>{le(!1),D("/questionnaires",{state:null!==l&&void 0!==l&&l.isPublished?0:1})},onSecondaryModalButtonClickHandler:()=>{le(!1)},openModal:ie,setOpenModal:le}),(0,M.jsx)("div",{className:"sect-form-card-info",children:(0,M.jsxs)("div",{className:"sect-form-innercard-blk",children:[l.sections.length>1&&(0,M.jsxs)("div",{className:"sect-ttl-blk flex-between",children:[(0,M.jsx)("div",{className:"sect-leftblk"}),(0,M.jsx)("div",{className:"sect-rightblk",children:(0,M.jsx)("div",{className:"sect-ttl-right-iconblk",children:(0,M.jsx)("span",{className:"sect-icon-blk delete-iconblk",children:(0,M.jsx)(u.Z,{title:"Delete section",children:(0,M.jsx)("img",{onClick:()=>ee(!0),src:"/images/delete-icon.svg",alt:""})})})})})]}),(0,M.jsx)("form",{children:(0,M.jsxs)("div",{className:"sect-form-card-blk",children:[(0,M.jsxs)("div",{className:"sect-form-card-innerblk flex-between",children:[(0,M.jsx)("div",{className:"sect-card-form-leftfield",children:(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"title",children:["Section Name ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:"input-field ".concat((""===f.sectionTitle&&(null===y||void 0===y?void 0:y.sectionTitleEmpty)||G(f.sectionTitle)&&(null===y||void 0===y?void 0:y.errMsg))&&"input-error"),id:"outlined-basic",placeholder:"Enter section name",variant:"outlined",onChange:W,onBlur:K,value:f.sectionTitle,name:"sectionTitle",helperText:""===f.sectionTitle&&null!==y&&void 0!==y&&y.sectionTitleEmpty?"Enter the section name":G(f.sectionTitle)&&null!==y&&void 0!==y&&y.errMsg?null===y||void 0===y?void 0:y.errMsg:" "})]})}),(0,M.jsx)("div",{className:"sect-card-form-rightfield",children:(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"layout",children:["Layout ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)("div",{className:"select-field",children:(0,M.jsxs)(o.Z,{className:"fullwidth-field",children:[(0,M.jsxs)(t.Z,{IconComponent:e=>(0,M.jsx)(p.Z,{...e}),name:"layout",value:null===f||void 0===f?void 0:f.layout,onChange:e=>{const{name:i,value:n}=e.target;let s={...l};if(s.sections[m].layout=n,"table"===n){s.sections[m].questions=[];const e=(0,g.Z)();s.sections[m].columnValues=[{uuid:e,title:"",isRequired:!0,columnType:"textbox",options:["",""],validation:"",hideColumn:"no"}],s.sections[m].rowValues=[{uuid:(0,g.Z)(),cells:[{columnId:e,value:""}]},{uuid:(0,g.Z)(),cells:[{columnId:e,value:""}]}]}"form"===n&&(s.sections[m].columnValues=[],s.sections[m].rowValues=[],s.sections[m].questions=[{uuid:(0,g.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}]),"documents"===n&&(s.sections[m].questions=[],s.sections[m].documents=[{uuid:(0,g.Z)(),documentTitle:"",originalName:"",type:"File"}]),r(s)},MenuProps:B,children:[(0,M.jsx)(d.Z,{value:"form",children:"Form"}),(0,M.jsx)(d.Z,{value:"table",selected:!0,children:"Table"}),(0,M.jsx)(d.Z,{value:"documents",children:"Other Documents"})]}),(0,M.jsx)(a.Z,{children:" "})]})})]})})]}),(0,M.jsx)("div",{className:"sect-form-card-innerblk",children:(0,M.jsx)("div",{className:"sect-card-form-leftfield full-width",children:(0,M.jsxs)("div",{className:"form-group mb-0",children:[(0,M.jsx)("label",{htmlFor:"emailid",children:"Description"}),(0,M.jsx)(s.Z,{className:"input-field",id:"outlined-basic",placeholder:"Enter description",variant:"outlined",onChange:W,onBlur:K,name:"description",value:f.description})]})})})]})})]})}),"form"===(null===f||void 0===f?void 0:f.layout)?(0,M.jsx)(I,{sectionIndex:m,questionnaire:l,setQuestionnaire:r,err:w,setErr:C,questionTitleList:P,setQuestionTitleList:Q}):"table"===(null===f||void 0===f?void 0:f.layout)?(0,M.jsx)(Y,{sectionIndex:m,questionnaire:l,setQuestionnaire:r,tableErr:E,setTableErr:S}):(0,M.jsx)($,{sectionIndex:m,questionnaire:l,setQuestionnaire:r,documents:null===l||void 0===l?void 0:l.documents,err:w}),(0,M.jsxs)("div",{className:"form-btn flex-between add-members-btn que-page-btn",children:[(0,M.jsx)("button",{type:"reset",className:"secondary-button mr-10",onClick:()=>{le(!0)},children:"Cancel"}),(0,M.jsx)("button",{type:"submit",onClick:X,disabled:L,className:"outlined-button add-button mr-10",children:null!==l&&void 0!==l&&l.isDraft||null!==l&&void 0!==l&&l.isPublished?"Update":"Save"}),(0,M.jsx)("button",{type:"submit",disabled:L,className:"primary-button add-button",onClick:async e=>{const i=await X(e,!0);if(i)try{var l;q.Y.info("Questionnaire - Section Content - onPublishButtonClickHandler handler");const e=await h.H.put("".concat(x.ZW,"/publish/").concat(i));_({titleMessage:"Success!",descriptionMessage:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message,messageType:"success"},(()=>A.current()))}catch(o){var n,s;if(H(!1),"ERR_CANCELED"===(null===o||void 0===o?void 0:o.code))return;q.Y.info("Questionnaire - Section Content - onPublishButtonClickHandler handler - ".concat(null===o||void 0===o||null===(n=o.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)),F(o)}},children:"Publish"})]})]})};var ie=l(11087),le=l(1260),ne=l(98460),se=l(28386);function oe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}const te={PaperProps:{style:{maxHeight:99}}};const de=function(){var e;const[i,l]=(0,n.useState)(!1),[b,f]=(0,n.useState)([]),[N,y]=n.useState(0),[T,k]=(0,n.useState)({questionTitle:"",option:""}),[Z,w]=(0,n.useState)(""),[C,E]=(0,n.useState)([]),{id:S}=(0,j.UO)(),I=(0,j.TH)(),{pathname:P}=I;(0,le.j)(P.includes("edit")?"Edit Questionnaire":"Add Questionnaire");const[Q,D]=(0,n.useState)({errMsg:""}),B=n.useRef(),[A,_]=(0,V.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),F=(e,i)=>{y(i)},L=(0,j.s0)(),[H,O]=(0,n.useState)({uuid:S,version:"",title:"",sheetName:"",sections:[{id:"",isRequired:!0,uuid:(0,g.Z)(),sectionTitle:"",description:"",layout:"form",isActive:!0,questions:[{uuid:(0,g.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}],value:1}],createdAt:Date,updatedAt:Date,createdBy:"",updatedBy:"",isActive:!0}),U=(0,j.UO)(),G=(0,R.v9)((e=>{var i;return null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.privilege})),Y=(0,R.v9)((e=>{var i;return null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.userObj})),W="Super Admin"===(null===G||void 0===G?void 0:G.name);let K=("Super Admin"===(null===Y||void 0===Y||null===(e=Y.roleId)||void 0===e?void 0:e.name)?[]:Object.values(null===G||void 0===G?void 0:G.privileges)).filter((e=>{var i;return"Questionnaire"===(null===e||void 0===e||null===(i=e.moduleId)||void 0===i?void 0:i.name)})).map((e=>({questionnaire:{list:null===e||void 0===e?void 0:e.list,view:null===e||void 0===e?void 0:e.view,edit:null===e||void 0===e?void 0:e.edit,delete:null===e||void 0===e?void 0:e.delete,add:null===e||void 0===e?void 0:e.add}})));(0,n.useEffect)((()=>{var e,i;let n=!0,s=new AbortController;return(null!==(e=K[0])&&void 0!==e&&null!==(i=e.questionnaire)&&void 0!==i&&i.edit||W)&&U["*"].includes("edit")&&(async()=>{try{l(!0),q.Y.info("Questionnaire - Add New Questionnaire - fetch handler");const e=await h.H.get("".concat(x.ZW,"/").concat(S),{signal:s.signal});l(!1),n&&O({...e.data})}catch(o){var e,i;if("ERR_CANCELED"===(null===o||void 0===o?void 0:o.code))return;q.Y.info("Questionnaire - Add New Questionnaire - fetch handler - catch error - ".concat(null===o||void 0===o||null===(e=o.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)),l(!1),(0,X.K)(o,_,B,L,"/questionnaires")}})(),()=>{n=!1,s.abort()}}),[]);const J=()=>{O({...H,sections:[...H.sections,{id:"",uuid:(0,g.Z)(),srNo:"",sectionTitle:"",description:"",layout:"form",isActive:!0,questions:[{uuid:(0,g.Z)(),questionTitle:"",inputType:"singleTextbox",validation:"",defaultValue:"",isRequired:!0,options:["",""]}],value:H.sections.length+1}]}),y(H.sections.length)};return(0,M.jsxs)("div",{className:"page-wrapper",children:[(0,M.jsx)(z.Z,{myRef:B,titleMessage:A.titleMessage,descriptionMessage:A.descriptionMessage,messageType:A.messageType}),(0,M.jsx)("div",{className:"breadcrumb-wrapper",children:(0,M.jsx)("div",{className:"container",children:(0,M.jsxs)("ul",{className:"breadcrumb",children:[(0,M.jsx)("li",{children:(0,M.jsxs)(ie.rU,{to:"/questionnaires",state:null!==H&&void 0!==H&&H.isPublished?0:1,children:["Questionnaire ",null!==H&&void 0!==H&&H.isPublished?"(Published)":"(Drafted)"]})}),((null===H||void 0===H?void 0:H.isDraft)||(null===H||void 0===H?void 0:H.isPublished))&&(0,M.jsx)("li",{children:(0,M.jsx)(ie.rU,{to:"/questionnaires/preview-questionnaire/".concat(U.id),children:"Preview Questionnaire"})}),null!==H&&void 0!==H&&H.isDraft||null!==H&&void 0!==H&&H.isPublished?(0,M.jsx)("li",{children:"Edit Questionnaire"}):(0,M.jsx)("li",{children:"Add Questionnaire"})]})})}),(0,M.jsx)("section",{children:i?(0,M.jsx)(se.Z,{}):(0,M.jsxs)("div",{className:"container",children:[(0,M.jsx)("div",{className:"form-header flex-between",children:null!==H&&void 0!==H&&H.isDraft||null!==H&&void 0!==H&&H.isPublished?(0,M.jsx)("h2",{className:"heading2",children:"Edit Questionnaire"}):(0,M.jsx)("h2",{className:"heading2",children:"Add Questionnaire"})}),(0,M.jsxs)("div",{className:"que-ttl-blk flex-between",children:[(0,M.jsx)("div",{className:"que-ttl-left",children:(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"emailid",children:["Questionnaire Title ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:"input-field ".concat(""===H.title&&(null===Q||void 0===Q?void 0:Q.errMsg)&&"input-error"),id:"outlined-basic",value:H.title,placeholder:"Enter questionnaire title",disabled:(null===H||void 0===H?void 0:H.isPublished)||(null===H||void 0===H?void 0:H.isDraft),variant:"outlined",onChange:e=>{O({...H,title:e.target.value})},onBlur:e=>{var i;return O({...H,title:null===(i=e.target.value)||void 0===i?void 0:i.trim()})},helperText:""===H.title&&null!==Q&&void 0!==Q&&Q.errMsg?"Enter the questionnaire title":" "})]})}),(0,M.jsxs)("div",{className:"que-ttl-right flex-between",children:[(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"emailid",children:["Sheet Name ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)(s.Z,{className:"input-field ".concat(""===H.sheetName&&(null===Q||void 0===Q?void 0:Q.errMsg)&&"input-error"),id:"outlined-basic",inputProps:{maxLength:31},value:H.sheetName,placeholder:"Enter sheet name",variant:"outlined",onChange:e=>{O({...H,sheetName:e.target.value})},helperText:""===H.sheetName&&null!==Q&&void 0!==Q&&Q.errMsg?"Enter the sheet name":" "})]}),(0,M.jsxs)("div",{className:"form-group",children:[(0,M.jsxs)("label",{htmlFor:"status",children:["Status ",(0,M.jsx)("span",{className:"mandatory",children:"*"})]}),(0,M.jsx)("div",{className:"select-field",children:(0,M.jsxs)(o.Z,{className:"fullwidth-field",children:[(0,M.jsxs)(t.Z,{IconComponent:e=>(0,M.jsx)(p.Z,{...e}),value:null!==H&&void 0!==H&&H.isActive?"active":"inActive",onChange:e=>{O({...H,isActive:"active"===e.target.value})},MenuProps:te,name:"isActive",children:[(0,M.jsx)(d.Z,{value:"active",selected:!0,children:"Active"}),(0,M.jsx)(d.Z,{value:"inActive",children:"Inactive"})]}),(0,M.jsx)(a.Z,{children:" "})]})})]})]})]}),(0,M.jsxs)("div",{className:"section-form-sect",children:[(0,M.jsxs)("div",{className:"section-tab-blk flex-between",children:[(0,M.jsx)("div",{className:"section-tab-leftblk",children:(0,M.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,M.jsx)(c.Z,{value:N,onChange:F,"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:H.sections.map(((e,i,l)=>(0,M.jsx)(u.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,M.jsx)(v.Z,{className:"section-tab-item",label:"section ".concat(i+1),...oe(i)})},null===e||void 0===e?void 0:e.uuid)))})})}),(0,M.jsx)("div",{className:"section-tab-rightblk",children:(0,M.jsxs)("div",{className:"form-header-right-txt",children:[(0,M.jsxs)("div",{onClick:()=>{((null===H||void 0===H?void 0:H.isDraft)||(null===H||void 0===H?void 0:H.isPublished))&&L("/questionnaires/preview-questionnaire/".concat(S))},className:"tertiary-btn-blk ".concat((null===H||void 0===H?void 0:H.isDraft)||(null===H||void 0===H?void 0:H.isPublished)||"disabled-tertiary-btn","  mr-20"),children:[(0,M.jsx)("span",{className:"preview-icon",children:(0,M.jsx)(m.Z,{})}),(0,M.jsx)("span",{className:"addmore-txt",children:"Preview"})]}),(0,M.jsxs)("div",{className:"tertiary-btn-blk",children:[(0,M.jsx)("span",{className:"addmore-icon",onClick:J,children:(0,M.jsx)("i",{className:"fa fa-plus"})}),(0,M.jsx)("span",{onClick:J,className:"addmore-txt",children:"Add Section"})]})]})})]}),(0,M.jsx)("div",{className:"que-tab-data",children:H.sections.map(((e,i)=>(0,M.jsx)(ne.x,{value:N,index:i,children:(0,M.jsx)(ee,{sameSectionsNames:b,err:T,setErr:k,setSameSectionsNames:f,setQuestionnaire:O,tableErr:Z,setTableErr:w,questionnaire:H,value:e.value,uuid:e.uuid,setValue:y,index:i,section:e,tabChange:F,globalSectionTitleError:Q,setGlobalSectionTitleError:D,questionTitleList:C,setQuestionTitleList:E})},null===e||void 0===e?void 0:e.uuid)))})]})]})})]})}},43989:(e,i,l)=>{l.d(i,{Z:()=>Z});var n=l(35527),s=l(39281),o=l(79836),t=l(56890),d=l(35855),a=l(53994),r=l(20068),c=l(53382),u=l(72791),v=l(54261),m=l(97275),p=l(68096),h=l(58406),x=l(63903),j=l(47071),b=l(27954),g=l(12104),f=l(36571),N=l(51514),y=l(7792),T=(l(14917),l(80184));const k={PaperProps:{style:{maxHeight:168}}},q=e=>{var i,l,n,s;let{isPreview:o,questionnaire:t,setQuestionnaire:d,sectionIndex:a,tableErr:c,setTableErr:v,rowId:q,cellId:Z,cell:w}=e;const[C,E]=(0,u.useState)(!1),M=null===t||void 0===t||null===(i=t.sections[a])||void 0===i||null===(l=i.columnValues[Z])||void 0===l?void 0:l.columnType,S=null===t||void 0===t||null===(n=t.sections[a])||void 0===n?void 0:n.columnValues[Z];return(0,T.jsxs)("div",{children:[M&&"prefilled"===M&&o&&S.uuid===w.columnId&&"no"==S.hideColumn&&(0,T.jsx)("p",{style:{textAlign:"justify"},children:C?(0,T.jsxs)("span",{children:[(0,T.jsx)("span",{children:null===w||void 0===w?void 0:w.value}),(0,T.jsx)("br",{}),(0,T.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),E(!1)},style:{color:"#4596D1"},children:"Show Less"})]}):(0,T.jsx)("span",{children:(null===w||void 0===w?void 0:w.value.length)>100?(0,T.jsxs)("span",{children:[(0,T.jsxs)("span",{children:[null===w||void 0===w?void 0:w.value.slice(0,100),"..."]}),(0,T.jsx)("br",{}),(0,T.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),E(!0)},style:{color:"#4596D1"},children:"Show More"})]}):null===w||void 0===w?void 0:w.value})}),M&&"attachments"===M&&(0,T.jsx)("span",{className:"no-attachment-txt",children:"No Attachments"}),M&&"prefilled"===M&&!o&&(0,T.jsx)(m.Z,{multiline:!0,className:"input-textarea ".concat(!(null!==w&&void 0!==w&&w.value)&&c&&"input-textarea-error"),name:"value",value:null===w||void 0===w?void 0:w.value,helperText:null!==w&&void 0!==w&&w.value||!c?" ":"Enter the row value",onChange:e=>((e,i,l)=>{const{name:n,value:s}=e.target,o={...t};o.sections[a].rowValues[i].cells[l][n]=s,d(o)})(e,q,Z),onBlur:e=>((e,i,l)=>{const{name:n,value:s}=e.target,o={...t};o.sections[a].rowValues[i].cells[l][n]=null===s||void 0===s?void 0:s.trim(),d(o)})(e,q,Z)}),M&&"textbox"===M&&(0,T.jsx)(m.Z,{helperText:" ",disabled:!0}),M&&"dropdown"===M&&(0,T.jsxs)(p.Z,{className:"fullwidth-field",children:[(0,T.jsx)(h.Z,{IconComponent:e=>(0,T.jsx)(g.Z,{...e}),displayEmpty:!0,placeholder:"Select input type",name:"columnType",value:null===S||void 0===S?void 0:S.columnType,className:"select-dropdown",renderValue:()=>(0,T.jsx)("div",{className:"select-placeholder",children:"Select option"}),MenuProps:k,children:S&&(null===S||void 0===S||null===(s=S.options)||void 0===s?void 0:s.map(((e,i)=>(0,T.jsx)(x.Z,{value:e,children:(null===e||void 0===e?void 0:e.length)<=40?e:(0,T.jsx)(r.Z,{title:e,children:(0,T.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,40))+"..."})})},i))))}),(0,T.jsx)(j.Z,{children:" "})]}),M&&"date"===M&&(0,T.jsx)(f._,{dateAdapter:y.y,children:(0,T.jsx)(N.M,{disabled:!0,value:null,className:"datepicker-blk",components:{OpenPickerIcon:b.Z},onChange:()=>{},renderInput:e=>(0,T.jsx)(m.Z,{...e,helperText:" "})})})]})},Z=e=>{var i,l,u,m;let{questionnaire:p,setQuestionnaire:h,sectionIndex:x,tableErr:j,setTableErr:b,isPreview:g}=e;const f=()=>{var e,i,l,n;let s={...p},o={uuid:(0,v.Z)(),cells:[]};null===s||void 0===s||null===(e=s.sections[x])||void 0===e||null===(i=e.columnValues)||void 0===i||i.forEach(((e,i)=>{var l;return null===o||void 0===o||null===(l=o.cells)||void 0===l?void 0:l.push({columnId:null===e||void 0===e?void 0:e.uuid,value:""})})),null===s||void 0===s||null===(l=s.sections[x])||void 0===l||null===(n=l.rowValues)||void 0===n||n.push({...o}),h(s)};return(0,T.jsx)("div",{className:"que-table-sect",children:(0,T.jsxs)("div",{className:"que-table-wrap que-table-render-wrap ".concat(g||"que-table-create","  ").concat(g||"active"," "),children:[(0,T.jsx)("div",{className:"que-table-innerwrap que-table-render-innerwrap flex-between no-wrap",children:(0,T.jsx)(n.Z,{sx:{width:"96%",overflow:"hidden"},className:"que-table-infoblk que-sticky-column pb-0",children:(0,T.jsx)(s.Z,{sx:{maxHeight:440},children:(0,T.jsxs)(o.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"que-table que-table-render",children:[(0,T.jsx)(t.Z,{children:(0,T.jsxs)(d.Z,{children:[!g&&(0,T.jsx)(a.Z,{width:75}),p&&g?null===p||void 0===p||null===(i=p.sections[x])||void 0===i?void 0:i.columnValues.filter((e=>"no"===e.hideColumn||"prefilled"!=e.columnType)).map(((e,i)=>(0,T.jsx)(a.Z,{width:"200px",children:(0,T.jsx)("div",{className:"que-table-column-info",children:(0,T.jsx)("div",{className:"que-column-ttlblk",children:(0,T.jsx)("div",{className:"form-group",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,T.jsx)(r.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,T.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,T.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,T.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title,(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,T.jsx)("span",{className:"mandatory",children:" *"})]})})})})},null===e||void 0===e?void 0:e.uuid))):null===p||void 0===p||null===(l=p.sections[x])||void 0===l?void 0:l.columnValues.map(((e,i)=>(0,T.jsx)(a.Z,{children:(0,T.jsx)("div",{className:"que-table-column-info",children:(0,T.jsx)("div",{className:"que-column-ttlblk",children:(0,T.jsx)("div",{className:"form-group",children:(null===e||void 0===e?void 0:e.title.length)>50?(0,T.jsx)(r.Z,{title:null===e||void 0===e?void 0:e.title,placement:"bottom-start",children:(0,T.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title.slice(0,50),"...",(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,T.jsx)("span",{className:"mandatory",children:"*"})]})}):(0,T.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title,(null===e||void 0===e?void 0:e.isRequired)&&(null===e||void 0===e?void 0:e.title)&&(0,T.jsx)("span",{className:"mandatory",children:" *"})]})})})})},null===e||void 0===e?void 0:e.uuid)))]})}),(0,T.jsx)(c.Z,{children:null===p||void 0===p||null===(u=p.sections[x])||void 0===u||null===(m=u.rowValues)||void 0===m?void 0:m.map(((e,i)=>{var l,n,s;return(0,T.jsxs)(d.Z,{children:[g||(0,T.jsx)(a.Z,{sx:{display:"none"},children:(0,T.jsxs)("div",{className:"que-column-count flex-between",style:{cursor:"pointer",display:""},children:[(0,T.jsxs)("span",{className:"que-column-count-txt",children:[i+1,"."]}),(null===p||void 0===p||null===(l=p.sections[x])||void 0===l||null===(n=l.rowValues)||void 0===n?void 0:n.length)>1&&(g||(0,T.jsx)(r.Z,{title:"Delete Row",children:(0,T.jsx)("span",{className:"minus-iconblk",onClick:()=>(e=>{var i,l;let n={...p};null===n||void 0===n||null===(i=n.sections[x])||void 0===i||null===(l=i.rowValues)||void 0===l||l.splice(e,1),h(n)})(i),children:(0,T.jsx)("i",{className:"fa fa-minus"})})}))]})}),e&&(null===e||void 0===e||null===(s=e.cells)||void 0===s?void 0:s.map(((e,l)=>((e,i)=>{var l;let n=null===p||void 0===p||null===(l=p.sections[x])||void 0===l?void 0:l.columnValues[i];return!g||n.uuid===e.columnId&&"no"==(null===n||void 0===n?void 0:n.hideColumn)&&"prefilled"===(null===n||void 0===n?void 0:n.columnType)||n.uuid!==e.columnId||"yes"!=(null===n||void 0===n?void 0:n.hideColumn)||"prefilled"!==(null===n||void 0===n?void 0:n.columnType)})(e,l)&&(0,T.jsx)(a.Z,{children:(0,T.jsx)(q,{isPreview:g,questionnaire:p,setQuestionnaire:h,sectionIndex:x,tableErr:j,setTableErr:b,cellId:l,rowId:i,cell:e})},null===e||void 0===e?void 0:e.columnId))))]},null===e||void 0===e?void 0:e.uuid)}))})]})})})}),g||(0,T.jsxs)("div",{className:"add-row-btnblk mt-20",children:[(0,T.jsx)("span",{className:"addmore-icon",onClick:f,children:(0,T.jsx)("i",{className:"fa fa-plus"})})," ",(0,T.jsx)("span",{onClick:f,children:"Add Row"})]})]})})}},71300:(e,i,l)=>{l.d(i,{Z:()=>c});var n=l(29823),s=l(88447),o=l(52739),t=l(60627),d=l(697),a=l(20068),r=(l(72791),l(80184));const c=e=>{var i,l,c,u,v,m;let{title:p,info1:h,info2:x,primaryButtonText:j,secondaryButtonText:b,onPrimaryModalButtonClickHandler:g,isDisabledPrimaryButton:f=!1,onSecondaryModalButtonClickHandler:N,openModal:y,setOpenModal:T,isModalForm:k,handleCloseRedirect:q,hideCloseIcon:Z=!1}=e;const w=(e,i)=>{i&&"backdropClick"===i||T(!1)},C=()=>{N()};let E="";return"object"===typeof(null===p||void 0===p||null===(i=p.props)||void 0===i?void 0:i.children)?null===p||void 0===p||null===(l=p.props)||void 0===l||null===(c=l.children)||void 0===c||c.map((e=>E+=e)):E=null===p||void 0===p||null===(u=p.props)||void 0===u?void 0:u.children,(0,r.jsx)(s.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:y,onClose:w,closeAfterTransition:!0,disableEscapeKeyDown:!!k,BackdropComponent:o.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,r.jsx)(t.Z,{in:y,children:(0,r.jsx)(d.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,r.jsxs)("div",{className:"popup-innerblk",children:[(0,r.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=E)||void 0===v?void 0:v.length)<=47?(0,r.jsx)("h2",{className:"popup-ttl heading2",children:p}):(0,r.jsx)(a.Z,{title:E,children:(0,r.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(m=E)||void 0===m?void 0:m.slice(0,50),'..."']})}),(0,r.jsx)("span",{hidden:Z,className:"popup-close-icon",onClick:k?q:w,children:(0,r.jsx)(n.Z,{})})]}),(0,r.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,r.jsxs)("div",{className:"popup-content-blk text-center",children:[h,k?(0,r.jsx)("form",{onSubmit:C,children:x}):x,(0,r.jsxs)("div",{className:"form-btn flex-center",children:[b&&(0,r.jsx)("button",{type:"submit",onClick:C,className:"secondary-button mr-10",children:b}),(0,r.jsx)("button",{type:"submit",onClick:()=>{g()},disabled:f,className:"primary-button",children:j})]})]})})]})})})})}},98460:(e,i,l)=>{l.d(i,{x:()=>o});var n=l(697),s=l(80184);function o(e){const{children:i,value:l,index:o,...t}=e;return(0,s.jsx)("div",{role:"tabpanel",hidden:l!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o),...t,children:l===o&&(0,s.jsx)(n.Z,{children:i})})}},1260:(e,i,l)=>{l.d(i,{j:()=>s});var n=l(72791);const s=e=>((0,n.useEffect)((()=>{document.title="HRDD System - ".concat(e)}),[e]),null)}}]);
//# sourceMappingURL=8518.40415f02.chunk.js.map