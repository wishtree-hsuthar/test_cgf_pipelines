"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[6593],{6593:(s,e,r)=>{r.r(e),r.d(e,{default:()=>v});var a=r(72791),o=r(61134),d=r(44695),n=r(77196),l=r(57689),i=r(11087),c=r(81724),t=r(14917),w=r(76218),m=r(94677),h=r(27181),p=r(45736),u=r(12010),P=r(12820),f=r(1260),x=r(80184);const j=c.Ry().shape({oldPassword:c.Z_().required("Enter the old password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),newPassword:c.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:c.Z_().required("Enter the confirm password").oneOf([c.iH("newPassword"),null],"Password does not match.")}),v=()=>{(0,f.j)("Change Password");const s=(0,l.s0)(),{handleSubmit:e,register:r,setValue:c,reset:v,formState:{errors:g}}=(0,o.cI)({resolver:(0,d.X)(j)}),N=(0,a.useRef)(),[b,C]=(0,P.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[y,Z]=a.useState({oldPassword:"",showOldPassword:"",newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),_=s=>{s.preventDefault()};return(0,x.jsxs)("div",{className:"page-wrapper",children:[(0,x.jsx)(h.Z,{myRef:N,titleMessage:b.titleMessage,descriptionMessage:b.descriptionMessage,messageType:b.messageType}),(0,x.jsx)("div",{className:"breadcrumb-wrapper",children:(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("ul",{className:"breadcrumb",children:[(0,x.jsx)("li",{children:(0,x.jsx)(i.rU,{to:"/home",children:"Home"})}),(0,x.jsx)("li",{children:"Change Password"})]})})}),(0,x.jsx)("section",{className:"container",children:(0,x.jsxs)("form",{onSubmit:e((async e=>{t.Y.info("Change Password - Change Password handler");try{const r=await m.H.post(w.oj,{oldPassword:e.oldPassword,password:e.newPassword,confirmPassword:e.confirmPassword});201==r.status&&(C({titleMessage:"Hurray!",descriptionMessage:r.data.message,messageType:"success"},(()=>N.current())),setTimeout((()=>{s("/home")}),3e3),v())}catch(o){var r,a;t.Y.info("Change Password - Change Password handler catch error".concat(null===o||void 0===o||null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)),v(),(0,p.K)(o,C,N,s)}})),children:[(0,x.jsx)("div",{className:"form-header flex-between",children:(0,x.jsx)("h2",{className:"heading2",children:"Change Password"})}),(0,x.jsxs)("div",{className:"card-wrapper",children:[(0,x.jsx)("div",{className:"card-blk flex-between",children:(0,x.jsx)("div",{className:"card-form-field",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("label",{htmlFor:"oldPassword",children:["Old Password ",(0,x.jsx)("span",{className:"mandatory",children:"*"})]}),(0,x.jsxs)("div",{className:"password-field",children:[(0,x.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:y.showOldPassword?"text":"password",placeholder:"Enter old password",className:"input-field ".concat(g.oldPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,x.jsx)(u.Z,{show:null===y||void 0===y?void 0:y.showOldPassword,onClickHandler:()=>{Z({...y,showOldPassword:!y.showOldPassword})},onMouseDown:_}),...r("oldPassword"),onBlur:s=>c("oldPassword",s.target.value.trim()),error:!!g.oldPassword}),(0,x.jsx)("p",{className:"password-error",children:null!==g&&void 0!==g&&g.oldPassword?g.oldPassword.message:(0,x.jsx)("span",{children:"\xa0"})})]})]})})}),(0,x.jsx)("div",{className:"card-form-field",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,x.jsx)("span",{className:"mandatory",children:"*"})]}),(0,x.jsxs)("div",{className:"password-field",children:[(0,x.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:y.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat((null===g||void 0===g?void 0:g.newPassword)&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,x.jsx)(u.Z,{show:null===y||void 0===y?void 0:y.showNewPassword,onClickHandler:()=>{Z({...y,showNewPassword:!y.showNewPassword})},mouseDownHandler:_}),...r("newPassword"),onBlur:s=>c("newPassword",s.target.value.trim()),error:!!g.password}),(0,x.jsx)("p",{className:"password-error",children:null!==g&&void 0!==g&&g.newPassword?g.newPassword.message:(0,x.jsx)("span",{children:"\xa0"})})]})]})}),(0,x.jsx)("div",{className:"card-form-field",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,x.jsx)("span",{className:"mandatory",children:"*"})]}),(0,x.jsxs)("div",{className:"password-field",children:[(0,x.jsx)(n.Z,{fullWidth:!0,id:"outlined-adornment-password",type:y.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(g.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,x.jsx)(u.Z,{show:null===y||void 0===y?void 0:y.showConfirmPassword,onClickHandler:()=>{Z({...y,showConfirmPassword:!y.showConfirmPassword})},onMouseDown:_}),...r("confirmPassword"),onBlur:s=>c("confirmPassword",s.target.value.trim()),error:!!g.confirmPassword}),(0,x.jsx)("p",{className:"password-error",children:null!==g&&void 0!==g&&g.confirmPassword?g.confirmPassword.message:(0,x.jsx)("span",{children:"\xa0"})})]})]})}),(0,x.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,x.jsx)("button",{type:"reset",onClick:()=>s("/home"),className:"secondary-button mr-10",children:"Cancel"}),(0,x.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})]})})]})}}}]);
//# sourceMappingURL=6593.1715d215.chunk.js.map