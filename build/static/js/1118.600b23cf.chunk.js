"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[1118],{4227:function(e,t,n){var s=n(9827),r=n(807),a=n(4390),i=(n(2791),n(184));t.Z=function(){return(0,i.jsx)(s.Z,{children:(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.Z,{align:"left",className:"table-header",width:"16%",children:(0,i.jsx)("span",{className:"sorted-blk",children:"Modules"})}),(0,i.jsx)(a.Z,{className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"Fill"})}),(0,i.jsx)(a.Z,{className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"List"})}),(0,i.jsx)(a.Z,{align:"center",className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"Add"})}),(0,i.jsx)(a.Z,{align:"center",className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"Edit"})}),(0,i.jsx)(a.Z,{align:"center",className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"View"})}),(0,i.jsx)(a.Z,{align:"center",className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"Delete"})}),(0,i.jsx)(a.Z,{align:"center",className:"table-header",children:(0,i.jsx)("span",{className:"sorted-blk",children:"All"})})]})})}},1118:function(e,t,n){n.r(t);var s=n(4942),r=n(4165),a=n(5861),i=n(1413),l=n(885),c=n(8588),o=n(7265),d=n(2900),u=n(6321),m=n(6015),h=n(6650),p=n(9963),f=n(1680),v=n(9773),x=n(807),Z=n(4390),b=n(5473),g=n(2791),j=n(1134),k=n(7689),N=n(1087),w=n(4569),y=n.n(w),C=n(4917),M=n(7659),S=(n(1605),n(2820)),E=(n(385),n(6218)),O=n(1260),T=n(4227),R=n(8386),I=n(5736),P=n(184);t.default=function(){(0,O.j)("Edit Role");var e=(0,k.UO)(),t=(0,g.useState)(!1),n=(0,l.Z)(t,2),w=n[0],Y=n[1],z=(0,k.s0)(),A=(0,S.Z)({titleMessage:"",descriptionMessage:"",messageType:""}),L=(0,l.Z)(A,2),V=L[0],_=L[1],H=g.useRef(),D={roleName:"",status:"",description:""},F={},B=(0,g.useState)((0,i.Z)({},F)),q=(0,l.Z)(B,2),U=q[0],K=q[1],Q=(0,g.useState)(!1),J=(0,l.Z)(Q,2),W=J[0],G=J[1],X=(0,g.useState)(!1),$=(0,l.Z)(X,2),ee=($[0],$[1],(0,j.cI)({defaultValues:D})),te=ee.control,ne=ee.reset,se=ee.setValue,re=ee.handleSubmit,ae={description:{required:"Enter the description",maxLength:"Max char limit exceed",minLength:"minimum 3 characters required"}},ie=function(e){return Object.values(e).some((function(e){return Object.values(e).some((function(e){return e}))}))},le=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var s,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,C.Y.debug("input Data: ",n,"Previleges: ",U),s=JSON.parse(JSON.stringify(U)),Object.keys(s).forEach((function(e){delete s[e].all,delete s[e].name})),ie(s)){t.next=7;break}return _({titleMessage:"Hurray!",descriptionMessage:"Select atleast 1 privilege",messageType:"error"},(function(){return H.current()})),t.abrupt("return");case 7:return Y(!0),C.Y.debug("previleges : ",s),G(!0),t.next=12,y().put(E.Yn+"roles/".concat(e.id),{description:n.description,isActive:"active"===n.status,privileges:s});case 12:a=t.sent,C.Y.debug("response",a),200==a.status&&(Y(!1),_({titleMessage:"Success!",descriptionMessage:a.data.message,messageType:"success"},(function(){return H.current()})),C.Y.debug("Default Values",D),ne({roleName:"",status:"active",description:""}),setTimeout((function(){return z("/roles/view-role/".concat(e.id))}),3e3)),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(0),C.Y.debug("error",t.t0),G(!1),(0,I.K)(t.t0,_,H,z);case 22:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}(),ce=function(e){var t;C.Y.debug("previleges",e.privileges),ne({roleName:e.name,status:e.isActive?"active":"inactive",description:e.description}),t=e.privileges,C.Y.debug("temp data",t),Object.keys(t).forEach((function(e){F[e]={add:t[e].add,fill:t[e].fill,delete:t[e].delete,edit:t[e].edit,list:t[e].list,view:t[e].view,all:t[e].add&&t[e].delete&&t[e].edit&&t[e].view&&t[e].list&&("Assessment"!==t[e].moduleId.name||t[e].fill),name:t[e].moduleId.name}})),C.Y.debug("temp",F),K((0,i.Z)({},F))},oe=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,s){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Y(!0),t.next=4,y().get(E.Yn+"roles/".concat(e.id),{signal:s.signal});case 4:a=t.sent,C.Y.debug("response: ",a),ce(a.data),Y(!1),t.next=17;break;case 10:if(t.prev=10,t.t0=t.catch(0),C.Y.debug("Error",t.t0),"ERR_CANCELED"!==(null===t.t0||void 0===t.t0?void 0:t.t0.code)){t.next=15;break}return t.abrupt("return");case 15:Y(!1),(0,I.K)(t.t0,_,H,z);case 17:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}();return(0,g.useEffect)((function(){var e=!0,t=new AbortController;return e&&oe(e,t),function(){e=!1,t.abort()}}),[]),C.Y.debug("Privilege",U),(0,P.jsxs)("div",{className:"page-wrapper",children:[(0,P.jsx)(M.Z,{myRef:H,titleMessage:V.titleMessage,descriptionMessage:V.descriptionMessage,messageType:V.messageType}),(0,P.jsx)("div",{className:"breadcrumb-wrapper",children:(0,P.jsx)("div",{className:"container",children:(0,P.jsxs)("ul",{className:"breadcrumb",children:[(0,P.jsx)("li",{children:(0,P.jsx)(N.rU,{to:"/roles",children:"Roles"})}),(0,P.jsx)("li",{children:(0,P.jsx)(N.rU,{to:"/roles/view-role/".concat(e.id),children:"View Role"})}),(0,P.jsx)("li",{children:"Edit Role"})]})})}),(0,P.jsx)("section",{children:(0,P.jsxs)("div",{className:"container",children:[(0,P.jsx)("div",{className:"form-header flex-between",children:(0,P.jsx)("h2",{className:"heading2",children:"Edit Role"})}),w?(0,P.jsx)(R.Z,{}):(0,P.jsx)("form",{onSubmit:re(le),children:(0,P.jsxs)("div",{className:"card-wrapper",children:[(0,P.jsxs)("div",{className:"card-blk flex-between",children:[(0,P.jsx)("div",{className:"card-form-field",children:(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{htmlFor:"roleName",children:["Role Name ",(0,P.jsx)("span",{className:"mandatory",children:"*"})]}),(0,P.jsx)(j.Qr,{name:"roleName",control:te,render:function(e){var t=e.field,n=e.fieldState.error;return(0,P.jsx)(c.Z,(0,i.Z)((0,i.Z)({disabled:!0},t),{},{className:"input-field ".concat(n&&"input-error"),id:"outlined-basic",placeholder:"Enter role name",variant:"outlined",helperText:" "}))}})]})}),(0,P.jsx)("div",{className:"card-form-field",children:(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{htmlFor:"status",children:"Status"}),(0,P.jsx)("div",{className:"radio-btn-field",children:(0,P.jsx)(j.Qr,{name:"status",control:te,render:function(e){var t=e.field;return(0,P.jsxs)(o.Z,(0,i.Z)((0,i.Z)({},t),{},{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",className:"radio-btn",children:[(0,P.jsx)(d.Z,{value:"active",control:(0,P.jsx)(u.Z,{}),label:"Active"}),(0,P.jsx)(d.Z,{value:"inactive",control:(0,P.jsx)(u.Z,{}),label:"Inactive"})]}))}})})]})}),(0,P.jsx)("div",{className:"card-form-field fullwidth",children:(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{htmlFor:"description",children:["Description ",(0,P.jsx)("span",{className:"mandatory",children:"*"})]}),(0,P.jsx)(j.Qr,{name:"description",rules:{required:!0,maxLength:500,minLength:3},control:te,render:function(e){var t=e.field,n=e.fieldState.error;return(0,P.jsx)(c.Z,(0,i.Z)((0,i.Z)({multiline:!0},t),{},{onBlur:function(e){return se("description",e.target.value.trim())},inputProps:{maxLength:500},className:"input-textarea ".concat(n&&"input-textarea-error"),id:"outlined-basic",placeholder:"Enter description",helperText:n?ae.description[n.type]:" ",variant:"outlined"}))}})]})})]}),(0,P.jsx)(m.Z,{sx:{width:"100%"},className:"table-blk table-blk-role",children:(0,P.jsx)(h.Z,{sx:{width:"100%"},children:(0,P.jsx)(p.Z,{children:(0,P.jsxs)(f.Z,{sx:{minWidth:750},children:[(0,P.jsx)(T.Z,{}),(0,P.jsx)(v.Z,{children:Object.keys(U).map((function(e,t){return(0,P.jsxs)(x.Z,{hover:!0,children:[(0,P.jsx)(Z.Z,{children:U[e].name}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:"Assessment"===U[e].name&&(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].fill,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{fill:!t[e].fill,list:t[e].list||!t[e].fill,view:t[e].view||!t[e].fill,all:!t[e].fill&&t[e].add&&t[e].edit&&t[e].delete})))}))}})}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].list,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{list:!t[e].list,view:t[e].view&&!t[e].list||!1,edit:t[e].edit&&!t[e].list||!1,delete:t[e].delete&&!t[e].list||!1,add:t[e].add&&!t[e].list||!1,fill:t[e].fill&&!t[e].list||!1,all:!t[e].list&&t[e].add&&t[e].edit&&t[e].view&&t[e].delete})))}))}})}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].add,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{add:!t[e].add,list:t[e].list||!t[e].add,view:t[e].view||!t[e].add,all:!t[e].add&&t[e].edit&&t[e].delete})))}))}})}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].edit,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{edit:!t[e].edit,list:t[e].list||!t[e].edit,view:t[e].view||!t[e].edit,all:t[e].add&&!t[e].edit&&t[e].delete})))}))}})}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].view,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{view:!t[e].view,list:t[e].list||!t[e].view,edit:t[e].edit&&!t[e].view||!1,delete:t[e].delete&&!t[e].view||!1,fill:t[e].fill&&!t[e].view||!1,all:t[e].add&&t[e].edit&&!t[e].view&&t[e].delete})))}))}})}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].delete,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{delete:!t[e].delete,list:t[e].list||!t[e].delete,edit:t[e].edit||!t[e].delete,view:t[e].view||!t[e].delete,all:t[e].add&&!t[e].delete})))}))}})}),(0,P.jsx)(Z.Z,{align:"center",padding:"checkbox",children:(0,P.jsx)(b.Z,{className:"table-checkbox",checked:U[e].all,onChange:function(){return K((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,(0,i.Z)((0,i.Z)({},t[e]),{},{all:!t[e].all,list:!t[e].all,view:!t[e].all,add:!t[e].all,edit:!t[e].all,delete:!t[e].all,fill:"Assessment"===U[e].name&&!t[e].all})))}))}})})]},e)}))})]})})})}),(0,P.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,P.jsx)("button",{type:"reset",style:{marginTop:"20px"},className:"secondary-button mr-10",onClick:function(){z("/roles/view-role/".concat(e.id))},children:"Cancel"}),(0,P.jsx)("button",{type:"submit",className:"primary-button",style:{marginTop:"20px"},disabled:W,children:"Update"})]})]})})]})})]})}},7659:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(2131),r=n(5130),a=n(2791),i=n(5985),l=(n(5462),n(184));var c=function(e){e.titleMessage;var t=e.descriptionMessage,n=e.messageType,c=e.myRef,o=(e.key,function(){(0,i.Am)(d,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),d=function(){return(0,l.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===n&&"toaster-blk-success"),children:[(0,l.jsx)("div",{className:"toaster-left ".concat("success"===n&&"toaster-left-success"),children:(0,l.jsxs)("div",{className:"toaster-icon",children:["success"===n&&(0,l.jsx)(s.Z,{}),"error"===n&&(0,l.jsx)(r.Z,{})]})}),(0,l.jsx)("div",{className:"toaster-right",children:(0,l.jsx)("p",{children:t})})]})};return(0,a.useEffect)((function(){c.current=o}),[o,c]),(0,l.jsxs)("div",{className:"toaster-sect",children:[(0,l.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,l.jsx)(i.Ix,{className:"toaster-wrap ".concat("success"===n&&"toaster-wrap-success"," ")})]})}},5736:function(e,t,n){n.d(t,{K:function(){return a}});var s=n(4165),r=n(5861),a=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,n,r,a,i){var l,c,o,d,u,m,h,p,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:401==t.response.status?(n({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return r.current()})),setTimeout((function(){a("/login")}),3e3)):403===(null===t||void 0===t||null===(l=t.response)||void 0===l?void 0:l.status)?(n({titleMessage:"Oops!",descriptionMessage:null!==t&&void 0!==t&&null!==(c=t.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.message?null===t||void 0===t||null===(d=t.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return r.current()})),setTimeout((function(){a("/home")}),3e3)):(console.log("Else block"),console.log("route = ",i),console.log("erro in else block",t),n({titleMessage:"Oops!",descriptionMessage:null!==t&&void 0!==t&&null!==(m=t.response)&&void 0!==m&&null!==(h=m.data)&&void 0!==h&&h.message?null===t||void 0===t||null===(p=t.response)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return r.current()})),i&&setTimeout((function(){a(i)}),3e3));case 1:case"end":return e.stop()}}),e)})));return function(t,n,s,r,a){return e.apply(this,arguments)}}()},2820:function(e,t,n){var s=n(885),r=n(2791);t.Z=function(e){var t=(0,r.useState)(e),n=(0,s.Z)(t,2),a=n[0],i=n[1],l=(0,r.useRef)([]);(0,r.useEffect)((function(){l.current.forEach((function(e){return e(a)})),l.current=[]}),[a]);return[a,function(e,t){i(e),t&&"function"===typeof t&&l.current.push(t)}]}},1260:function(e,t,n){n.d(t,{j:function(){return r}});var s=n(2791),r=function(e){return(0,s.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}},5473:function(e,t,n){n.d(t,{Z:function(){return S}});var s=n(4942),r=n(3366),a=n(7462),i=n(2791),l=n(8182),c=n(4419),o=n(2065),d=n(7278),u=n(1245),m=n(184),h=(0,u.Z)((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,u.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=(0,u.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=n(9853),x=n(5513),Z=n(277),b=n(5878),g=n(1217);function j(e){return(0,g.Z)("MuiCheckbox",e)}var k=(0,b.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),N=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],w=(0,Z.ZP)(d.Z,{shouldForwardProp:function(e){return(0,Z.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,v.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,a.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,o.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,s.Z)(t,"&.".concat(k.checked,", &.").concat(k.indeterminate),{color:(n.vars||n).palette[r.color].main}),(0,s.Z)(t,"&.".concat(k.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),y=(0,m.jsx)(p,{}),C=(0,m.jsx)(h,{}),M=(0,m.jsx)(f,{}),S=i.forwardRef((function(e,t){var n,s,o=(0,x.Z)({props:e,name:"MuiCheckbox"}),d=o.checkedIcon,u=void 0===d?y:d,h=o.color,p=void 0===h?"primary":h,f=o.icon,Z=void 0===f?C:f,b=o.indeterminate,g=void 0!==b&&b,k=o.indeterminateIcon,S=void 0===k?M:k,E=o.inputProps,O=o.size,T=void 0===O?"medium":O,R=o.className,I=(0,r.Z)(o,N),P=g?S:Z,Y=g?S:u,z=(0,a.Z)({},o,{color:p,indeterminate:g,size:T}),A=function(e){var t=e.classes,n=e.indeterminate,s=e.color,r={root:["root",n&&"indeterminate","color".concat((0,v.Z)(s))]},i=(0,c.Z)(r,j,t);return(0,a.Z)({},t,i)}(z);return(0,m.jsx)(w,(0,a.Z)({type:"checkbox",inputProps:(0,a.Z)({"data-indeterminate":g},E),icon:i.cloneElement(P,{fontSize:null!=(n=P.props.fontSize)?n:T}),checkedIcon:i.cloneElement(Y,{fontSize:null!=(s=Y.props.fontSize)?s:T}),ownerState:z,ref:t,className:(0,l.Z)(A.root,R)},I,{classes:A}))}))},1605:function(){}}]);
//# sourceMappingURL=1118.600b23cf.chunk.js.map