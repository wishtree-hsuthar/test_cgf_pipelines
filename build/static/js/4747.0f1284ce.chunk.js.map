{"version":3,"file":"static/js/4747.0f1284ce.chunk.js","mappings":"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","sources":["Pages/AssessmentModule/FillAssessmentSection.js","Pages/questionnaires/Preview/PreviewOtherDocument.js","../node_modules/@mui/icons-material/ContentCopyRounded.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport DialogBox from \"../../components/DialogBox\";\nimport { Logger } from \"../../Logger/Logger\";\nimport PreviewOtherDocument from \"../questionnaires/Preview/PreviewOtherDocument\";\nconst FillAssessmentQuestion = React.lazy(() =>\n  import(\"./FillAssessmentQuestions\")\n);\nconst TableAssessment = React.lazy(() => import(\"./TableAssesment\"));\nconst getTransformedColumns = (columns) => {\n  let transformedColumns = {};\n  columns.forEach((column) => {\n    transformedColumns[column.uuid] = column;\n  });\n  return transformedColumns;\n};\n\nconst getTransformedRows = (rows) => {\n  let transfromedRows = {};\n  rows.forEach((row) => {\n    transfromedRows[row.uuid] = row;\n  });\n\n  return transfromedRows;\n};\n\nfunction FillAssesmentSection({\n  myRef,\n  setToasterDetails,\n  section,\n  setAssessmentQuestionnaire,\n  assessmentQuestionnaire,\n  errorQuestion,\n  setErrorQuestion,\n  errorQuestionUUID,\n  setErrorQuestionUUID,\n  errors,\n  handleSetErrors,\n  handleFormSubmit,\n  editMode,\n  setEditMode,\n  disableFillAssessment,\n  totalSections,\n  index,\n  questionnaireId\n}) {\n  const navigate = useNavigate();\n  const params = useParams();\n\n  const showSubmitOnFinalSection = () => {\n   \n    return totalSections === index + 1 ? false : true;\n  };\n\n  // cancel dailog box open/close state\n  \n\n  const [openCancelDailog, setOpenCancelDailog] = useState(false);\n\n  const handleAnswersChange = (name, value) => {\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value,\n      },\n    });\n  };\n  const handleAnswersBlur = (name, value) => {\n    Logger.info(\"Fill Assessment section - handleAnswersBlur handler\");\n\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value?.trim(),\n      },\n    });\n  };\n  return (\n    <>\n      <DialogBox\n        title={<p>Cancel Assessment</p>}\n        info1={\n          <p>\n            On canceling, all the unsaved details of the sections will be\n            removed.\n          </p>\n        }\n        info2={<p>Do you still want to cancel it?</p>}\n        primaryButtonText={\"Yes\"}\n        secondaryButtonText={\"No\"}\n        onPrimaryModalButtonClickHandler={() => {\n          navigate(\"/assessment-list\");\n        }}\n        onSecondaryModalButtonClickHandler={() => {\n          setOpenCancelDailog(false);\n        }}\n        openModal={openCancelDailog}\n        setOpenModal={setOpenCancelDailog}\n      />\n      <div className=\"preview-sect-ttl-wrap\">\n        <div className=\"preview-sect-card-ttl-blk\">\n          <h2 className=\"subheading\">{section?.sectionTitle}</h2>\n        </div>\n        <div className=\"preview-sect-txt\">{section?.description}</div>\n      </div>\n      <div className=\"preview-card-wrapper\">\n        <div className=\"preview-que-wrap\">\n          {section.layout === \"form\" ? (\n            section.questions.map((question) => (\n              <FillAssessmentQuestion\n                key={question?.uuid}\n                assessmentQuestionnaire={assessmentQuestionnaire}\n                setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n                sectionUUID={section?.uuid}\n                question={question}\n                errorQuestion={errorQuestion}\n                setErrorQuestion={setErrorQuestion}\n                errorQuestionUUID={errorQuestionUUID}\n                setErrorQuestionUUID={setErrorQuestionUUID}\n                answer={\n                  assessmentQuestionnaire[section?.uuid] &&\n                  assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    ? assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    : question?.inputType === \"checkbox\"\n                    ? []\n                    : \"\"\n                }\n                error={errors[question?.uuid] ?? \"\"}\n                handleAnswersChange={handleAnswersChange}\n                handleAnswersBlur={handleAnswersBlur}\n                editMode={editMode}\n                setEditMode={setEditMode}\n              />\n            ))\n          ) : section?.layout==='documents'?(\n            section.documents.map((document)=>(<PreviewOtherDocument \n              sectionUUID={section?.uuid}\n              questionnaireId={questionnaireId}\n              documentObj={document}  />))\n          ):\n          \n          (\n            <TableAssessment\n              setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n              assessmentQuestionnaire={assessmentQuestionnaire}\n              sectionUUID={section?.uuid}\n              columnValues={section?.columnValues}\n              rowValues={section?.rowValues}\n              handleAnswersChange={handleAnswersChange}\n              handleAnswersBlur={handleAnswersBlur}\n              errors={errors ?? {}}\n              editMode={editMode}\n              myRef={myRef}\n              setToasterDetails={setToasterDetails}\n            />\n          )}\n        </div>\n        {editMode && !params[\"*\"].includes(\"view\") ? (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => setOpenCancelDailog(true)}\n              className=\"secondary-button mr-10\"\n              disabled={disableFillAssessment}\n            >\n              Cancel\n            </button>\n\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, true)}\n              disabled={disableFillAssessment}\n              className=\"outlined-button add-button mr-10\"\n            >\n              Save as draft\n            </button>\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, false)}\n              disabled={disableFillAssessment}\n              className=\"primary-button add-button\"\n              hidden={showSubmitOnFinalSection()}\n            >\n              Submit assessment\n            </button>\n          </div>\n        ) : (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => navigate(\"/assessment-list\")}\n              className=\"secondary-button\"\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default FillAssesmentSection;\n","import React, { useRef } from 'react'\nimport { privateAxios } from '../../../api/axios'\nimport { DOWNLOAD_OTHER_DOCS } from '../../../api/Url'\nimport { useNavigate } from 'react-router-dom'\nimport useCallbackState from '../../../utils/useCallBackState'\nimport Toaster from '../../../components/Toaster'\nimport { catchError } from '../../../utils/CatchError'\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { Tooltip } from '@mui/material'\nimport ContentCopyRoundedIcon from '@mui/icons-material/ContentCopyRounded';\nfunction PreviewOtherDocument({ key, documentObj = {}, doc = {}, sectionUUID = '', questionnaireId = '' }) {\n  console.log('qid', questionnaireId)\n  console.log('documentObj', documentObj)\n  console.log('doc', doc)\n  console.log('LINK ', documentObj?.link)\n\n  function truncateText(text, maxLength) {\n    if (text.length <= maxLength) {\n      return text;\n    } else {\n      return text.substring(0, maxLength - 3) + '...';\n    }\n  }\n\n  let link = () => {\n    if (documentObj?.link) {\n      if (documentObj?.link.toLowerCase().startsWith(\"http\")) {\n        return documentObj?.link\n      } else {\n        return 'https://' + documentObj?.link\n      }\n\n\n    } else {\n      if (doc?.link.toLowerCase().startsWith(\"https\")) {\n        return doc?.link\n      } else {\n        return 'https://' + doc?.link\n      }\n\n    }\n  }\n  const navigate = useNavigate();\n  const [otherDocsToasterDetails, setOtherDocsToasterDetails] = useCallbackState({\n    titleMessage: \"\",\n    descriptionMessage: \"\",\n    messageType: \"error\",\n  });\n  const otherDocToasterRef = useRef()\n  const downloadOtherDocument = async () => {\n\n    try {\n      const response = await privateAxios.post(DOWNLOAD_OTHER_DOCS, {\n        questionnaireId: questionnaireId,\n        sectionId: sectionUUID,\n        documentId: documentObj?.uuid ?? doc.uuid\n      }, {\n        responseType: 'blob'\n      })\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n\n      const link = document.createElement(`a`);\n      link.href = url;\n      link.setAttribute(`download`, `${documentObj?.originalName ?? doc.originalName}`);\n      document.body.appendChild(link);\n      link.click();\n      if (response.status === 201) {\n        setOtherDocsToasterDetails(\n          {\n            titleMessage: \"Hurray!\",\n            descriptionMessage: 'File downloaded successfully!',\n            messageType: \"success\",\n          },\n          () => otherDocToasterRef.current()\n        )\n      }\n\n    } catch (error) {\n      catchError(error, setOtherDocsToasterDetails, otherDocToasterRef, navigate)\n      console.log(\"Error from download other doc\", error)\n    }\n  }\n  const copyToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(doc?.link || documentObj?.link);\n      setOtherDocsToasterDetails(\n        {\n          titleMessage: \"Hurray!\",\n          descriptionMessage: 'Link copied successfully!',\n          messageType: \"success\",\n        },\n        () => otherDocToasterRef.current()\n      )\n    } catch (error) {\n      console.error('Failed to copy link: ', error);\n    }\n  };\n\n  return (\n    <div >\n      <Toaster\n        myRef={otherDocToasterRef}\n        titleMessage={otherDocsToasterDetails.titleMessage}\n        descriptionMessage={otherDocsToasterDetails.descriptionMessage}\n        messageType={otherDocsToasterDetails.messageType}\n      />\n\n      <TableContainer component={Paper} >\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n          <TableBody>\n\n            <TableRow\n\n            >\n\n              <TableCell align='left' style={{ width: '50%' }}>{documentObj?.documentTitle ?? documentObj?.linkTitle ?? doc?.documentTitle ?? doc?.linkTitle}</TableCell>\n\n              <TableCell align='left'  >{\n                doc?.type === 'Link' || documentObj?.type === 'Link' ?\n                  <>\n                  <a href={link()} onClick={() => console.log('LINK ON ONCLICK', \"https://\" + doc?.link ?? documentObj?.link)} target='_blank' >\n                    <Tooltip title={documentObj?.link ?? doc.link ?? doc?.link}>\n                    \n                    {truncateText(doc?.link ?? documentObj?.link,70)}\n                    </Tooltip>\n                    \n                    </a> \n                    {'   '}\n                    <Tooltip title={'Copy link'}>\n                    <ContentCopyRoundedIcon fontSize='small' style={{cursor:\"pointer\"}} onClick={copyToClipboard}></ContentCopyRoundedIcon>\n                    </Tooltip>\n                    </>\n                    :\n                  <div href=\"#\"\n                    onClick={(e) => {\n                      e.preventDefault();\n\n                      downloadOtherDocument()\n                    }}\n                    style={{ color: doc?.link ? 'none' : \"#4596D1\", cursor: doc?.link ? 'default' : \"pointer\" }} >\n\n                    <Tooltip title={documentObj?.originalName ?? doc.originalName ?? doc?.link}>\n                      {truncateText(documentObj?.originalName ?? doc.originalName ?? doc?.link, 70)}\n                    </Tooltip>\n                  </div>\n                  }</TableCell>\n            </TableRow>\n\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n}\n\nexport default PreviewOtherDocument","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z\"\n}), 'ContentCopyRounded');\nexports.default = _default;"],"names":["FillAssessmentQuestion","React","TableAssessment","_ref","myRef","setToasterDetails","section","setAssessmentQuestionnaire","assessmentQuestionnaire","errorQuestion","setErrorQuestion","errorQuestionUUID","setErrorQuestionUUID","errors","handleSetErrors","handleFormSubmit","editMode","setEditMode","disableFillAssessment","totalSections","index","questionnaireId","navigate","useNavigate","params","useParams","openCancelDailog","setOpenCancelDailog","useState","handleAnswersChange","name","value","uuid","handleAnswersBlur","Logger","info","trim","_jsxs","_Fragment","children","_jsx","DialogBox","title","info1","info2","primaryButtonText","secondaryButtonText","onPrimaryModalButtonClickHandler","onSecondaryModalButtonClickHandler","openModal","setOpenModal","className","sectionTitle","description","layout","questions","map","question","_errors$question$uuid","sectionUUID","answer","inputType","error","documents","document","PreviewOtherDocument","documentObj","columnValues","rowValues","includes","type","onClick","disabled","e","hidden","_ref2","_ref3","_documentObj$document","_ref5","_documentObj$link","_doc$link","_ref6","_documentObj$original2","_ref7","_documentObj$original3","key","doc","truncateText","text","maxLength","length","substring","console","log","link","otherDocsToasterDetails","setOtherDocsToasterDetails","useCallbackState","titleMessage","descriptionMessage","messageType","otherDocToasterRef","useRef","Toaster","TableContainer","component","Paper","Table","sx","minWidth","TableBody","TableRow","TableCell","align","style","width","documentTitle","linkTitle","href","toLowerCase","startsWith","_ref4","target","Tooltip","ContentCopyRoundedIcon","fontSize","cursor","async","navigator","clipboard","writeText","current","preventDefault","_documentObj$uuid","_documentObj$original","response","privateAxios","post","DOWNLOAD_OTHER_DOCS","sectionId","documentId","responseType","url","window","URL","createObjectURL","Blob","data","createElement","setAttribute","concat","originalName","body","appendChild","click","status","catchError","downloadOtherDocument","color","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}