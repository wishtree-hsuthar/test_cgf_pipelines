(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[5209],{6916:function(e,n,t){"use strict";t.r(n),t.d(n,{AlphaNumRegEx:function(){return U},AlphaRegEx:function(){return L},NumericRegEx:function(){return F},default:function(){return K}});var s=t(4942),i=t(4165),o=t(5861),l=t(885),a=t(1413),r=t(5987),d=t(600),u=t(2898),c=t(7194),v=t(6015),p=t(5814),m=t(8588),h=t(7205),f=t(4293),g=t(166),b=t(2791),x=t(1134),y=t(9434),j=t(7689),Z=t(4917),w=t(6218),k=t(4677),T=t(1300),N=t(7659),M=t(5736),R=t(8386),S=t(7806),E=t(2820),C=t(1260),D=t(3623),A=t(550),O=t(1213),I=t(184);A.ZP.register(O.Z),A.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var s=e.ctx;s.save(),s.globalCompositeOperation="destination-over",s.fillStyle=t.color||"#fff",s.fillRect(0,0,e.width,e.height),s.restore()}});var B=function(e){var n,t,s,i,o,r,d=e.graphLevelBreakdown,u=e.chartImages,c=e.setChartImages,v=(0,b.useState)(0),p=(0,l.Z)(v,2),m=p[0],h=p[1],f=(0,b.useRef)(null),g={labels:[["Policy"," Commitment","& Governance"],["Assess","Human Rights Potential"," & Actual Impact"],["Integrate","& Act in Order to Prevent","& Mitigate"],["Track the","Effectiveness of Responses"],"Report","Remedy"],datasets:[{backgroundColor:"#f7a823",borderColor:"#f7a823",data:[null!==(n=d["Policy Commitment & Governance"])&&void 0!==n?n:0,null!==(t=d["Assess Human Rights Potential and Actual Impact"])&&void 0!==t?t:0,null!==(s=d["Integrate and Act in Order to Prevent and Mitigate"])&&void 0!==s?s:0,null!==(i=d["Track the Effectiveness of Responses"])&&void 0!==i?i:0,null!==(o=d.Report)&&void 0!==o?o:0,null!==(r=d.Remedy)&&void 0!==r?r:0],barThickness:50}]};return(0,b.useEffect)((function(){if(console.log("chartImages in chart2:- ",f.current.toBase64Image()),m<3){h((function(e){return e+1}));var e=(0,a.Z)({},u);e.levelBreakdownGraph=f.current.toBase64Image(),c(e)}}),[m]),(0,I.jsx)("div",{style:{height:"400px"},className:"card-wrapper",children:(0,I.jsx)(D.$Q,{ref:f,data:g,options:{animation:!1,responsive:!0,maintainAspectRatio:!1,layout:{},plugins:{legend:{display:!1},title:{text:"HRDD Step Level Breakdown",display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}},x:{grid:{display:!1},alignToPixels:"center",align:"start"}}}})})};A.ZP.register(O.Z),A.ZP.register({id:"customCanvasBackgroundColor",beforeDraw:function(e,n,t){var s=e.ctx;s.save(),s.globalCompositeOperation="destination-over",s.fillStyle=t.color||"#fff",s.fillRect(0,0,e.width,e.height),s.restore()}});var Y=function(e){var n,t,s,i,o,l=e.graphResult,r=e.questionnaireTitle,d=e.chartImages,u=e.setChartImages,c=(0,b.useRef)(null),v=function(){switch(r){case"HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)":return"HRDD HQ Level Result";case"GLOBAL OPERATION HRDD REQUIREMENTS (SELECTED OPERATION)":return"Global Operation HRDD Result";case"COUNTRY- OPERATION HRDD REQUIREMENTS":return"Country Operation HRDD Result";default:return"HRDD Result"}},p={labels:["Not Initiated","Launched","Established","Leadership","General Result"],datasets:[{label:v(),backgroundColor:"#3498db",borderColor:"#3498db",data:[null!==(n=l["Not Initiated"])&&void 0!==n?n:0,null!==(t=l.Launched)&&void 0!==t?t:0,null!==(s=l.Established)&&void 0!==s?s:0,null!==(i=l.Leadership)&&void 0!==i?i:0,null!==(o=l.General)&&void 0!==o?o:0],barThickness:25}]};return(0,b.useEffect)((function(){if(console.log("chartImages in chart1:- ",d.resultsGraph),void 0===d.resultsGraph){console.log("inside condition");var e=(0,a.Z)({},d);e.resultsGraph=c.current.toBase64Image(),u(e)}})),(0,I.jsx)("div",{style:{height:"400px"},className:"preview-card-wrapper",children:(0,I.jsx)(D.$Q,{ref:c,data:p,options:{animation:!1,indexAxis:"y",responsive:!0,maintainAspectRatio:!1,layout:{padding:10},plugins:{legend:{display:!1},title:{text:v(),display:!0,font:{weight:"bold",size:16}},datalabels:{color:"black",formatter:function(e){return"    "+e+"%"}},tooltip:{enabled:!1}},scales:{y:{grid:{display:!1},alignToPixels:"center",align:"start"},x:{grid:{display:!1},min:0,max:100,ticks:{stepSize:10,callback:function(e,n,t){return e+"%"}}}}}})})},_=function(e){var n=e.graphResult,t=e.graphLevelBreakdown,s=e.questionnaireTitle,i=e.chartImages,o=e.setChartImages;return console.log("inside charts"),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Y,{graphResult:n,questionnaireTitle:s,chartImages:i,setChartImages:o}),(0,I.jsx)(B,{graphLevelBreakdown:t,chartImages:i,setChartImages:o})]})},P=["children","value","index"],H=b.lazy((function(){return t.e(4747).then(t.bind(t,4747))})),L=/^[a-zA-Z ]*$/,F=/^[0-9]+$/i,U=/^[a-z0-9 ]+$/i,q=t(9704);function G(e){var n=e.children,t=e.value,s=e.index,i=(0,r.Z)(e,P);return(0,I.jsx)("div",(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:t!==s,id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s)},i),{},{children:t===s&&(0,I.jsx)(v.Z,{children:n})}))}function Q(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var z={comment:{required:"Enter the reason for rejecting assessment.",minLength:"Minimum 3 character required."}};var K=function(){var e,n,t,r,D,A,O,B,Y,P,K,V,$,J,W;(0,C.j)("Fill Assessment");var X=(0,b.useState)({}),ee=(0,l.Z)(X,2),ne=ee[0],te=ee[1],se=(0,b.useState)(!1),ie=(0,l.Z)(se,2),oe=ie[0],le=ie[1],ae=(0,b.useState)(""),re=(0,l.Z)(ae,2),de=re[0],ue=re[1],ce=(0,x.cI)({}),ve=ce.handleSubmit,pe=ce.control,me=ce.setValue,he=(0,b.useState)(0),fe=(0,l.Z)(he,2),ge=fe[0],be=fe[1],xe=(0,j.UO)(),ye=(0,y.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userObj})),je=(0,j.s0)(),Ze=(0,b.useState)({}),we=(0,l.Z)(Ze,2),ke=we[0],Te=we[1],Ne=(0,b.useState)({}),Me=(0,l.Z)(Ne,2),Re=Me[0],Se=Me[1],Ee=(0,b.useState)({}),Ce=(0,l.Z)(Ee,2),De=Ce[0],Ae=Ce[1],Oe=(0,b.useState)(null),Ie=(0,l.Z)(Oe,2),Be=Ie[0],Ye=Ie[1],_e=(0,b.useState)(null),Pe=(0,l.Z)(_e,2),He=Pe[0],Le=Pe[1],Fe=(0,b.useState)(""),Ue=(0,l.Z)(Fe,2),qe=Ue[0],Ge=Ue[1],Qe=(0,b.useState)(""),ze=(0,l.Z)(Qe,2),Ke=ze[0],Ve=ze[1],$e=(0,b.useState)(!1),Je=(0,l.Z)($e,2),We=Je[0],Xe=Je[1],en=(0,b.useState)(!1),nn=(0,l.Z)(en,2),tn=nn[0],sn=nn[1],on=(0,b.useState)(!1),ln=(0,l.Z)(on,2),an=ln[0],rn=ln[1],dn=(0,b.useState)(!1),un=(0,l.Z)(dn,2),cn=un[0],vn=un[1],pn=(0,b.useState)({}),mn=(0,l.Z)(pn,2),hn=mn[0],fn=mn[1],gn=(0,b.useState)(!1),bn=(0,l.Z)(gn,2),xn=bn[0],yn=bn[1],jn=(0,b.useState)(!1),Zn=(0,l.Z)(jn,2),wn=Zn[0],kn=Zn[1],Tn=(0,E.Z)({titleMessage:"",descriptionMessage:"",messageType:"success"}),Nn=(0,l.Z)(Tn,2),Mn=Nn[0],Rn=Nn[1],Sn=function(e,n){Z.Y.debug("error occured in ",n),(0,M.K)(e,Rn,Bn,je,"/assessment-list")},En=(0,b.useState)(!1),Cn=(0,l.Z)(En,2),Dn=Cn[0],An=Cn[1],On=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,s,o,l){var r,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.get("".concat(w.ZW,"/").concat(n),{signal:l.signal});case 3:u=e.sent,o&&Se((0,a.Z)({},u.data)),t&&s&&be(null===u||void 0===u||null===(r=u.data)||void 0===r||null===(d=r.sections)||void 0===d?void 0:d.length),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=12;break}return e.abrupt("return");case 12:Z.Y.debug("error from fetch questionnaire",e.t0),(0,M.K)(e.t0,Rn,Bn,je);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t,s,i,o){return e.apply(this,arguments)}}(),In=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t){var s,o,l,r,d,u,c,v,p,m,h,f,g,b,x,y,j,T;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,le(!0),e.next=4,k.H.get("".concat(w.IG).concat(xe.id),{signal:t.signal});case 4:b=e.sent,le(!1),Z.Y.debug("response from fetch assessment",b),Xe((null===ye||void 0===ye?void 0:ye._id)===(null===b||void 0===b||null===(s=b.data)||void 0===s||null===(o=s.assignedOperationMember)||void 0===o?void 0:o._id)),n&&Te((0,a.Z)({},b.data)),n&&Ae((0,a.Z)({},b.data.answers)),n&&(null===b||void 0===b||null===(l=b.data)||void 0===l?void 0:l.graphResult)&&Le((0,a.Z)({},null===b||void 0===b||null===(r=b.data)||void 0===r?void 0:r.graphResult)),n&&(null===b||void 0===b||null===(d=b.data)||void 0===d?void 0:d.graphLevelBreakdown)&&Ye((0,a.Z)({},null===b||void 0===b||null===(u=b.data)||void 0===u?void 0:u.graphLevelBreakdown)),On(null===b||void 0===b||null===(c=b.data)||void 0===c?void 0:c.questionnaireId,null===b||void 0===b||null===(v=b.data)||void 0===v?void 0:v.graphResult,null===b||void 0===b||null===(p=b.data)||void 0===p?void 0:p.graphLevelBreakdown,n,t),yn((null===b||void 0===b||null===(m=b.data)||void 0===m?void 0:m.isSubmitted)&&!xe["*"].includes("view")),An(ye._id===(null===b||void 0===b||null===(h=b.data)||void 0===h||null===(f=h.assignedOperationMember)||void 0===f?void 0:f._id)&&!xe["*"].includes("view")&&"Pending"==(null===b||void 0===b||null===(g=b.data)||void 0===g?void 0:g.assessmentStatus)),e.next=25;break;case 17:if(e.prev=17,e.t0=e.catch(0),"ERR_CANCELED"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=21;break}return e.abrupt("return");case 21:401===(null===e.t0||void 0===e.t0||null===(x=e.t0.response)||void 0===x?void 0:x.status)&&(n&&Rn({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/login")}),3e3)),400===(null===e.t0||void 0===e.t0||null===(y=e.t0.response)||void 0===y?void 0:y.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j||null===(T=j.data)||void 0===T?void 0:T.message)&&(n&&Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3)),le(!1),Z.Y.debug("error from fetch assessment",e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(n,t){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){var e=!0,n=new AbortController;return In(e,n),function(){e=!1,n.abort()}}),[cn]);var Bn=(0,b.useRef)(),Yn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,s){var o,l,r,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(n?w.FU+xe.id:w.FU+xe.id+"/submit",(0,a.Z)({},s));case 3:201==(o=e.sent).status&&(n&&He&&vn(!cn),te({}),!t&&Rn({titleMessage:"Success",descriptionMessage:null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message,messageType:"success"},(function(){return Bn.current()})),!t&&setTimeout((function(){!n&&je("/assessment-list"),sn(!1)}),5e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),sn(!1),400===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&(console.log("in invalid assessment"),Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t,s){return e.apply(this,arguments)}}(),_n=function(e,n){var t;e.preventDefault();var i={},o=[],l=(0,a.Z)({},De);null===Re||void 0===Re||null===(t=Re.sections)||void 0===t||t.map((function(e,t){var r,d,u=null!==(r=hn[null===e||void 0===e?void 0:e.uuid])&&void 0!==r?r:{},c=null!==(d=De[null===e||void 0===e?void 0:e.uuid])&&void 0!==d?d:{};if("table"===(null===e||void 0===e?void 0:e.layout)){var v=function(e){var n={};return e.forEach((function(e){n[e.uuid]=e})),n}(null===e||void 0===e?void 0:e.columnValues);Z.Y.debug("curren assessment Questionnaire:- ",c),Z.Y.debug("transformed column values:- ",v),Object.keys(c).forEach((function(i){var r,d=null===i||void 0===i?void 0:i.split("_")[1];null===e||void 0===e||null===(r=e.columnValues)||void 0===r||r.forEach((function(i){var r,v,p,m;"prefilled"===i.columnType||!1!==n||null===i||void 0===i||!i.isRequired||c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]&&0!==c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)].length?"dropdown"!==i.columnType||!c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]||null!==(r=i.options)&&void 0!==r&&r.includes(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?"date"===i.columnType&&c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]&&isNaN(new Date(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]).getTime())?(Z.Y.debug("Fetched value not present in column dropdown options"),u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)],'" is not valid date format.\n\n\n                            '),o.push(t),Z.Y.debug("sections = ",o),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},"".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d),""))))):"prefilled"!==i.columnType&&"alphabets"==(null===i||void 0===i?void 0:i.validation)&&(null===(v=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===v?void 0:v.length)>0&&!L.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is an alphabetic field.",Z.Y.debug("in table alphabets only"),o.push(t)):"prefilled"!==(null===i||void 0===i?void 0:i.columnType)&&"numeric"==(null===i||void 0===i?void 0:i.validation)&&(null===(p=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===p?void 0:p.length)>0&&!F.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is a numeric field.",Z.Y.debug("in table numeric only"),o.push(t)):"prefilled"!==i.columnType&&"alphanumeric"==(null===i||void 0===i?void 0:i.validation)&&(null===(m=c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])||void 0===m?void 0:m.length)>0&&!U.test(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)])?(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]=" This is an alphanumeric field.",Z.Y.debug("in table alphanumeric only"),o.push(t)):delete u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]:(Z.Y.debug("Fetched value not present in column dropdown options"),u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]='Entered value "'.concat(c["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)],'" is not part of above list. Please select valid option among listed values from list.\n\n\n                            '),o.push(t),Z.Y.debug("sections = ",o),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},"".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d),"")))),n||(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is required field",o.push(t))):(u["".concat(null===i||void 0===i?void 0:i.uuid,"_").concat(d)]="This is required field",o.push(t))}))})),Z.Y.debug("Section errors in table layout ",u)}else null===e||void 0===e||e.questions.forEach((function(i){if(!i.isRequired||c[null===i||void 0===i?void 0:i.uuid]&&0!==c[null===i||void 0===i?void 0:i.uuid].length||!1!==n)if("radioGroup"!=i.inputType&&"dropdown"!=i.inputType||!c[null===i||void 0===i?void 0:i.uuid]||i.options.includes(c[null===i||void 0===i?void 0:i.uuid]))if("checkbox"==i.inputType&&c[null===i||void 0===i?void 0:i.uuid]){var r,d=c[null===i||void 0===i?void 0:i.uuid];"string"===typeof d&&(d=c[null===i||void 0===i?void 0:i.uuid].split(",")),Z.Y.debug("error from checkbox question"),Z.Y.debug("section no",t),Z.Y.debug("section no",o),Z.Y.debug("answer for checkbox",d);var v=i.options,p=d&&(null===(r=d)||void 0===r?void 0:r.filter((function(e){return null===v||void 0===v?void 0:v.includes(e)})));0===p.length?(u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),o.push(t)):delete u[null===i||void 0===i?void 0:i.uuid],l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,p))))}else"alphabets"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===L.test(c[null===i||void 0===i?void 0:i.uuid])?(Z.Y.debug("error from numric if elese"),u[null===i||void 0===i?void 0:i.uuid]="This is an alphabetic field",o.push(t)):"numeric"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===F.test(c[null===i||void 0===i?void 0:i.uuid])?(u[null===i||void 0===i?void 0:i.uuid]="This is a numeric field",o.push(t)):"alphanumeric"===i.validation&&c[null===i||void 0===i?void 0:i.uuid]&&!1===U.test(c[null===i||void 0===i?void 0:i.uuid])?(u[null===i||void 0===i?void 0:i.uuid]=" This is an alphanumeric field",o.push(t)):"date"===i.inputType&&c[null===i||void 0===i?void 0:i.uuid]&&isNaN(new Date(c[null===i||void 0===i?void 0:i.uuid]).getTime())?(Z.Y.debug("error from date question"),Z.Y.debug("section no",t),Z.Y.debug("section no",o),u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not valid date.\n                        '),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,"")))),o.push(t)):delete u[null===i||void 0===i?void 0:i.uuid];else Z.Y.debug("error from radio group question"),Z.Y.debug("section no",t),Z.Y.debug("section no",o),u[null===i||void 0===i?void 0:i.uuid]='\n                        \n                        Entered value\n                        "'.concat(c[null===i||void 0===i?void 0:i.uuid],'" is not part of above list. Please select valid option among listed values from list.\n                        '),l=(0,a.Z)((0,a.Z)({},l),{},(0,s.Z)({},null===e||void 0===e?void 0:e.uuid,(0,a.Z)((0,a.Z)({},l[null===e||void 0===e?void 0:e.uuid]),{},(0,s.Z)({},null===i||void 0===i?void 0:i.uuid,"")))),o.push(t);else Z.Y.debug("error from required"),Z.Y.debug("section no",t),Z.Y.debug("answer in required",c[null===i||void 0===i?void 0:i.uuid]),u[null===i||void 0===i?void 0:i.uuid]="This is required field",o.push(t)}));be(o.length>0?o[0]:0),Z.Y.debug("Section errors in  ",u),Z.Y.debug("Section : ",o),i[null===e||void 0===e?void 0:e.uuid]=(0,a.Z)({},u)})),Ae((0,a.Z)({},l)),function(e){fn((0,a.Z)({},e))}(i),Object.keys(i).every((function(e){return 0===Object.keys(i[e]).length}))&&(sn(!0),Yn(n,void 0,l))},Pn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(w.zJ+xe.id+"/decline",{comment:n.comment});case 3:t=e.sent,Z.Y.debug("Response from backend for decline assessment",t),201==t.status&&(Rn({titleMessage:"Success",descriptionMessage:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message,messageType:"success"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Sn(e.t0,"onSubmitReason");case 11:An(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),Hn=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.H.post(w.XI+xe.id+"/accept");case 3:201==(n=e.sent).status&&(Rn({titleMessage:"Success",descriptionMessage:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message,messageType:"success"},(function(){return Bn.current()})),An(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Sn(e.t0,"onAcceptAssessments"),An(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ln=(0,b.useState)(!1),Fn=(0,l.Z)(Ln,2),Un=Fn[0],qn=Fn[1],Gn=function(){je("/assessment-list")},Qn=(0,b.useState)(""),zn=(0,l.Z)(Qn,2),Kn=zn[0],Vn=zn[1],$n=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,t,s,o,l,r,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Be||!He){e.next=15;break}return e.next=4,k.H.post(w.j5+xe.id+"/download",(0,a.Z)({},ne),{responseType:"blob"});case 4:n=e.sent,t=window.URL.createObjectURL(new Blob([n.data])),(s=document.createElement("a")).href=t,o=(0,S.d)(),s.setAttribute("download","Assessment - ".concat(o,".xlsx")),document.body.appendChild(s),s.click(),201==n.status&&Rn({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return Bn.current()})),e.next=17;break;case 15:return e.next=17,(0,S.j)("Assessment",Rn,xe.id,Bn,w.j5,je);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),400===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.status)&&"Invalid assessment!"===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(d=r.data)||void 0===d?void 0:d.message)?(Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})),setTimeout((function(){je("/assessment-list")}),3e3)):(0,M.K)(e.t0,Rn,Bn,je);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),Jn=(0,b.useState)(!1),Wn=(0,l.Z)(Jn,2),Xn=Wn[0],et=Wn[1],nt=function(){ue(""),Vn(""),le(!1),et(!1)},tt=function(){var e,n;(Z.Y.debug("Inside add Table assessment value function"),Re&&(null===(e=Object.keys(Re))||void 0===e?void 0:e.length)>0)&&(null===Re||void 0===Re||null===(n=Re.sections)||void 0===n||n.forEach((function(e){if("table"===(null===e||void 0===e?void 0:e.layout)&&(!De[null===e||void 0===e?void 0:e.uuid]||0===Object.keys(De[null===e||void 0===e?void 0:e.uuid]).length)){var n=(0,a.Z)({},De);n[null===e||void 0===e?void 0:e.uuid]={},null===e||void 0===e||e.rowValues.forEach((function(t){var s;null===e||void 0===e||null===(s=e.columnValues)||void 0===s||s.forEach((function(s){n[null===e||void 0===e?void 0:e.uuid]["".concat(null===s||void 0===s?void 0:s.uuid,"_").concat(null===t||void 0===t?void 0:t.uuid)]=""}))})),Ae(n)}})))};return tt(),console.log("charts:- ",ne),(0,I.jsxs)("div",{className:"page-wrapper",onClick:function(){return Un&&qn(!1)},children:[(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Accept/Reject Assessment "}),info1:(0,I.jsxs)("p",{className:"accrej-txtwrap",children:[(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Assessment title ",(0,I.jsx)("span",{children:":"})]}),(null===ke||void 0===ke||null===(e=ke.title)||void 0===e?void 0:e.length)<=36?(0,I.jsx)("span",{className:"accrej-desc",children:null===ke||void 0===ke?void 0:ke.title}):(0,I.jsx)(p.Z,{title:null===ke||void 0===ke?void 0:ke.title,children:(0,I.jsxs)("span",{className:"accrej-desc",children:[" ",null===ke||void 0===ke||null===(n=ke.title)||void 0===n?void 0:n.slice(0,39),"..."]})})]}),(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Assessment type ",(0,I.jsx)("span",{children:":"})]}),(null===ke||void 0===ke||null===(t=ke.assessmentType)||void 0===t?void 0:t.length)<=36?(0,I.jsx)("span",{className:"accrej-desc",children:null===ke||void 0===ke?void 0:ke.assessmentType}):(0,I.jsx)(p.Z,{title:null===ke||void 0===ke?void 0:ke.assessmentType,children:(0,I.jsxs)("span",{className:"accrej-desc",children:[" ",null===ke||void 0===ke||null===(r=ke.assessmentType)||void 0===r?void 0:r.slice(0,39),"..."]})})]}),(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Member company ",(0,I.jsx)("span",{children:":"})]}),(null===ke||void 0===ke||null===(D=ke.assignedMember)||void 0===D||null===(A=D.companyName)||void 0===A?void 0:A.length)<=36?(0,I.jsx)("span",{className:"accrej-desc",children:null===ke||void 0===ke||null===(O=ke.assignedMember)||void 0===O?void 0:O.companyName}):(0,I.jsx)(p.Z,{title:null===ke||void 0===ke||null===(B=ke.assignedMember)||void 0===B?void 0:B.companyName,children:(0,I.jsxs)("span",{className:"accrej-desc",children:[" ",null===ke||void 0===ke||null===(Y=ke.assignedMember)||void 0===Y||null===(P=Y.companyName)||void 0===P?void 0:P.slice(0,39),"..."]})})]}),(0,I.jsxs)("span",{className:"accrej-txtblk",children:[(0,I.jsxs)("span",{className:"accrej-label",children:["Due date ",(0,I.jsx)("span",{children:":"})]}),(0,I.jsx)("span",{className:"accrej-desc",children:new Date(new Date(null===ke||void 0===ke?void 0:ke.dueDate).setDate(new Date(null===ke||void 0===ke?void 0:ke.dueDate).getDate()-1)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),"Click \u201cAccept\u201d if you want to fill out the assessment, or else provide a reason and reject the assessment, if you don\u2019t want to continue with it."]}),info2:(0,I.jsx)(x.Qr,{name:"comment",control:pe,rules:{required:!0,minLength:3},render:function(e){var n=e.field,t=e.fieldState.error;return(0,I.jsx)(m.Z,(0,a.Z)((0,a.Z)({multiline:!0},n),{},{onBlur:function(e){var n;return me("comment",null===(n=e.target.value)||void 0===n?void 0:n.trim())},inputProps:{maxLength:250},className:"input-textarea ".concat(t&&"input-textarea-error"),style:{marginBottom:"10px"},id:"outlined-basic",placeholder:"Enter reason",helperText:t?z.comment[t.type]:" ",variant:"outlined"}))}}),primaryButtonText:"Accept",secondaryButtonText:"Reject",onPrimaryModalButtonClickHandler:function(){Hn()},onSecondaryModalButtonClickHandler:ve(Pn),openModal:Dn,setOpenModal:An,isModalForm:!0,handleCloseRedirect:Gn}),(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Re-open Assessment ?"}),info1:" ",info2:(0,I.jsx)("p",{className:"mb-30",children:"Are you sure you want to edit the given submitted assessment?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:function(){return Yn(!0,!0,De),void yn(!1)},onSecondaryModalButtonClickHandler:function(){return yn(!1),void je("/assessment-list")},openModal:xn,setOpenModal:yn,isModalForm:!0,handleCloseRedirect:Gn}),(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Data Upload"}),info1:" ",info2:(0,I.jsxs)("div",{className:"upload-file-wrap",children:[(0,I.jsx)(h.Z,{variant:"contained",component:"label",className:"upload-file-btn",children:(0,I.jsxs)("div",{className:de?"upload-file-blk selected-file-blk":"upload-file-blk",children:[(0,I.jsx)("input",{type:"file",hidden:!0,accept:".xls, .xlsx",onChange:function(e){Vn(e.target.files[0].name),ue(e.target.files[0])}}),(0,I.jsx)("span",{className:"upload-icon",children:(0,I.jsx)(d.Z,{})}),(0,I.jsx)("span",{className:"file-upload-txt",children:"Click here to choose file (.xlsx)"})]})}),(0,I.jsx)("p",{className:"select-filename",children:Kn})]}),primaryButtonText:"Upload",secondaryButtonText:"Cancel",onPrimaryModalButtonClickHandler:function(){return function(){le(!0);try{if(!de)return le(!1),le(!1),Rn({titleMessage:"error",descriptionMessage:"Please select excel file",messageType:"error"},(function(){return Bn.current()}));var e=new FileReader;if(e.readAsDataURL(de),"application/vnd.ms-excel"!==de.type&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==de.type)return ue(""),Vn(""),le(!1),Rn({titleMessage:"error",descriptionMessage:"Invalid file type Please uplaod excel file",messageType:"error"},(function(){return Bn.current()}));e.onloadend=(0,o.Z)((0,i.Z)().mark((function n(){var t,s,o,l,a,r,d,u,c,v;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.result,s=q.AES.encrypt(t,w.kc).toString(),n.prev=2,rn(!0),n.next=6,k.H.post(w.fh+"".concat(xe.id,"/upload"),{encryptedFile:s});case 6:if(201!=(o=n.sent).status){n.next=36;break}if(le(!1),ue(""),Vn(""),rn(!1),et(!1),Rn({titleMessage:"Success",descriptionMessage:"Successfully imported excel file!",messageType:"success"},(function(){return Bn.current()})),Ae(o.data.answers),tt(),!o.data.containsErrors){n.next=36;break}return n.prev=17,n.next=20,k.H.get(w.fh+"".concat(o.data.correctionId,"/corrections"),{responseType:"blob"});case 20:l=n.sent,a=window.URL.createObjectURL(new Blob([l.data])),(r=document.createElement("a")).href=a,d=(0,S.d)(),r.setAttribute("download","Corrections - ".concat(d,".xlsx")),document.body.appendChild(r),r.click(),kn(!0),Rn({titleMessage:"error",descriptionMessage:(0,I.jsxs)("p",{children:["Excel file has missing/invalid fields.Please check"," ",(0,I.jsx)("b",{children:"Corrections sheet"}),' attached with it".']}),messageType:"error"},(function(){return Bn.current()})),n.next=36;break;case 32:n.prev=32,n.t0=n.catch(17),le(!1),Z.Y.debug("Error from corections doc download",n.t0);case 36:n.next=45;break;case 38:n.prev=38,n.t1=n.catch(2),Z.Y.debug("Error from UPLOAD api",n.t1),rn(!1),le(!1),Vn(""),400===(null===n.t1||void 0===n.t1||null===(u=n.t1.response)||void 0===u?void 0:u.status)&&"Invalid assessment!"===(null===n.t1||void 0===n.t1||null===(c=n.t1.response)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.message)?Rn({titleMessage:"Oops!",descriptionMessage:"Oops!! There is some error while saving assessment details. Either someone has removed this assessment or looks like invalid assessment getting submitted. For more details please contact system / CGF admin",messageType:"error"},(function(){return Bn.current()})):(0,M.K)(n.t1,Rn,Bn,je);case 45:return n.prev=45,le(!1),n.finish(45);case 48:case"end":return n.stop()}}),n,null,[[2,38,45,48],[17,32]])})))}catch(n){ue(""),Vn(""),le(!1),Z.Y.debug("error in reupload assessment",n)}}()},isDisabledPrimaryButton:an,onSecondaryModalButtonClickHandler:function(){return nt()},openModal:Xn,setOpenModal:et,isModalForm:!0,handleCloseRedirect:nt}),(0,I.jsx)(T.Z,{title:(0,I.jsx)("p",{children:"Alert"}),info1:" ",info2:(0,I.jsx)("p",{className:"mb-30",children:"Please open the correction sheet, make necessary changes in the imported excel sheet and import again."}),openModal:wn,setOpenModal:kn,isModalForm:!0,primaryButtonText:"OK",onPrimaryModalButtonClickHandler:function(){return kn(!1)},handleCloseRedirect:function(){return kn(!1)}}),(0,I.jsx)(N.Z,{myRef:Bn,titleMessage:Mn.titleMessage,descriptionMessage:Mn.descriptionMessage,messageType:Mn.messageType}),(0,I.jsx)("div",{className:"breadcrumb-wrapper",children:(0,I.jsx)("div",{className:"container",children:(0,I.jsxs)("ul",{className:"breadcrumb",children:[(0,I.jsx)("li",{children:(0,I.jsx)("a",{onClick:function(){return je("/assessment-list")},style:{cursor:"pointer"},children:"Assessments"})}),xe["*"].includes("view")?(0,I.jsx)("li",{children:"View Assessment"}):(0,I.jsx)("li",{children:"Fill Assessment"})]})})}),(0,I.jsx)("section",{children:(0,I.jsxs)("div",{className:"container",children:[(0,I.jsxs)("div",{className:"form-header flex-between preview-assessment-ttl",children:[(0,I.jsx)("h2",{className:"heading2",children:null===Re||void 0===Re?void 0:Re.title}),(0,I.jsxs)("div",{className:"flex-between",children:[(0,I.jsxs)("div",{className:"tertiary-btn-blk mr-20",onClick:function(){je("/assessment-list/instructions")},children:[(0,I.jsx)("span",{className:"preview-icon",children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)("span",{className:"addmore-txt",children:"View Instructions"})]}),(0,I.jsxs)("span",{className:"form-header-right-txt",onClick:function(){qn(!Un)},children:[(0,I.jsx)("span",{className:"crud-operation",children:(0,I.jsx)(u.Z,{})}),(0,I.jsx)("div",{className:"crud-toggle-wrap assessment-crud-toggle-wrap",style:{display:Un?"block":"none"},children:(0,I.jsxs)("ul",{className:"crud-toggle-list",children:[(0,I.jsx)("li",{onClick:function(){return $n()},children:"Export to Excel"}),xe["*"].includes("view")||(0,I.jsx)("li",{onClick:function(){return et(!0)},children:"Import File"})]})})]})]}),(0,I.jsx)("div",{className:"excel-short-name",children:(0,I.jsx)("p",{children:null!==(K=null===Re||void 0===Re?void 0:Re.sheetName)&&void 0!==K?K:""})})]}),(0,I.jsxs)("div",{className:"section-form-sect",children:[(0,I.jsx)("div",{className:"section-tab-blk flex-between preview-tab-blk",children:(0,I.jsx)("div",{className:"section-tab-leftblk",children:(0,I.jsx)(v.Z,{sx:{borderBottom:1,borderColor:"divider"},className:"tabs-sect que-tab-sect",children:(0,I.jsxs)(f.Z,{value:ge,onChange:function(e,n){be(n)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:[null===Re||void 0===Re||null===(V=Re.sections)||void 0===V?void 0:V.map((function(e,n,t){return(0,I.jsx)(p.Z,{title:e.sectionTitle,placement:"bottom-start",children:(0,I.jsx)(g.Z,(0,a.Z)({className:"section-tab-item",label:"section ".concat(n+1)},Q(n)))},null===e||void 0===e?void 0:e.uuid)})),He&&Be&&(0,I.jsx)(g.Z,(0,a.Z)({className:"section-tab-item",label:"Results"},Q(null===Re||void 0===Re||null===($=Re.sections)||void 0===$?void 0:$.length)))]})})})}),oe?(0,I.jsx)(R.Z,{}):(0,I.jsxs)("div",{className:"preview-tab-data",children:[null===Re||void 0===Re||null===(J=Re.sections)||void 0===J?void 0:J.map((function(e,n){var t,s;return(0,I.jsx)(G,{value:ge,index:n,children:(0,I.jsx)(H,{assessmentQuestionnaire:De,disableFillAssessment:tn,setAssessmentQuestionnaire:Ae,section:e,questionnaireTitle:null===Re||void 0===Re?void 0:Re.title,errorQuestion:qe,setErrorQuestion:Ge,errorQuestionUUID:Ke,setErrorQuestionUUID:Ve,errors:null!==(t=hn[null===e||void 0===e?void 0:e.uuid])&&void 0!==t?t:{},handleFormSubmit:_n,editMode:We,setEditMode:Xe,index:n,totalSections:null===Re||void 0===Re||null===(s=Re.sections)||void 0===s?void 0:s.length,setToasterDetails:Rn,myRef:Bn})},null===e||void 0===e?void 0:e.uuid)})),Be&&He&&(0,I.jsx)(G,{value:ge,index:null===Re||void 0===Re||null===(W=Re.sections)||void 0===W?void 0:W.length,children:(0,I.jsx)(_,{chartImages:ne,setChartImages:te,questionnaireTitle:null===Re||void 0===Re?void 0:Re.title,graphResult:He,graphLevelBreakdown:Be})})]})]})]})})]})}},1300:function(e,n,t){"use strict";var s=t(9823),i=t(9444),o=t(5112),l=t(7962),a=t(6015),r=t(5814),d=(t(2791),t(184));n.Z=function(e){var n,t,u,c,v,p,m=e.title,h=e.info1,f=e.info2,g=e.primaryButtonText,b=e.secondaryButtonText,x=void 0===b?void 0:b,y=e.onPrimaryModalButtonClickHandler,j=e.isDisabledPrimaryButton,Z=void 0!==j&&j,w=e.onSecondaryModalButtonClickHandler,k=e.openModal,T=e.setOpenModal,N=e.isModalForm,M=e.handleCloseRedirect,R=function(e,n){n&&"backdropClick"===n||T(!1)},S=function(){w()},E="";return"object"===typeof(null===m||void 0===m||null===(n=m.props)||void 0===n?void 0:n.children)?null===m||void 0===m||null===(t=m.props)||void 0===t||null===(u=t.children)||void 0===u||u.map((function(e){return E+=e})):E=null===m||void 0===m||null===(c=m.props)||void 0===c?void 0:c.children,(0,d.jsx)(i.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:k,onClose:R,closeAfterTransition:!0,disableEscapeKeyDown:!!N,BackdropComponent:o.Z,BackdropProps:{timeout:500},className:"popup-blk",children:(0,d.jsx)(l.Z,{in:k,children:(0,d.jsx)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},className:"popup-box",children:(0,d.jsxs)("div",{className:"popup-innerblk",children:[(0,d.jsxs)("div",{id:"transition-modal-title",className:"popup-ttl-blk",children:[(null===(v=E)||void 0===v?void 0:v.length)<=47?(0,d.jsx)("h2",{className:"popup-ttl heading2",children:m}):(0,d.jsx)(r.Z,{title:E,children:(0,d.jsxs)("h2",{className:"popup-ttl heading2",children:[" ",null===(p=E)||void 0===p?void 0:p.slice(0,50),'..."']})}),(0,d.jsx)("span",{className:"popup-close-icon",onClick:N?M:R,children:(0,d.jsx)(s.Z,{})})]}),(0,d.jsx)("div",{id:"transition-modal-description",className:"popup-body",children:(0,d.jsxs)("div",{className:"popup-content-blk text-center",children:[h,N?(0,d.jsx)("form",{onSubmit:S,children:f}):f,(0,d.jsxs)("div",{className:"form-btn flex-center",children:[x&&(0,d.jsx)("button",{type:"submit",onClick:S,className:"secondary-button mr-10",children:x}),(0,d.jsx)("button",{type:"submit",onClick:function(){y()},disabled:Z,className:"primary-button",children:g})]})]})})]})})})})}},7659:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(2131),i=t(5130),o=t(2791),l=t(5985),a=(t(5462),t(184));var r=function(e){e.titleMessage;var n=e.descriptionMessage,t=e.messageType,r=e.myRef,d=(e.key,function(){(0,l.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),u=function(){return(0,a.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,a.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,a.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,a.jsx)(s.Z,{}),"error"===t&&(0,a.jsx)(i.Z,{})]})}),(0,a.jsx)("div",{className:"toaster-right",children:(0,a.jsx)("p",{children:n})})]})};return(0,o.useEffect)((function(){r.current=d}),[d,r]),(0,a.jsxs)("div",{className:"toaster-sect",children:[(0,a.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,a.jsx)(l.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},5736:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var s=t(4165),i=t(5861),o=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i,o,l){var a,r,d,u,c,v,p,m,h,f,g=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=g.length>5&&void 0!==g[5]?g[5]:0,401==n.response.status?(t({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return i.current()})),setTimeout((function(){o("/login")}),3e3)):403===(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)?(t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(d=n.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&u.message?null===n||void 0===n||null===(c=n.response)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),setTimeout((function(){o("/home")}),3e3)):(console.log("Else block"),console.log("route = ",l),console.log("erro in else block",n),t({titleMessage:"Oops!",descriptionMessage:null!==n&&void 0!==n&&null!==(p=n.response)&&void 0!==p&&null!==(m=p.data)&&void 0!==m&&m.message?null===n||void 0===n||null===(h=n.response)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return i.current()})),l&&setTimeout((function(){o(l,{state:r})}),3e3));case 2:case"end":return e.stop()}}),e)})));return function(n,t,s,i,o){return e.apply(this,arguments)}}()},7806:function(e,n,t){"use strict";t.d(n,{d:function(){return r},j:function(){return d}});var s=t(4165),i=t(5861),o=t(4677),l=t(4917),a=t(5736),r=function(){var e=(new Date).getMonth()<10?"0"+((new Date).getMonth()+1).toString():(new Date).getMonth().toString(),n=(new Date).getDate()<10?"0"+(new Date).getDate().toString():(new Date).getDate().toString(),t=(new Date).getHours();return e+n+(new Date).getFullYear().toString()+"_"+t+(new Date).getMinutes()+(new Date).getSeconds()},d=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i,d,u,c){var v,p,m,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.Y.debug("navigate = ",c),e.prev=1,e.next=4,o.H.get(i?u+i+"/download":u,{responseType:"blob"});case 4:v=e.sent,l.Y.debug("resposne from ".concat(n,"  assessment "),v),p=window.URL.createObjectURL(new Blob([v.data])),(m=document.createElement("a")).href=p,h=r(),m.setAttribute("download","".concat(n," - ").concat(h,".xlsx")),document.body.appendChild(m),m.click(),200==v.status&&t({titleMessage:"Success!",descriptionMessage:"Downloaded Successfully!",messageType:"success"},(function(){return d.current()})),e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(1),l.Y.debug("Error from ".concat(n,"  Assessment"),e.t0),(0,a.K)(e.t0,t,d,c),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n,t,s,i,o,l){return e.apply(this,arguments)}}()},2820:function(e,n,t){"use strict";var s=t(885),i=t(2791);n.Z=function(e){var n=(0,i.useState)(e),t=(0,s.Z)(n,2),o=t[0],l=t[1],a=(0,i.useRef)([]);(0,i.useEffect)((function(){a.current.forEach((function(e){return e(o)})),a.current=[]}),[o]);return[o,function(e,n){l(e),n&&"function"===typeof n&&a.current.push(n)}]}},1260:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var s=t(2791),i=function(e){return(0,s.useEffect)((function(){document.title="HRDD System - ".concat(e)}),[e]),null}},2480:function(){}}]);
//# sourceMappingURL=5209.c7812f11.chunk.js.map