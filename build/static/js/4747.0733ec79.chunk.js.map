{"version":3,"file":"static/js/4747.0733ec79.chunk.js","mappings":"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","sources":["Pages/AssessmentModule/FillAssessmentSection.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport DialogBox from \"../../components/DialogBox\";\nimport { Logger } from \"../../Logger/Logger\";\nconst FillAssessmentQuestion = React.lazy(() =>\n  import(\"./FillAssessmentQuestions\")\n);\nconst TableAssessment = React.lazy(() => import(\"./TableAssesment\"));\nconst getTransformedColumns = (columns) => {\n  let transformedColumns = {};\n  columns.forEach((column) => {\n    transformedColumns[column.uuid] = column;\n  });\n  return transformedColumns;\n};\n\nconst getTransformedRows = (rows) => {\n  let transfromedRows = {};\n  rows.forEach((row) => {\n    transfromedRows[row.uuid] = row;\n  });\n\n  return transfromedRows;\n};\n\nfunction FillAssesmentSection({\n  myRef,\n  setToasterDetails,\n  section,\n  setAssessmentQuestionnaire,\n  assessmentQuestionnaire,\n  errorQuestion,\n  setErrorQuestion,\n  errorQuestionUUID,\n  setErrorQuestionUUID,\n  errors,\n  handleSetErrors,\n  handleFormSubmit,\n  editMode,\n  setEditMode,\n  disableFillAssessment,\n  totalSections,\n  index,\n}) {\n  const navigate = useNavigate();\n  const params = useParams();\n\n  const showSubmitOnFinalSection = () => {\n   \n    return totalSections === index + 1 ? false : true;\n  };\n\n  // cancel dailog box open/close state\n  \n\n  const [openCancelDailog, setOpenCancelDailog] = useState(false);\n\n  const handleAnswersChange = (name, value) => {\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value,\n      },\n    });\n  };\n  const handleAnswersBlur = (name, value) => {\n    Logger.info(\"Fill Assessment section - handleAnswersBlur handler\");\n\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value?.trim(),\n      },\n    });\n  };\n  return (\n    <>\n      <DialogBox\n        title={<p>Cancel Assessment</p>}\n        info1={\n          <p>\n            On canceling, all the unsaved details of the sections will be\n            removed.\n          </p>\n        }\n        info2={<p>Do you still want to cancel it?</p>}\n        primaryButtonText={\"Yes\"}\n        secondaryButtonText={\"No\"}\n        onPrimaryModalButtonClickHandler={() => {\n          navigate(\"/assessment-list\");\n        }}\n        onSecondaryModalButtonClickHandler={() => {\n          setOpenCancelDailog(false);\n        }}\n        openModal={openCancelDailog}\n        setOpenModal={setOpenCancelDailog}\n      />\n      <div className=\"preview-sect-ttl-wrap\">\n        <div className=\"preview-sect-card-ttl-blk\">\n          <h2 className=\"subheading\">{section?.sectionTitle}</h2>\n        </div>\n        <div className=\"preview-sect-txt\">{section?.description}</div>\n      </div>\n      <div className=\"preview-card-wrapper\">\n        <div className=\"preview-que-wrap\">\n          {section.layout === \"form\" ? (\n            section.questions.map((question) => (\n              <FillAssessmentQuestion\n                key={question?.uuid}\n                assessmentQuestionnaire={assessmentQuestionnaire}\n                setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n                sectionUUID={section?.uuid}\n                question={question}\n                errorQuestion={errorQuestion}\n                setErrorQuestion={setErrorQuestion}\n                errorQuestionUUID={errorQuestionUUID}\n                setErrorQuestionUUID={setErrorQuestionUUID}\n                answer={\n                  assessmentQuestionnaire[section?.uuid] &&\n                  assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    ? assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    : question?.inputType === \"checkbox\"\n                    ? []\n                    : \"\"\n                }\n                error={errors[question?.uuid] ?? \"\"}\n                handleAnswersChange={handleAnswersChange}\n                handleAnswersBlur={handleAnswersBlur}\n                editMode={editMode}\n                setEditMode={setEditMode}\n              />\n            ))\n          ) : (\n            <TableAssessment\n              setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n              assessmentQuestionnaire={assessmentQuestionnaire}\n              sectionUUID={section?.uuid}\n              columnValues={section?.columnValues}\n              rowValues={section?.rowValues}\n              handleAnswersChange={handleAnswersChange}\n              handleAnswersBlur={handleAnswersBlur}\n              errors={errors ?? {}}\n              editMode={editMode}\n              myRef={myRef}\n              setToasterDetails={setToasterDetails}\n            />\n          )}\n        </div>\n        {editMode && !params[\"*\"].includes(\"view\") ? (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => setOpenCancelDailog(true)}\n              className=\"secondary-button mr-10\"\n              disabled={disableFillAssessment}\n            >\n              Cancel\n            </button>\n\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, true)}\n              disabled={disableFillAssessment}\n              className=\"outlined-button add-button mr-10\"\n            >\n              Save as draft\n            </button>\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, false)}\n              disabled={disableFillAssessment}\n              className=\"primary-button add-button\"\n              hidden={showSubmitOnFinalSection()}\n            >\n              Submit assessment\n            </button>\n          </div>\n        ) : (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => navigate(\"/assessment-list\")}\n              className=\"secondary-button\"\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default FillAssesmentSection;\n"],"names":["FillAssessmentQuestion","React","TableAssessment","_ref","myRef","setToasterDetails","section","setAssessmentQuestionnaire","assessmentQuestionnaire","errorQuestion","setErrorQuestion","errorQuestionUUID","setErrorQuestionUUID","errors","handleFormSubmit","handleSetErrors","editMode","setEditMode","disableFillAssessment","totalSections","index","navigate","useNavigate","params","useParams","_useState","useState","_useState2","_slicedToArray","openCancelDailog","setOpenCancelDailog","handleAnswersChange","name","value","_objectSpread","_defineProperty","uuid","handleAnswersBlur","Logger","trim","_jsxs","_Fragment","children","_jsx","DialogBox","title","info1","info2","primaryButtonText","secondaryButtonText","onPrimaryModalButtonClickHandler","onSecondaryModalButtonClickHandler","openModal","setOpenModal","className","sectionTitle","description","layout","questions","map","question","_errors$question$uuid","sectionUUID","answer","inputType","error","columnValues","rowValues","includes","type","onClick","disabled","e","hidden"],"sourceRoot":""}