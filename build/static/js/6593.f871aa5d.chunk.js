"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[6593],{6593:function(s,e,r){r.r(e);var n=r(4165),o=r(5861),a=r(1413),t=r(885),d=r(2791),i=r(1134),l=r(4695),c=r(6746),u=r(7689),m=r(1087),w=r(1724),p=r(4917),h=r(6218),f=r(4677),v=r(7659),g=r(5736),x=r(2010),P=r(2820),j=r(1260),N=r(184),Z=w.Ry().shape({oldPassword:w.Z_().required("Enter the old password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),newPassword:w.Z_().required("Enter the new password").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/,"Password must contain at least 6 characters, one uppercase, one number and one special case character"),confirmPassword:w.Z_().required("Enter the confirm password").oneOf([w.iH("newPassword"),null],"Password does not match.")});e.default=function(){(0,j.j)("Change Password");var s=(0,u.s0)(),e=(0,i.cI)({resolver:(0,l.X)(Z)}),r=e.handleSubmit,w=e.register,b=e.setValue,y=e.reset,C=e.formState.errors,M=(0,d.useRef)(),k=(0,P.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),O=(0,t.Z)(k,2),T=O[0],H=O[1],S=d.useState({oldPassword:"",showOldPassword:"",newPassword:"",showNewPassword:!1,confirmPassword:"",showConfirmPassword:!1}),_=(0,t.Z)(S,2),E=_[0],A=_[1],D=function(s){s.preventDefault()},R=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var o,a,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.Y.info("Change Password - Change Password handler"),e.prev=1,e.next=4,f.H.post(h.oj,{oldPassword:r.oldPassword,password:r.newPassword,confirmPassword:r.confirmPassword});case 4:201==(o=e.sent).status&&(H({titleMessage:"Hurray!",descriptionMessage:o.data.message,messageType:"success"},(function(){return M.current()})),setTimeout((function(){s("/home")}),3e3),y()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),p.Y.info("Change Password - Change Password handler catch error".concat(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)),y(),(0,g.K)(e.t0,H,M,s);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(s){return e.apply(this,arguments)}}();return(0,N.jsxs)("div",{className:"page-wrapper",children:[(0,N.jsx)(v.Z,{myRef:M,titleMessage:T.titleMessage,descriptionMessage:T.descriptionMessage,messageType:T.messageType}),(0,N.jsx)("div",{className:"breadcrumb-wrapper",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("ul",{className:"breadcrumb",children:[(0,N.jsx)("li",{children:(0,N.jsx)(m.rU,{to:"/home",children:"Home"})}),(0,N.jsx)("li",{children:"Change Password"})]})})}),(0,N.jsx)("section",{className:"container",children:(0,N.jsxs)("form",{onSubmit:r(R),children:[(0,N.jsx)("div",{className:"form-header flex-between",children:(0,N.jsx)("h2",{className:"heading2",children:"Change Password"})}),(0,N.jsxs)("div",{className:"card-wrapper",children:[(0,N.jsx)("div",{className:"card-blk flex-between",children:(0,N.jsx)("div",{className:"card-form-field",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"oldPassword",children:["Old Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(c.Z,(0,a.Z)((0,a.Z)({fullWidth:!0,id:"outlined-adornment-password",type:E.showOldPassword?"text":"password",placeholder:"Enter old password",className:"input-field ".concat(C.oldPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,N.jsx)(x.Z,{show:null===E||void 0===E?void 0:E.showOldPassword,onClickHandler:function(){A((0,a.Z)((0,a.Z)({},E),{},{showOldPassword:!E.showOldPassword}))},onMouseDown:D})},w("oldPassword")),{},{onBlur:function(s){return b("oldPassword",s.target.value.trim())},error:!!C.oldPassword})),(0,N.jsx)("p",{className:"password-error",children:null!==C&&void 0!==C&&C.oldPassword?C.oldPassword.message:(0,N.jsx)("span",{children:"\xa0"})})]})]})})}),(0,N.jsx)("div",{className:"card-form-field",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"password",children:["New Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(c.Z,(0,a.Z)((0,a.Z)({fullWidth:!0,id:"outlined-adornment-password",type:E.showNewPassword?"text":"password",placeholder:"Enter new password",className:"input-field ".concat((null===C||void 0===C?void 0:C.newPassword)&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,N.jsx)(x.Z,{show:null===E||void 0===E?void 0:E.showNewPassword,onClickHandler:function(){A((0,a.Z)((0,a.Z)({},E),{},{showNewPassword:!E.showNewPassword}))},mouseDownHandler:D})},w("newPassword")),{},{onBlur:function(s){return b("newPassword",s.target.value.trim())},error:!!C.password})),(0,N.jsx)("p",{className:"password-error",children:null!==C&&void 0!==C&&C.newPassword?C.newPassword.message:(0,N.jsx)("span",{children:"\xa0"})})]})]})}),(0,N.jsx)("div",{className:"card-form-field",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsxs)("label",{htmlFor:"password",children:["Confirm Password ",(0,N.jsx)("span",{className:"mandatory",children:"*"})]}),(0,N.jsxs)("div",{className:"password-field",children:[(0,N.jsx)(c.Z,(0,a.Z)((0,a.Z)({fullWidth:!0,id:"outlined-adornment-password",type:E.showConfirmPassword?"text":"password",placeholder:"Enter confirm password",className:"input-field ".concat(C.confirmPassword&&"input-error"),inputProps:{maxLength:15},endAdornment:(0,N.jsx)(x.Z,{show:null===E||void 0===E?void 0:E.showConfirmPassword,onClickHandler:function(){A((0,a.Z)((0,a.Z)({},E),{},{showConfirmPassword:!E.showConfirmPassword}))},onMouseDown:D})},w("confirmPassword")),{},{onBlur:function(s){return b("confirmPassword",s.target.value.trim())},error:!!C.confirmPassword})),(0,N.jsx)("p",{className:"password-error",children:null!==C&&void 0!==C&&C.confirmPassword?C.confirmPassword.message:(0,N.jsx)("span",{children:"\xa0"})})]})]})}),(0,N.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,N.jsx)("button",{type:"reset",onClick:function(){return s("/home")},className:"secondary-button mr-10",children:"Cancel"}),(0,N.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})]})})]})}},7659:function(s,e,r){r.d(e,{Z:function(){return i}});var n=r(2131),o=r(5130),a=r(2791),t=r(5985),d=(r(5462),r(184));var i=function(s){s.titleMessage;var e=s.descriptionMessage,r=s.messageType,i=s.myRef,l=(s.key,function(){(0,t.Am)(c,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})}),c=function(){return(0,d.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===r&&"toaster-blk-success"),children:[(0,d.jsx)("div",{className:"toaster-left ".concat("success"===r&&"toaster-left-success"),children:(0,d.jsxs)("div",{className:"toaster-icon",children:["success"===r&&(0,d.jsx)(n.Z,{}),"error"===r&&(0,d.jsx)(o.Z,{})]})}),(0,d.jsx)("div",{className:"toaster-right",children:(0,d.jsx)("p",{children:e})})]})};return(0,a.useEffect)((function(){i.current=l}),[l,i]),(0,d.jsxs)("div",{className:"toaster-sect",children:[(0,d.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,d.jsx)(t.Ix,{className:"toaster-wrap ".concat("success"===r&&"toaster-wrap-success"," ")})]})}},5736:function(s,e,r){r.d(e,{K:function(){return a}});var n=r(4165),o=r(5861),a=function(){var s=(0,o.Z)((0,n.Z)().mark((function s(e,r,o,a,t){var d,i,l,c,u,m,w,p,h,f,v=arguments;return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=v.length>5&&void 0!==v[5]?v[5]:0,401==e.response.status?(r({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(function(){return o.current()})),setTimeout((function(){a("/login")}),3e3)):403===(null===e||void 0===e||null===(d=e.response)||void 0===d?void 0:d.status)?(r({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.message?null===e||void 0===e||null===(u=e.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return o.current()})),setTimeout((function(){a("/home")}),3e3)):(r({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(w=e.response)&&void 0!==w&&null!==(p=w.data)&&void 0!==p&&p.message?null===e||void 0===e||null===(h=e.response)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(function(){return o.current()})),t&&setTimeout((function(){a(t,{state:i})}),3e3));case 2:case"end":return s.stop()}}),s)})));return function(e,r,n,o,a){return s.apply(this,arguments)}}()},2010:function(s,e,r){var n=r(8254),o=r(3811),a=(r(2791),r(184));e.Z=function(s){var e=s.show,r=s.onClickHandler,t=s.mouseDownHandler;return(0,a.jsx)(n.Z,{position:"end",children:(0,a.jsx)(o.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:t,edge:"end",className:"eye-btn",children:e?(0,a.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,a.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},2820:function(s,e,r){var n=r(885),o=r(2791);e.Z=function(s){var e=(0,o.useState)(s),r=(0,n.Z)(e,2),a=r[0],t=r[1],d=(0,o.useRef)([]);(0,o.useEffect)((function(){d.current.forEach((function(s){return s(a)})),d.current=[]}),[a]);return[a,function(s,e){t(s),e&&"function"===typeof e&&d.current.push(e)}]}},1260:function(s,e,r){r.d(e,{j:function(){return o}});var n=r(2791),o=function(s){return(0,n.useEffect)((function(){document.title="HRDD System - ".concat(s)}),[s]),null}}}]);
//# sourceMappingURL=6593.f871aa5d.chunk.js.map