"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[4747],{4747:(e,i,l)=>{l.r(i),l.d(i,{default:()=>c});var n=l(72791),o=l(57689),s=l(71300),d=l(14917),t=l(59418),r=l(80184);const u=n.lazy((()=>Promise.all([l.e(1807),l.e(3453)]).then(l.bind(l,83453)))),a=n.lazy((()=>l.e(1257).then(l.bind(l,61257))));const c=function(e){let{myRef:i,setToasterDetails:l,section:c,setAssessmentQuestionnaire:v,assessmentQuestionnaire:m,errorQuestion:h,setErrorQuestion:p,errorQuestionUUID:b,setErrorQuestionUUID:k,errors:x,handleSetErrors:y,handleFormSubmit:g,editMode:j,setEditMode:w,disableFillAssessment:f,totalSections:C,index:N,questionnaireId:M}=e;const U=(0,o.s0)(),Z=(0,o.UO)(),[I,T]=(0,n.useState)(!1),Q=(e,i)=>{v({...m,[null===c||void 0===c?void 0:c.uuid]:{...m[null===c||void 0===c?void 0:c.uuid],[e]:i}})},D=(e,i)=>{d.Y.info("Fill Assessment section - handleAnswersBlur handler"),v({...m,[null===c||void 0===c?void 0:c.uuid]:{...m[null===c||void 0===c?void 0:c.uuid],[e]:null===i||void 0===i?void 0:i.trim()}})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:(0,r.jsx)("p",{children:"Cancel Assessment"}),info1:(0,r.jsx)("p",{children:"On canceling, all the unsaved details of the sections will be removed."}),info2:(0,r.jsx)("p",{children:"Do you still want to cancel it?"}),primaryButtonText:"Yes",secondaryButtonText:"No",onPrimaryModalButtonClickHandler:()=>{U("/assessment-list")},onSecondaryModalButtonClickHandler:()=>{T(!1)},openModal:I,setOpenModal:T}),(0,r.jsxs)("div",{className:"preview-sect-ttl-wrap",children:[(0,r.jsx)("div",{className:"preview-sect-card-ttl-blk",children:(0,r.jsx)("h2",{className:"subheading",children:null===c||void 0===c?void 0:c.sectionTitle})}),(0,r.jsx)("div",{className:"preview-sect-txt",children:null===c||void 0===c?void 0:c.description})]}),(0,r.jsxs)("div",{className:"preview-card-wrapper",children:[(0,r.jsx)("div",{className:"preview-que-wrap",children:"form"===c.layout?c.questions.map((e=>{var i;return(0,r.jsx)(u,{assessmentQuestionnaire:m,setAssessmentQuestionnaire:v,sectionUUID:null===c||void 0===c?void 0:c.uuid,question:e,errorQuestion:h,setErrorQuestion:p,errorQuestionUUID:b,setErrorQuestionUUID:k,answer:m[null===c||void 0===c?void 0:c.uuid]&&m[null===c||void 0===c?void 0:c.uuid][null===e||void 0===e?void 0:e.uuid]?m[null===c||void 0===c?void 0:c.uuid][null===e||void 0===e?void 0:e.uuid]:"checkbox"===(null===e||void 0===e?void 0:e.inputType)?[]:"",error:null!==(i=x[null===e||void 0===e?void 0:e.uuid])&&void 0!==i?i:"",handleAnswersChange:Q,handleAnswersBlur:D,editMode:j,setEditMode:w},null===e||void 0===e?void 0:e.uuid)})):"documents"===(null===c||void 0===c?void 0:c.layout)?c.documents.map((e=>(0,r.jsx)(t.Z,{sectionUUID:null===c||void 0===c?void 0:c.uuid,questionnaireId:M,documentObj:e}))):(0,r.jsx)(a,{setAssessmentQuestionnaire:v,assessmentQuestionnaire:m,sectionUUID:null===c||void 0===c?void 0:c.uuid,columnValues:null===c||void 0===c?void 0:c.columnValues,rowValues:null===c||void 0===c?void 0:c.rowValues,handleAnswersChange:Q,handleAnswersBlur:D,errors:null!==x&&void 0!==x?x:{},editMode:j,myRef:i,setToasterDetails:l,section:c})}),j&&!Z["*"].includes("view")?(0,r.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,r.jsx)("button",{type:"reset",onClick:()=>T(!0),className:"secondary-button mr-10",disabled:f,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",onClick:e=>g(e,!0),disabled:f,className:"outlined-button add-button mr-10",children:"Save as draft"}),(0,r.jsx)("button",{type:"submit",onClick:e=>g(e,!1),disabled:f,className:"primary-button add-button",hidden:C!==N+1,children:"Submit assessment"})]}):(0,r.jsx)("div",{className:"form-btn flex-between add-members-btn",children:(0,r.jsx)("button",{type:"reset",onClick:()=>U("/assessment-list"),className:"secondary-button",children:"Cancel"})})]})]})}},59418:(e,i,l)=>{l.d(i,{Z:()=>y});var n=l(72791),o=l(94677),s=l(76218),d=l(57689),t=l(12820),r=l(27659),u=l(45736),a=l(79836),c=l(53382),v=l(53994),m=l(39281),h=l(35855),p=l(35527),b=l(20068),k=l(70034),x=l(80184);const y=function(e){var i,l,y,g,j,w,f,C,N,M;let{key:U,documentObj:Z={},doc:I={},sectionUUID:T="",questionnaireId:Q=""}=e;function D(e,i){return e.length<=i?e:e.substring(0,i-3)+"..."}console.log("qid",Q),console.log("documentObj",Z),console.log("doc",I),console.log("LINK ",null===Z||void 0===Z?void 0:Z.link);const A=(0,d.s0)(),[L,E]=(0,t.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),O=(0,n.useRef)();return(0,x.jsxs)("div",{children:[(0,x.jsx)(r.Z,{myRef:O,titleMessage:L.titleMessage,descriptionMessage:L.descriptionMessage,messageType:L.messageType}),(0,x.jsx)(m.Z,{component:p.Z,children:(0,x.jsx)(a.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,x.jsx)(c.Z,{children:(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(v.Z,{align:"left",style:{width:"50%"},children:null!==(i=null!==(l=null!==(y=null===Z||void 0===Z?void 0:Z.documentTitle)&&void 0!==y?y:null===Z||void 0===Z?void 0:Z.linkTitle)&&void 0!==l?l:null===I||void 0===I?void 0:I.documentTitle)&&void 0!==i?i:null===I||void 0===I?void 0:I.linkTitle}),(0,x.jsx)(v.Z,{align:"left",children:"Link"===(null===I||void 0===I?void 0:I.type)||"Link"===(null===Z||void 0===Z?void 0:Z.type)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("a",{href:null!==Z&&void 0!==Z&&Z.link?null!==Z&&void 0!==Z&&Z.link.toLowerCase().startsWith("http")?null===Z||void 0===Z?void 0:Z.link:"https://"+(null===Z||void 0===Z?void 0:Z.link):null!==I&&void 0!==I&&I.link.toLowerCase().startsWith("https")?null===I||void 0===I?void 0:I.link:"https://"+(null===I||void 0===I?void 0:I.link),onClick:()=>{var e;return console.log("LINK ON ONCLICK",null!==(e="https://"+(null===I||void 0===I?void 0:I.link))&&void 0!==e?e:null===Z||void 0===Z?void 0:Z.link)},target:"_blank",children:(0,x.jsx)(b.Z,{title:null!==(g=null!==(j=null===Z||void 0===Z?void 0:Z.link)&&void 0!==j?j:I.link)&&void 0!==g?g:null===I||void 0===I?void 0:I.link,children:D(null!==(w=null===I||void 0===I?void 0:I.link)&&void 0!==w?w:null===Z||void 0===Z?void 0:Z.link,70)})}),"   ",(0,x.jsx)(b.Z,{title:"Copy link",children:(0,x.jsx)(k.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:async()=>{try{await navigator.clipboard.writeText((null===I||void 0===I?void 0:I.link)||(null===Z||void 0===Z?void 0:Z.link)),E({titleMessage:"Hurray!",descriptionMessage:"Link copied successfully!",messageType:"success"},(()=>O.current()))}catch(e){console.error("Failed to copy link: ",e)}}})})]}):(0,x.jsx)("div",{href:"#",onClick:e=>{e.preventDefault(),(async()=>{try{var e,i;const l=await o.H.post(s.uj,{questionnaireId:Q,sectionId:T,documentId:null!==(e=null===Z||void 0===Z?void 0:Z.uuid)&&void 0!==e?e:I.uuid},{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([l.data])),d=document.createElement("a");d.href=n,d.setAttribute("download","".concat(null!==(i=null===Z||void 0===Z?void 0:Z.originalName)&&void 0!==i?i:I.originalName)),document.body.appendChild(d),d.click(),201===l.status&&E({titleMessage:"Hurray!",descriptionMessage:"File downloaded successfully!",messageType:"success"},(()=>O.current()))}catch(l){(0,u.K)(l,E,O,A),console.log("Error from download other doc",l)}})()},style:{color:null!==I&&void 0!==I&&I.link?"none":"#4596D1",cursor:null!==I&&void 0!==I&&I.link?"default":"pointer"},children:(0,x.jsx)(b.Z,{title:null!==(f=null!==(C=null===Z||void 0===Z?void 0:Z.originalName)&&void 0!==C?C:I.originalName)&&void 0!==f?f:null===I||void 0===I?void 0:I.link,children:D(null!==(N=null!==(M=null===Z||void 0===Z?void 0:Z.originalName)&&void 0!==M?M:I.originalName)&&void 0!==N?N:null===I||void 0===I?void 0:I.link,70)})})})]})})})})]})}},70034:(e,i,l)=>{var n=l(64836);i.Z=void 0;var o=n(l(45649)),s=l(80184),d=(0,o.default)((0,s.jsx)("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z"}),"ContentCopyRounded");i.Z=d}}]);
//# sourceMappingURL=4747.800f6888.chunk.js.map