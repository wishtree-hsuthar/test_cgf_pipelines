"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[2022],{14917:(e,a,t)=>{t.d(a,{Y:()=>n});const l=window.location.search,s=new URLSearchParams(l).get("debug"),n={debug(e,a){"1"===s?console.log(e,a):console.log=()=>{}},info(e,a){"?debug=1"===l||"?info=1"===l?console.info(e,a):console.info=()=>{}},error(e){"?debug=1"===l||"?info=1"===l||"?error=1"===l?console.error(e):console.error=()=>{}}}},46363:(e,a,t)=>{t.d(a,{Z:()=>u});var l=t(12104),s=t(68096),n=t(58406),i=t(63903),r=t(20068),d=t(47071),o=(t(72791),t(61134)),c=t(80184);const u=function(e){let{control:a,name:t,myOnChange:u,myHelper:m,placeholder:p,rules:h,options:v,isDisabled:g}=e;const{field:{value:b,onChange:x,ref:y},fieldState:{error:j}}=(0,o.bc)({name:t,control:a,rules:h,defaultValue:""}),f={PaperProps:{style:{maxHeight:168}}},N=window.innerWidth>1e3?60:45,D=e=>{let{children:a}=e;return(0,c.jsx)("div",{className:"select-placeholder",children:a})};return(0,c.jsxs)(s.Z,{className:"select-reusable",disabled:g,children:[(0,c.jsx)("div",{className:"select-field ".concat(j&&"select-field-error"),children:(0,c.jsx)(n.Z,{IconComponent:e=>(0,c.jsx)(l.Z,{...e}),MenuProps:f,displayEmpty:!0,value:b,placeholder:p,onChange:u||x,inputRef:y,fullWidth:!0,renderValue:""!==b?void 0:()=>(0,c.jsx)(D,{children:p}),children:v&&(null===v||void 0===v?void 0:v.map((e=>{var a,t;return(0,c.jsx)(i.Z,{value:e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e,children:e.hasOwnProperty("_id")?(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.length)<=N?null===e||void 0===e?void 0:e.name:(0,c.jsx)(r.Z,{title:null===e||void 0===e?void 0:e.name,children:(0,c.jsxs)("span",{children:[" ",(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.slice(0,N))+"..."]})}):(null===e||void 0===e?void 0:e.length)<=N?e:(0,c.jsx)(r.Z,{title:e,children:(0,c.jsx)("span",{children:(null===e||void 0===e?void 0:e.slice(0,N))+"..."})})},e.hasOwnProperty("_id")?null===e||void 0===e?void 0:e._id:e)})))})}),(0,c.jsx)(d.Z,{children:j?m&&m[t]&&m[t][j.type]?m[t][j.type]:"Invalid Input":" "})]})}},48086:(e,a,t)=>{t.d(a,{Z:()=>i});var l=t(97275),s=(t(72791),t(61134)),n=t(80184);const i=e=>{let{control:a,name:t,myHelper:i,placeholder:r,myOnChange:d,rules:o,onBlur:c,multiline:u,isDisabled:m}=e;const{field:{onChange:p,value:h,ref:v},fieldState:{error:g}}=(0,s.bc)({name:t,control:a,rules:o,defaultValue:""});return(0,n.jsx)(l.Z,{multiline:u,disabled:m,className:u?"input-textarea ".concat(g&&"input-textarea-error"):"input-field ".concat(g&&"input-error"),placeholder:r,onChange:d||p,onBlur:c,value:h,inputRef:v,inputProps:{maxLength:(null===o||void 0===o?void 0:o.maxLength)&&o.maxLength},helperText:g?i&&i[t]&&i[t][g.type]?i[t][g.type]:"Invalid Input":" ",variant:"outlined"})}},27659:(e,a,t)=>{t.d(a,{Z:()=>d});var l=t(92131),s=t(5130),n=t(72791),i=t(29655),r=(t(5462),t(80184));const d=function(e){let{titleMessage:a,descriptionMessage:t,messageType:d,myRef:o,key:c}=e;const u=()=>{(0,i.Am)(m,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})},m=()=>(0,r.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===d&&"toaster-blk-success"),children:[(0,r.jsx)("div",{className:"toaster-left ".concat("success"===d&&"toaster-left-success"),children:(0,r.jsxs)("div",{className:"toaster-icon",children:["success"===d&&(0,r.jsx)(l.Z,{}),"error"===d&&(0,r.jsx)(s.Z,{})]})}),(0,r.jsx)("div",{className:"toaster-right",children:(0,r.jsx)("p",{children:t})})]});return(0,n.useEffect)((()=>{o.current=u}),[u,o]),(0,r.jsxs)("div",{className:"toaster-sect",children:[(0,r.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,r.jsx)(i.Ix,{className:"toaster-wrap ".concat("success"===d&&"toaster-wrap-success"," ")})]})}},4901:(e,a,t)=>{t.r(a),t.d(a,{default:()=>da});var l=t(72791),s=t(57689),n=t(84395),i=t(34663),r=t(697),d=t(20068),o=t(65422),c=t(63903),u=t(85172),m=t(59434),p=t(16990),h=t(76218),v=t(94677),g=t(29823),b=t(27293),x=t(95457),y=(t(14917),t(80184));const j=()=>{var e,a,t,j,f,N,D,w,S,C,P,k,A,M,G,E,Z,T,W,I,R;const[H,O]=l.useState(null),[z,F]=l.useState("false"),L=(0,m.v9)((e=>{var a;return null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.userObj})),Q=(0,m.v9)((e=>{var a;return null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.privilege}));let q=null===L||void 0===L||null===(e=L.name)||void 0===e?void 0:e.split(" ");const _="Sub Admin"==(null===L||void 0===L||null===(a=L.roleId)||void 0===a?void 0:a.name),B="Operation Member"==(null===L||void 0===L||null===(t=L.roleId)||void 0===t?void 0:t.name),U="Super Admin"===(null===Q||void 0===Q?void 0:Q.name),Y=(0,s.s0)(),V=(0,m.I0)(),$=(0,s.TH)(),K=()=>{O(null),F(!z)};let J="Super Admin"===(null===L||void 0===L||null===(j=L.role)||void 0===j?void 0:j.name)?[]:Object.values(null!==(f=null===Q||void 0===Q?void 0:Q.privileges)&&void 0!==f?f:{});console.log("privilege array = ",J);let X=J.filter((e=>{var a;return"Members"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({member:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),ee=J.filter((e=>{var a;return"Operation Members"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({operationMember:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),ae=J.filter((e=>{var a;return"Questionnaire"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({questionnaire:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),te=J.filter((e=>{var a;return"Assessment"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({assessment:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}}))),le=J.filter((e=>{var a;return"Dashboard"===(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)})).map((e=>({dashboard:{list:e.list,view:e.view,edit:e.edit,delete:e.delete}})));const se=()=>{let e="";var a;return q.length>1?(e=q[0].slice(0,1)+(null===(a=q[1])||void 0===a?void 0:a.slice(0,1)),e):(e=q[0].slice(0,1),e)},ne=(0,l.useRef)(),ie=(0,l.useRef)(),re=()=>{const e=ne.current.scrollWidth>ne.current.clientWidth,a=ie.current.scrollWidth>ie.current.clientWidth;oe(e),ue(a)};(0,l.useEffect)((()=>{re(),window.addEventListener("resize",re)}),[]),(0,l.useEffect)((()=>()=>{window.removeEventListener("resize",re)}),[]);(0,l.useEffect)((()=>{}),[]);const[de,oe]=(0,l.useState)(!1),[ce,ue]=(0,l.useState)(!1);return(0,y.jsx)(n.Z,{position:"sticky",className:"header-sect",children:(0,y.jsx)("div",{className:"nav",children:(0,y.jsx)("div",{className:"container",children:(0,y.jsx)(i.Z,{disableGutters:!0,children:(0,y.jsxs)("div",{className:"header-wrapper",children:[(0,y.jsxs)("div",{className:"header-left",children:[(0,y.jsx)("div",{className:"logo-blk",children:(0,y.jsx)("a",{href:"/home",children:(0,y.jsx)("img",{src:"/images/logo.png",className:"img-fluid",alt:""})})}),(0,y.jsx)("div",{className:"nav-listblk",children:(0,y.jsxs)("ul",{className:"nav-list flex-between",children:[(0,y.jsxs)("li",{className:"/home"==$.pathname?"list-item active":"list-item",children:[(0,y.jsx)("a",{hidden:_?"active":""}),(0,y.jsx)("a",{onClick:()=>Y("/home"),style:{cursor:"pointer"},children:"Home"})]}),(U||(null===(N=le[0])||void 0===N||null===(D=N.dashboard)||void 0===D?void 0:D.view))&&(0,y.jsx)("li",{className:$.pathname.includes("/cgf-dashboard")?"list-item active":"list-item",children:(0,y.jsx)("a",{style:{cursor:"pointer"},onClick:()=>Y("/cgf-dashboard"),children:"Dashboard"})}),(U||(null===(w=te[0])||void 0===w||null===(S=w.assessment)||void 0===S?void 0:S.list))&&(0,y.jsx)("li",{className:$.pathname.includes("/assessment-list")?"list-item active":"list-item",children:(0,y.jsx)("a",{style:{cursor:"pointer"},onClick:()=>Y("/assessment-list"),children:"Assessments"})}),(U||(null===(C=ae[0])||void 0===C||null===(P=C.questionnaire)||void 0===P?void 0:P.list))&&(0,y.jsx)("li",{className:$.pathname.includes("/questionnaires")?"list-item active":"list-item",children:(0,y.jsx)("a",{style:{cursor:"pointer"},onClick:()=>Y("/questionnaires"),children:"Questionnaires"})}),(U||(null===(k=ee[0])||void 0===k||null===(A=k.operationMember)||void 0===A?void 0:A.list)||(null===(M=X[0])||void 0===M?void 0:M.member.list))&&(0,y.jsxs)("li",{className:$.pathname.includes("/users")?"list-item active":"list-item",children:[(0,y.jsx)("a",{hidden:B,style:{cursor:"pointer"},children:"User Management"}),(0,y.jsxs)("ul",{className:"header-submenu",children:[U&&(0,y.jsx)("li",{className:$.pathname.includes("/users/cgf-admin")?"subactive":"",children:(0,y.jsx)("a",{onClick:()=>{Y("/users/cgf-admin")},style:{cursor:"pointer"},children:"Admins"})}),(0,y.jsx)("li",{hidden:!0!==U&&!(null!==(G=X[0])&&void 0!==G&&null!==(E=G.member)&&void 0!==E&&E.list),className:"/users/members"===$.pathname?"subactive":"",children:(0,y.jsx)("a",{onClick:()=>{Y("/users/members")},children:"Company Members"})}),(0,y.jsx)("li",{className:"/users/operation-members"===$.pathname?"subactive":"",hidden:!0!==U&&!(null!==(Z=ee[0])&&void 0!==Z&&null!==(T=Z.operationMember)&&void 0!==T&&T.list),children:(0,y.jsx)("a",{onClick:()=>{Y("/users/operation-members")},children:"Operation Team Members"})})]})]}),U&&(0,y.jsx)("li",{className:$.pathname.includes("/roles")?"list-item active":"list-item",children:(0,y.jsx)("a",{onClick:()=>Y("/roles"),style:{cursor:"pointer",display:!U&&"none"},children:"Roles Management"})})]})})]}),(0,y.jsx)("div",{className:"header-right",children:(0,y.jsxs)(r.Z,{children:[(0,y.jsxs)("div",{className:"user-blk flex-between",children:[(0,y.jsx)("div",{className:"user-img",children:(0,y.jsx)("span",{className:"user-name-txt",children:se()})}),(0,y.jsxs)("div",{className:"user-info",onClick:e=>{O(e.currentTarget),F(!z)},children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(d.Z,{title:null===L||void 0===L?void 0:L.name,disableHoverListener:!ce,style:{fontSize:"14px"},children:(0,y.jsx)("span",{ref:ie,className:"user-name",children:null===L||void 0===L?void 0:L.name})}),(0,y.jsx)(d.Z,{title:null===L||void 0===L||null===(W=L.role)||void 0===W?void 0:W.name,disableHoverListener:!de,style:{fontSize:"14px"},children:(0,y.jsx)("span",{ref:ne,className:"user-type",children:(()=>{var e,a,t;return"Super Admin"===(null===L||void 0===L||null===(e=L.role)||void 0===e?void 0:e.name)||Object.keys(L.role).length>0&&Object.keys(null===L||void 0===L||null===(a=L.role)||void 0===a?void 0:a.privileges).length>0?null===L||void 0===L||null===(t=L.role)||void 0===t?void 0:t.name:"N/A"})()})})]}),(0,y.jsx)("span",{className:z?"super-admin-arrow":"super-admin-arrow active",children:(0,y.jsx)(u.Z,{})})]})]}),(0,y.jsx)(o.Z,{sx:{mt:"35px",mr:"35px"},id:"menu-appbar",anchorEl:H,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(H),onClose:K,className:"profile-popup-blk",children:(0,y.jsx)(c.Z,{children:(0,y.jsxs)("div",{className:"profile-popup-box",children:[(0,y.jsx)("div",{id:"transition-modal-title",className:"profile-popup-ttl-blk",children:(0,y.jsx)("span",{className:"popup-close-icon",onClick:K,children:(0,y.jsx)(g.Z,{})})}),(0,y.jsx)("div",{id:"transition-modal-title1",className:"profile-popup-wrap",children:(0,y.jsxs)("div",{className:"signin-user-blk flex-start",children:[(0,y.jsx)("div",{className:"signin-user-left",children:(0,y.jsx)("div",{className:"signin-user-img",children:(0,y.jsx)("span",{className:"signin-user-name-txt",children:se()})})}),(0,y.jsx)("div",{className:"signin-user-right",children:(0,y.jsxs)("div",{className:"profile-info-blk",children:[(0,y.jsx)("div",{className:"profile-name",children:null===L||void 0===L?void 0:L.name}),(0,y.jsx)("div",{className:"profile-info",children:null!==(I=null===L||void 0===L||null===(R=L.role)||void 0===R?void 0:R.name)&&void 0!==I?I:"N/A"}),(0,y.jsxs)("div",{className:"profile-info",children:[(0,y.jsx)("span",{className:"profile-info-icon",children:(0,y.jsx)(b.Z,{})}),(0,y.jsx)("span",{className:"profile-info-txt",children:null!==L&&void 0!==L&&L.countryCode?(null===L||void 0===L?void 0:L.countryCode)+(null===L||void 0===L?void 0:L.phoneNumber):"N/A"})]}),(0,y.jsxs)("div",{className:"profile-info",children:[(0,y.jsx)("span",{className:"profile-info-icon",children:(0,y.jsx)(x.Z,{})}),(0,y.jsx)("span",{className:"profile-info-txt",children:null===L||void 0===L?void 0:L.email})]}),(0,y.jsx)("div",{className:"tertiary-btn-blk mt-20",onClick:()=>{Y("/change-password"),O(null),F(!z)},children:(0,y.jsx)("span",{className:"addmore-txt",children:"Change Password"})}),(0,y.jsx)("div",{className:"form-btn flex-center mt-20",children:(0,y.jsx)("button",{type:"submit",className:"primary-button",onClick:async()=>{try{201==(await v.H.post(h.vY)).status&&(O(null),V((0,p.zb)()),F(!z),Y("/login"))}catch(a){var e;401===(null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.status)&&Y("/login")}},children:"Log out"})})]})})]})})]})})})]})})]})})})})})},f=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{}),(0,y.jsx)(s.j3,{})]}),N=e=>{var a;let{children:t,moduleName:l,page:n}=e;const i=(0,s.TH)(),r=(0,m.v9)((e=>e.user.userObj)),d=(0,m.v9)((e=>e.user.privilege));let o=(d?Object.values(null===d||void 0===d?void 0:d.privileges):[]).filter((e=>{var a;return(null===e||void 0===e||null===(a=e.moduleId)||void 0===a?void 0:a.name)===l})).map((e=>({[l]:{list:e.list,view:e.view,edit:e.edit,delete:e.delete,add:e.add}})));return"Super Admin"===r.role.name||(null===(a=o[0])||void 0===a?void 0:a[l][n])?t:(0,y.jsx)(s.Fg,{to:"/page-not-found",state:{from:i},replace:!0})};t(64802);var D=t(81213),w=t(74819),S=(t(31052),t(43623));const C=[{label:"Mcdonld's",directlyHiredWorkers:45,thirdParty:30,domesticMigrants:41},{label:"Tim Hortin's",directlyHiredWorkers:25,thirdParty:37,domesticMigrants:48},{label:"Burger King",directlyHiredWorkers:35,thirdParty:28,domesticMigrants:39},{label:"Starbucks",directlyHiredWorkers:20,thirdParty:32,domesticMigrants:45},{label:"Subway",directlyHiredWorkers:30,thirdParty:25,domesticMigrants:36},{label:"Pizza Hut",directlyHiredWorkers:22,thirdParty:40,domesticMigrants:29},{label:"KFC",directlyHiredWorkers:18,thirdParty:35,domesticMigrants:42},{label:"Dunkin' Donuts",directlyHiredWorkers:28,thirdParty:30,domesticMigrants:37},{label:"Wendy's",directlyHiredWorkers:33,thirdParty:26,domesticMigrants:34},{label:"Chipotle",directlyHiredWorkers:29,thirdParty:33,domesticMigrants:28}],P=C.map((e=>[e.directlyHiredWorkers,e.thirdParty,e.domesticMigrants]));C.reduce(((e,a)=>(e.directlyHiredWorkers+=a.directlyHiredWorkers,e.thirdParty+=a.thirdParty,e.domesticMigrants+=a.domesticMigrants,e)),{directlyHiredWorkers:0,thirdParty:0,domesticMigrants:0});console.log("Data",P);const k=function(){return{responsive:!0,plugins:{datalabels:{display:!0,anchor:"end",offset:-20,color:"black",align:"start"},legend:{labels:{usePointStyle:!0,font:{size:10}}},title:{display:!0,text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},tooltip:{callbacks:{title:e=>{var a,t;return"".concat(null===(a=e[0])||void 0===a?void 0:a.dataset.label," - ").concat(null===(t=e[0])||void 0===t?void 0:t.raw)},label:e=>"".concat(e.raw)}}},scales:{x:{grid:{display:!1},alignToPixels:"start",align:"start"},y:{min:0,suggestedMax:arguments.length>1?arguments[1]:void 0}}}},A=function(e){return{plugins:{annotation:{annotations:{label1:{display:!1,type:"label",position:"end",textAlign:"left",xValue:2.5,yValue:60,backgroundColor:"rgba(245, 245, 245)",content:["**Note - Companies that do not appear on the graph is because they"," have 0 directly hired workers or have not submitted their data"],font:{size:10},xAdjust:350,yAdjust:320}}},datalabels:{display:!1},legend:{position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left",labels:{usePointStyle:!0,font:{size:12},color:"black"}},title:{display:!0,text:e,font:{size:14},color:"black"},tooltip:{callbacks:{label:e=>": ".concat(e.parsed,"%")}}}}},M=["Policy","Governance","Identify and Assess","Address, Prevent & Mitigate","Remedy","Transparency and verification"],G=["Policy Commitment","Governance","Assess Human Rights Potential and Actual Impact","Integrate and Act in order To Prevent and Mitigate","Track The Effectiveness Of Responses","Report","Remedy"],E=["Policy","Governance","Identify and Assess","Address, Prevent & Mitigate","Remedy","Transparency and verification"],Z=["COUNTRY- OPERATION HRDD REQUIREMENTS","HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)"],T=["HRDD Reporting Framework (Global)","HRDD Reporting Framework (Country)","HEADQUARTERS HRDD REQUIREMENTS (ALL OPERATIONS)","COUNTRY- OPERATION HRDD REQUIREMENTS"],W=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;const t=e.replace(/\s{2,}/g," ").split(" "),l=[];let s="";return t.forEach((e=>{""!==e.trim()&&(s.split(" ").length+1<=a?s+=e+" ":(l.push(s.trim()),s=e+" "))})),s.trim().length>0&&l.push(s.trim()),l};var I=t(41473),R=t(55818),H=t(3721),O=t(20890),z=t(81131);const F=function(e){let{title:a,children:t,defaultExpanded:s=!0,expanded:n=!0,setExpanded:i=(()=>{}),name:r=""}=e;console.log("expanded in expanded",n);const[d,o]=(0,l.useState)(!1);return(0,y.jsxs)(I.Z,{defaultExpanded:s,expanded:n,onChange:(e,a)=>((e,a)=>{console.log("expanded onchange",a),i((e=>({...e,[r]:!e[r]})))})(0,a),children:[(0,y.jsx)(R.Z,{expandIcon:(0,y.jsx)(z.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,y.jsx)(O.Z,{children:a})}),(0,y.jsx)(H.Z,{children:(0,y.jsx)(O.Z,{children:t})})]})};var L=t(31752);w.kL.register(w.qi,w.u,w.De,L.Z);function Q(e){var a,t,s,n,i,r,d,o,c,u,m,p,h,v,g,b,x,j;const[f,N]=(0,l.useState)(1e3),[D,w]=(0,l.useState)(1024);(0,l.useEffect)((()=>{console.log("screen size - ",window.innerWidth),D<=window.innerWidth&&(console.log("in if screen size - ",window.innerWidth),N(500),w(window.innerWidth))}),[D,window.innerWidth]),console.log("screen size - ",window.innerWidth);let C=[...W(e.graphTitle.title1,30),"Submitted - ".concat(null!==e&&void 0!==e&&null!==(a=e.submittedData)&&void 0!==a&&a.submittedPercent?null===e||void 0===e||null===(t=e.submittedData)||void 0===t?void 0:t.submittedPercent:0,"%, Not Submitted - ").concat(null!==e&&void 0!==e&&null!==(s=e.submittedData)&&void 0!==s&&s.unsubmittedPercent?null===e||void 0===e||null===(n=e.submittedData)||void 0===n?void 0:n.unsubmittedPercent:0,"%")],P=[...W(e.graphTitle.title2,30),"Submitted - ".concat(null!==e&&void 0!==e&&null!==(i=e.submittedData)&&void 0!==i&&i.submittedPercent?null===e||void 0===e||null===(r=e.submittedData)||void 0===r?void 0:r.submittedPercent:0,"%, Not Submitted - ").concat(null!==e&&void 0!==e&&null!==(d=e.submittedData)&&void 0!==d&&d.unsubmittedPercent?null===e||void 0===e||null===(o=e.submittedData)||void 0===o?void 0:o.unsubmittedPercent:0,"%")],k=[...W(e.graphTitle.title3,30),"Submitted - ".concat(null!==e&&void 0!==e&&null!==(c=e.submittedData)&&void 0!==c&&c.submittedPercent?null===e||void 0===e||null===(u=e.submittedData)||void 0===u?void 0:u.submittedPercent:0,"%, Not Submitted - ").concat(null!==e&&void 0!==e&&null!==(m=e.submittedData)&&void 0!==m&&m.unsubmittedPercent?null===e||void 0===e||null===(p=e.submittedData)||void 0===p?void 0:p.unsubmittedPercent:0,"%")];console.log("title01",C),console.log("props form doughnut chart page = ",e);const M=A(C,"top"),G=A(P,"top"),E=A(k,"top"),Z=(0,y.jsx)("div",{style:{fontSize:"x-small",width:"100%"},children:(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{children:"Note"})," - Companies not represented on the graph either have zero workers in this category or have not submitted their data. Additionally, the data from the submitted companies constitutes 100% of the data represented on the graph."]})});return(0,y.jsxs)("div",{children:[(0,y.jsx)(F,{title:null===e||void 0===e||null===(h=e.graphTitle)||void 0===h?void 0:h.title1,expanded:null===e||void 0===e||null===(v=e.expanded)||void 0===v?void 0:v.expandDoughnutgraph1,name:"expandDoughnutgraph1",setExpanded:e.setExpanded,children:(0,y.jsxs)("div",{id:"chart4",children:[(0,y.jsx)("div",{style:{display:"inline-block"}}),Z,(0,y.jsx)("div",{style:{height:"500px"},children:(0,y.jsx)(S.$I,{width:1e3,height:500,options:{responsive:!0,maintainAspectRatio:!1,...M},data:null===e||void 0===e?void 0:e.data})})]})}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsx)(F,{title:null===e||void 0===e||null===(g=e.graphTitle)||void 0===g?void 0:g.title2,expanded:null===e||void 0===e||null===(b=e.expanded)||void 0===b?void 0:b.expandDoughnutgraph2,name:"expandDoughnutgraph2",setExpanded:e.setExpanded,children:(0,y.jsxs)("div",{id:"chart5",children:[(0,y.jsx)("div",{style:{display:"inline-block"}}),"  ",Z,(0,y.jsx)("div",{style:{height:"500px"},children:(0,y.jsx)(S.$I,{data:e.thirdPartyData,options:{responsive:!0,maintainAspectRatio:!1,...G}})})]})}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsx)(F,{title:null===e||void 0===e||null===(x=e.graphTitle)||void 0===x?void 0:x.title3,expanded:null===e||void 0===e||null===(j=e.expanded)||void 0===j?void 0:j.expandDoughnutgraph3,name:"expandDoughnutgraph3",setExpanded:e.setExpanded,children:(0,y.jsxs)("div",{id:"chart6",children:[(0,y.jsx)("div",{style:{display:"inline-block"}}),"  ",Z,(0,y.jsx)("div",{style:{height:"500px"},children:(0,y.jsx)(S.$I,{data:e.domesticMigrantsData,options:{responsive:!0,maintainAspectRatio:!1,...E}})})]})})]})}var q=t(68096),_=t(58406),B=t(77196),U=t(94454),Y=t(49900),V=t(47071),$=t(97275),K=t(46363),J=t(61134),X=t(27954),ee=t(7792),ae=t(36571),te=t(51514),le=t(12104);const se={PaperProps:{style:{maxHeight:224,width:250}}};const ne=function(e){let{setDashboardReportPresent:a,setSubmittedData:t,setDashboardReport:s,dashboardRef:n,setDisableDownload:i,setResultType:r,setSelectedCountry:d,setIndicatorData:o,setFilteredData:u,disableDownload:m,setBarGraphOptions1:p,saveAsPdf:g,setIsAssessmentCountryType:b,expanded:x,setExpanded:j,setMemberCompanies:f,setDataForBarGraphs:N,options1:D,options2:w,options3:S,setAccordianTitles:C,setDoughnutGraphData1:P,setDoughnutGraphData2:A,setDoughnutGraphData:I}=e;const[R,H]=l.useState([]),[O,z]=(0,l.useState)([]),[F,L]=(0,l.useState)([]),Q={type:{required:"Select the type"},assessment:{required:"Select the assessment"},country:{required:"Select the country"},memberCompanies:{required:"Select the member company"},startDate:{required:"Select the start date"},endDate:{required:"Select the end date"},indicator:{required:"Select the indicator"}},{handleSubmit:ne,getValues:ie,control:re,reset:de,setValue:oe,trigger:ce,watch:ue}=(0,J.cI)({defaultValues:{type:"Indicators",assessment:"HRDD Reporting Framework (Global)",country:"",memberCompanies:[],endDate:new Date,startDate:""}}),[me,pe]=(0,l.useState)(""),[he,ve]=(0,l.useState)(new Date),[ge,be]=(0,l.useState)(null),[xe,ye]=(0,l.useState)(!1),[je,fe]=(0,l.useState)(!1);function Ne(){const e=window.crypto.getRandomValues(new Uint8Array(1))[0];return Math.floor(e/256*255)}function De(){return"rgba(".concat(Ne(),", ").concat(Ne(),", ").concat(Ne(),", 0.5)")}const we=e=>{e.preventDefault()},Se=e=>{const{target:{value:t}}=e;if(o({}),console.log("value in member company change",t),b(!1),a(!1),N({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}}),"all"===t[t.length-1])return console.log("if value member company change",t),H(R.length===O.length?[]:O.map((e=>e.id))),oe("memberCompanies",R.length===O.length?[]:O.map((e=>e.id))),void i(!0);console.log("else value member company change",t),H(t),oe("memberCompanies",t),i(!0)};return console.log("member companies values = ",ie("memberCompanies")),(0,l.useEffect)((()=>{(async()=>{try{const e=await v.H.get(h.rm);z(e.data.map((e=>({id:e._id,label:e.companyName}))))}catch(e){console.log("error from getMemberCompanies from data filtres",e)}})(),(async()=>{try{const e=await v.H.get(h.od);console.log(e),L(e.data.map((e=>e.name)))}catch(e){console.log("error from getCountries API",e)}})()}),[]),(0,y.jsx)("div",{className:"page-wrapper",children:(0,y.jsx)("section",{children:(0,y.jsx)("div",{className:"card-wrapper",children:(0,y.jsx)("form",{onSubmit:ne((async e=>{var l;console.log("data = ",e);let r=O.filter((e=>R.find((a=>e.id===a))));var c,m,g,y,D,w,S,P,A,M,G,E,Z,T,I;(console.log("memberOption",r),f([...r]),d(null===(l=e)||void 0===l?void 0:l.country),console.log("member company data = ",e.memberCompanies),console.log("member company  = ",R),"Indicators"!==e.type)?(u([["Type",null===(c=e)||void 0===c?void 0:c.type],["Assessment",null===(m=e)||void 0===m?void 0:m.assessment],["Country",null!==(g=e)&&void 0!==g&&g.country?null===(y=e)||void 0===y?void 0:y.country:"NA"],["Member Companies",[...r.map((e=>" "+(null===e||void 0===e?void 0:e.label)))]],["Start Date",new Date(null===(D=e)||void 0===D?void 0:D.startDate).toLocaleDateString("en")],["End Date",new Date(null===(w=e)||void 0===w?void 0:w.endDate).toLocaleDateString("en",{timeZone:"UTC"})]]),e.endDate=new Date((new Date).setDate(new Date(e.endDate).getDate()+1)).toISOString(),e.type="SAQ"):(e={indicator:null===(S=e)||void 0===S?void 0:S.indicator,assessment:null===(P=e)||void 0===P?void 0:P.assessment,type:null===(A=e)||void 0===A?void 0:A.type,country:null===(M=e)||void 0===M?void 0:M.country},u([["Type",null===(G=e)||void 0===G?void 0:G.type],["Assessment",null===(E=e)||void 0===E?void 0:E.assessment],["Country",null!==(Z=e)&&void 0!==Z&&Z.country?null===(T=e)||void 0===T?void 0:T.country:"NA"],["Indicator",null===(I=e)||void 0===I?void 0:I.indicator]]));b("COUNTRY- OPERATION HRDD REQUIREMENTS"===e.assessment);try{var H;const l=await v.H.post(h.h1,{...e});if(console.log("expanded graph in dashboard filter= ",x.expandBarGraph),a(!0),j((e=>({...e,expandBarGraph:!0,expandBarGraph1:!0,expandBarGraph2:!0,expandBarGraph3:!0,expandDoughnutgraph1:!0,expandDoughnutgraph2:!0,expandDoughnutgraph3:!0,expandDoughnutGraph:!0,expandCompanySAQGraph:!0,expandCountrySAQGraph:!0,expandIndicator:!0,expandFilters:!1,expandTotalWorker:!1}))),t({...null===l||void 0===l||null===(H=l.data)||void 0===H?void 0:H.submissionData}),console.log("Response from dashboard",l.data),window.scrollBy({top:250,behavior:"smooth"}),"Workforce Data"===ue("type")){var z,F,L,Q,q,_,B,U,Y,V,$,K,J;let e=0,a=0,t=0,s=null===l||void 0===l||null===(z=l.data)||void 0===z?void 0:z.data.filter((e=>"Other"!==(null===e||void 0===e?void 0:e.memberName))).map((e=>e));console.log("companies=",s),s.forEach((l=>{l.directlyHired>e&&(console.log("max directly hired before in foreach",e),e=l.directlyHired,console.log("max directly hired after in foreach",e)),l.thirdParty>a&&(a=l.thirdParty),l.domesticMigrant>t&&(t=l.domesticMigrant)}));let n=s.length>30?.4:s.length>15&&s.length<=30?.5:s.length<15?.8:0;console.log("bar percent",n),console.log("companies - ",null===s||void 0===s?void 0:s.length),console.log("max directly hired before",e),e=1e3*Math.ceil(e/1e3)+1e4,a=1e3*Math.ceil(a/1e3)+1e4,t=1e3*Math.ceil(t/1e3)+1e3,console.log("max directly hired",e),p({barGraphOptions1:k("Total - ".concat(null===l||void 0===l||null===(F=l.data)||void 0===F||null===(L=F.total)||void 0===L?void 0:L.directlyHired),e),barGraphOptions2:k("Total - ".concat(null===l||void 0===l||null===(Q=l.data)||void 0===Q||null===(q=Q.total)||void 0===q?void 0:q.thirdParty),a),barGraphOptions3:k("Total - ".concat(null===l||void 0===l||null===(_=l.data)||void 0===_||null===(B=_.total)||void 0===B?void 0:B.domesticMigrant),t)}),e=0,a=0,t=0;let i=null===l||void 0===l||null===(U=l.data)||void 0===U?void 0:U.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).filter((e=>void 0!==e.directlyHiredPercent)).map((e=>"".concat(null===e||void 0===e?void 0:e.memberName," - ").concat(null===e||void 0===e?void 0:e.directlyHiredPercent,"%"))),r=null===l||void 0===l||null===(Y=l.data)||void 0===Y?void 0:Y.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).filter((e=>void 0!==e.thirdPartyPercent)).map((e=>"".concat(null===e||void 0===e?void 0:e.memberName," - ").concat(null===e||void 0===e?void 0:e.thirdPartyPercent,"%"))),d=null===l||void 0===l||null===(V=l.data)||void 0===V?void 0:V.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).filter((e=>void 0!==e.domesticMigrantPercent)).map((e=>"".concat(null===e||void 0===e?void 0:e.memberName," - ").concat(null===e||void 0===e?void 0:e.domesticMigrantPercent,"%"))),c=null===l||void 0===l||null===($=l.data)||void 0===$?void 0:$.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).map((e=>null===e||void 0===e?void 0:e.directlyHiredPercent)),u=null===l||void 0===l||null===(K=l.data)||void 0===K?void 0:K.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).map((e=>null===e||void 0===e?void 0:e.thirdPartyPercent)),m=null===l||void 0===l||null===(J=l.data)||void 0===J?void 0:J.data.sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).map((e=>null===e||void 0===e?void 0:e.domesticMigrantPercent)),h=c.map((()=>De()));C((e=>({title1:null===l||void 0===l?void 0:l.data.columns[0],title2:null===l||void 0===l?void 0:l.data.columns[1],title3:null===l||void 0===l?void 0:l.data.columns[2]}))),N((e=>{var a,t,s;let p={...e};return p.directlyHired.barGraph.labels=W(null===l||void 0===l?void 0:l.data.columns[0],30),p.thirdParty.barGraph.labels=W(null===l||void 0===l?void 0:l.data.columns[1],30),p.domesticMigrants.barGraph.labels=W(null===l||void 0===l?void 0:l.data.columns[2],30),p.thirdParty.barGraph.datasets=null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data.filter((e=>"Other"!=e.memberName&&void 0!==e.thirdParty)).sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).map((e=>({label:e.memberName,data:[e.thirdParty],barPercentage:n,backgroundColor:De()}))),p.thirdParty.doughnutGraph.labels=r,p.thirdParty.doughnutGraph.datasets=[{data:[...u],backgroundColor:[...h],borderColor:[...h],borderWidth:1}],p.directlyHired.barGraph.datasets=null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data.filter((e=>"Other"!=e.memberName&&void 0!=e.directlyHired)).sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).map((e=>({label:e.memberName,data:[e.directlyHired],barPercentage:n,backgroundColor:De()}))),p.directlyHired.doughnutGraph.labels=i,p.directlyHired.doughnutGraph.datasets=[{data:[...c],backgroundColor:[...h],borderColor:[...h],borderWidth:1}],p.domesticMigrants.barGraph.datasets=null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.data.filter((e=>"Other"!=e.memberName&&void 0!=e.domesticMigrant)).sort(((e,a)=>{var t,l;let s=null===e||void 0===e||null===(t=e.memberName)||void 0===t?void 0:t.toUpperCase(),n=null===a||void 0===a||null===(l=a.memberName)||void 0===l?void 0:l.toUpperCase();return s<n?-1:s>n?1:0})).map((e=>({label:e.memberName,data:[e.domesticMigrant],barPercentage:n,backgroundColor:De()}))),p.domesticMigrants.doughnutGraph.labels=d,p.domesticMigrants.doughnutGraph.datasets=[{data:[...m],backgroundColor:[...h],borderColor:[...h],borderWidth:1}],console.log("data for bar graphs = ",p),o({}),p}))}else o({...l.data,indicator:ie("indicator")}),N({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}});i(!1)}catch(X){i(!0),s({titleMessage:"Oops!",descriptionMessage:"Something went wrong!",messageType:"error"},(()=>n.current())),console.log("error from submit filter data",X)}console.log(e)})),children:(0,y.jsxs)("div",{className:"card-blk flex-between",children:[(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{htmlFor:"type",children:["Type ",(0,y.jsx)("span",{className:"mandatory",children:"*"})]}),(0,y.jsx)(K.Z,{control:re,myOnChange:e=>{pe((a=>e.target.value)),r(e.target.value),oe("type",e.target.value),a(!1),oe("assessment",""),oe("country",""),oe("endDate",new Date),ve(new Date),o({}),i(!0),b(!1),N({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}}),"Indicators"===e.target.value&&(oe("endDate",""),oe("startDate",""),oe("assessment","HRDD Reporting Framework (Global)"),be(null),ve(null))},name:"type",options:["Indicators","Workforce Data"],rules:{required:!0},myHelper:Q,placeholder:"Select type"})]})}),(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{children:["Assessment ",(0,y.jsx)("span",{className:"mandatory",children:" *"})]}),(0,y.jsx)(K.Z,{control:re,myOnChange:e=>{oe("assessment",e.target.value),oe("memberCompanies",[]),oe("indicator",""),b(!1),a(!1),oe("country",""),H([]),o({}),i(!0),N({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}})},name:"assessment",options:"Indicators"===ue("type")?T:Z,rules:{required:!0},myHelper:Q,placeholder:"Select assessment"})]})}),(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{children:["Country ",(0,y.jsx)("span",{className:"mandatory",children:" *"})]}),(0,y.jsx)(K.Z,{isDisabled:"COUNTRY- OPERATION HRDD REQUIREMENTS"!==ue("assessment")&&"HRDD Reporting Framework (Country)"!==ue("assessment"),control:re,myOnChange:e=>{oe("country",e.target.value),i(!0),o({}),a(!1),b(!1),N({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}})},name:"country",options:F,rules:{required:"COUNTRY- OPERATION HRDD REQUIREMENTS"===ue("assessment")||"HRDD Reporting Framework (Country)"===ue("assessment")},myHelper:Q,placeholder:"Select country"})]})}),"Indicators"===ue("type")&&(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{children:["Indicator ",(0,y.jsx)("span",{className:"mandatory",children:" *"})]}),(0,y.jsx)(K.Z,{isDisabled:"Workforce Data"===ue("type"),control:re,name:"indicator",options:"HRDD Reporting Framework (Global)"===ue("assessment")?M:"HRDD Reporting Framework (Country)"===ue("assessment")?E:G,rules:{required:"Indicators"===ue("type")},myHelper:Q,placeholder:"Select indicator",myOnChange:e=>{oe("indicator",e.target.value),i(!0),o({}),a(!1)}})]})}),"Workforce Data"===ue("type")&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{children:["Member Companies ",(0,y.jsx)("span",{className:"mandatory",children:" *"})]}),(0,y.jsx)(J.Qr,{name:"memberCompanies",control:re,rules:{required:"Select the member company"},render:e=>{let{field:a,fieldState:{error:t}}=e;return(0,y.jsxs)(q.Z,{style:{width:"100%"},children:[(0,y.jsxs)(_.Z,{...a,IconComponent:e=>(0,y.jsx)(le.Z,{...e}),multiple:!0,displayEmpty:!0,className:"dashboard-select-component",fullWidth:!0,onChange:Se,input:(0,y.jsx)(B.Z,{...a}),renderValue:e=>null!==e&&void 0!==e&&e.includes("all")?"All Member Companies":(null===e||void 0===e?void 0:e.length)<1?"Select member companies":null===e||void 0===e?void 0:e.map((e=>O.find((a=>a.id===e)).label)).join(", "),MenuProps:se,children:[(0,y.jsxs)(c.Z,{value:"all",children:[(0,y.jsx)(U.Z,{checked:O.length>0&&R.length===O.length}),(0,y.jsx)(Y.Z,{primary:"Select All"})]},"all"),O.map((e=>(0,y.jsxs)(c.Z,{value:e.id,children:[(0,y.jsx)(U.Z,{checked:R.includes("all")||R.includes(e.id)}),(0,y.jsx)(Y.Z,{primary:e.label})]},e.label)))]}),(0,y.jsx)(V.Z,{children:t&&(null===t||void 0===t?void 0:t.message)})]})}})]})}),(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{children:["Start Date ",(0,y.jsx)("span",{className:"mandatory",children:" *"})]}),(0,y.jsx)(J.Qr,{name:"startDate",control:re,disabled:"Indicators"===ue("type"),rules:{required:!0},render:e=>{let{field:t,fieldState:{error:l}}=e;return(0,y.jsx)(ae._,{dateAdapter:ee.y,children:(0,y.jsx)(te.M,{open:xe,onClose:()=>ye(!1),onOpen:()=>ye(!0),name:"startDate",disableFuture:!0,disabled:"Indicators"===ue("type"),componentsProps:{actionBar:{actions:["clear"]}},className:"datepicker-blk",components:{OpenPickerIcon:X.Z},value:ge,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";be(e),i(!0),a(!1),oe("startDate",null===e||void 0===e?void 0:e.toISOString())},renderInput:e=>(0,y.jsx)($.Z,{onClick:e=>ye(!0),autoComplete:"off",...e,className:" input-field ".concat(l&&"input-error"),onKeyDown:we,placeholder:"MM/DD/YYYY",error:!0,helperText:l?Q.startDate[l.type]:" "})})})}})]})}),(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{children:["End Date ",(0,y.jsx)("span",{className:"mandatory",children:" *"})]}),(0,y.jsx)(J.Qr,{name:"endDate",control:re,disabled:"Indicators"===ue("type"),rules:{required:!0},render:e=>{let{field:t,fieldState:{error:l}}=e;return(0,y.jsx)(ae._,{dateAdapter:ee.y,children:(0,y.jsx)(te.M,{open:je,onClose:()=>fe(!1),onOpen:()=>fe(!0),slotProps:{textField:{onClick:()=>fe(!0)}},disabled:"Indicators"===ue("type"),componentsProps:{actionBar:{actions:["clear"]}},className:"datepicker-blk",components:{OpenPickerIcon:X.Z},value:he,disableFuture:!0,onChange:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";ve(e),i(!0),a(!1),oe("endDate",null===e||void 0===e?void 0:e.toISOString())},renderInput:e=>(0,y.jsx)($.Z,{autoComplete:"off",...e,className:" input-field ".concat(l&&"input-error"),onKeyDown:we,onClick:e=>fe(!0),placeholder:"MM/DD/YYYY",error:!0,helperText:l?Q.endDate[l.type]:" "})})})}})]})})]}),(0,y.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,y.jsx)("button",{type:"reset",className:"secondary-button mr-10",onClick:()=>{de({type:"Workforce Data",assessment:"",country:"",memberCompanies:[],endDate:new Date,startDate:""}),be(null),ve(new Date),a(!1),H([]),j((e=>({...e,expandBarGraph:!1,expandDoughnutGraph:!1,expandFilters:!0,expandDoughnutgraph1:!1}))),b(!1),o({}),u([]),i(!0),d(),t({}),N({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}})},children:"Reset Filter"}),(0,y.jsx)("button",{type:"reset",className:"secondary-button mr-10",disabled:m,onClick:()=>g("chart-container"),children:"Download"}),(0,y.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Search"})]})]})})})})})};w.kL.register(w.qi,w.u,w.De);var ie=t(79836),re=t(53382),de=t(53994),oe=t(39281),ce=t(56890),ue=t(35855),me=t(35527);t(71605);const pe=function(e){let{records:a,type:t}=e;return(0,y.jsx)("div",{children:(0,y.jsx)(oe.Z,{component:me.Z,children:(0,y.jsxs)(ie.Z,{"aria-label":"simple table",children:[(0,y.jsx)(ce.Z,{children:(0,y.jsxs)(ue.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:[(0,y.jsx)(de.Z,{style:{width:"40%"},children:t}),(0,y.jsx)(de.Z,{align:"center",children:"Submitted"}),(0,y.jsx)(de.Z,{align:"center",children:"Pending"}),(0,y.jsx)(de.Z,{align:"center",children:"Total"})]})}),(0,y.jsx)(re.Z,{children:a.length>0?a.map(((e,a)=>(0,y.jsxs)(ue.Z,{children:[(0,y.jsx)(de.Z,{style:{width:"40%"},component:"th",scope:"row",children:"Member Company"===t?null===e||void 0===e?void 0:e.memberCompany:e.country}),(0,y.jsx)(de.Z,{align:"center",children:null===e||void 0===e?void 0:e.submitted}),(0,y.jsx)(de.Z,{align:"center",children:null===e||void 0===e?void 0:e.pending}),(0,y.jsx)(de.Z,{align:"center",children:null===e||void 0===e?void 0:e.total})]},a))):(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:"10",children:(0,y.jsx)("div",{className:"no-records-blk",children:(0,y.jsx)("h2",{className:"heading2",children:"No records available"})})})})})]})})})};w.kL.register(w.uw,w.f$,w.ZL,w.Dx,w.u,w.De);const he=function(e){var a,t,s;let{memberCompanies:n,setCompanySAQData:i}=e;const[r,d]=(0,l.useState)([]);console.log("member companies = ",n);const[o,u]=(0,l.useState)(n),[m,p]=(0,l.useState)("Select Company"),[g,b]=(0,l.useState)();(0,l.useEffect)((()=>{x()}),[m]);const x=async()=>{try{var e,a,t;const l=await v.H.get(h.dl+m);console.log("response from company saq status = ",l),console.log("rows= ",null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.barGraph.map((e=>Object.values(e)))),console.log("rows= ",null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.barGraph.map((e=>Object.keys(e))));let s=["country","submitted","pending","total"];const r=e=>s.map((a=>e[a]));i({columns:s,rows:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.barGraph.map((e=>r(e)))});let o=n.filter((e=>e.id===m));console.log("selectedMemberCompanyName",o),i((e=>({...e,company:o[0].label}))),d(l.data.barGraph),b(l.data.pieChart)}catch(l){console.log("error from company saq",l)}};console.log("piechart = ",g),r.map((e=>e.country)),r.map((e=>null===e||void 0===e?void 0:e.submitted)),r.map((e=>null===e||void 0===e?void 0:e.pending)),null===g||void 0===g||g.columns,null===g||void 0===g||null===(a=g.data)||void 0===a||a.directlyHiredPercent,null===g||void 0===g||null===(t=g.data)||void 0===t||t.thirdPartyPercent,null===g||void 0===g||null===(s=g.data)||void 0===s||s.domesticMigrantPercent;const j={PaperProps:{style:{maxHeight:168}}},f=(0,y.jsx)(q.Z,{style:{width:"50%"},children:(0,y.jsx)(_.Z,{IconComponent:e=>(0,y.jsx)(le.Z,{...e}),MenuProps:j,className:"saq-status-dropdown",labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:e=>{var a;p(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)},children:null===n||void 0===n?void 0:n.map((e=>(0,y.jsx)(c.Z,{value:e.id,children:(0,y.jsx)(Y.Z,{primary:e.label})},e.label)))})});return(0,y.jsxs)("div",{children:[f,(0,y.jsx)("div",{className:"saq-status-table-wrapper",children:(0,y.jsx)(pe,{type:"Country",records:r})}),(0,y.jsx)("div",{}),(0,y.jsx)("div",{})]})};w.kL.register(w.uw,w.f$,w.ZL,w.Dx,w.u,w.De);const ve=function(e){let{memberCompanies:a,setCountrySAQData:t}=e;const[s,n]=(0,l.useState)([]);console.log("member companies = ",a);const[i,r]=(0,l.useState)(""),[d,o]=(0,l.useState)([]);(0,l.useEffect)((()=>{m(),u()}),[i]);const u=async()=>{try{const e=await v.H.get(h.od);console.log(e),o(e.data.map((e=>e.name)))}catch(e){console.log("error from getCountries API",e)}},m=async()=>{try{var e;const a=await v.H.get(h.y1+i);console.log("response from country saq status = ",a),n(a.data);let l=["memberCompany","submitted","pending","total"];const s=e=>l.map((a=>e[a]));t({columns:l,rows:null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.map((e=>s(e))),country:i})}catch(a){console.log("error from country saq",a)}},p=(s.map((e=>e.memberCompany)),s.map((e=>null===e||void 0===e?void 0:e.submitted)),s.map((e=>null===e||void 0===e?void 0:e.pending)),s.map((e=>null===e||void 0===e?void 0:e.total)),{PaperProps:{style:{maxHeight:168}}}),g=(0,y.jsx)(q.Z,{style:{width:"50%"},children:(0,y.jsx)(_.Z,{IconComponent:e=>(0,y.jsx)(le.Z,{...e}),MenuProps:p,className:"saq-status-dropdown",labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:e=>{var a;return r(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)},children:d.map((e=>(0,y.jsx)(c.Z,{value:e,children:(0,y.jsx)(Y.Z,{primary:e})},e)))})});return(0,y.jsxs)("div",{className:"select-field",children:[g,(0,y.jsx)("div",{className:"saq-status-table-wrapper",children:(0,y.jsx)(pe,{type:"Member Company",records:s})}),(0,y.jsx)("div",{})]})};t(47648);w.kL.register(w.qi,w.u,w.De);const ge=function(){var e;const a={labels:["Directly Hired Workers","Third Party Workers"],datasets:[{data:[],backgroundColor:["#318ad0","#cedfee"],borderColor:[""],borderWidth:1}]},t={labels:["Domestic & Foreign Migrant Workers","Others"],datasets:[{data:[],backgroundColor:["#f6a623","#fbe6c1"],borderColor:[""],borderWidth:1}]},[s,n]=(0,l.useState)({...a}),[i,r]=(0,l.useState)({...t});(0,l.useEffect)((()=>{m()}),[]);const[d,o]=(0,l.useState)(""),[c,u]=(0,l.useState)(""),m=async()=>{try{var e,l,s,i,d,c,m,p,g,b,x,y,j,f,N,D,w,S,C,P;const k=await v.H.get(h.SK);console.log("Response from total workers",k),a.labels=["Directly Hired Workers - ".concat(null===k||void 0===k||null===(e=k.data)||void 0===e||null===(l=e.graph1)||void 0===l?void 0:l.directlyHiredPercent,"%"),"Third Party Workers - ".concat(null===k||void 0===k||null===(s=k.data)||void 0===s||null===(i=s.graph1)||void 0===i?void 0:i.thirdPartyPercent,"%")],a.datasets[0].data=[null===k||void 0===k||null===(d=k.data)||void 0===d||null===(c=d.graph1)||void 0===c?void 0:c.directlyHiredPercent,null===k||void 0===k||null===(m=k.data)||void 0===m||null===(p=m.graph1)||void 0===p?void 0:p.thirdPartyPercent],t.labels=["Domestic & Foreign Migrant Workers - ".concat(null===k||void 0===k||null===(g=k.data)||void 0===g||null===(b=g.graph2)||void 0===b?void 0:b.domesticMigrantPercent,"%"),"Others - ".concat(null===k||void 0===k||null===(x=k.data)||void 0===x||null===(y=x.graph2)||void 0===y?void 0:y.otherPercent,"%")],t.datasets[0].data=[null===k||void 0===k||null===(j=k.data)||void 0===j||null===(f=j.graph2)||void 0===f?void 0:f.domesticMigrantPercent,null===k||void 0===k||null===(N=k.data)||void 0===N||null===(D=N.graph2)||void 0===D?void 0:D.otherPercent],n({...a}),r({...t}),o("Total Workers - ".concat(null===k||void 0===k||null===(w=k.data)||void 0===w||null===(S=w.graph1)||void 0===S?void 0:S.total)),u("Domestic & Foreign Migrant Workers - ".concat(null===k||void 0===k||null===(C=k.data)||void 0===C||null===(P=C.graph2)||void 0===P?void 0:P.domesticMigrantTotal))}catch(k){console.log("error from fetch total workers",k)}};return console.log("totaldata=",s),(0,y.jsx)("div",{children:(null===s||void 0===s||null===(e=s.datasets[0])||void 0===e?void 0:e.data.length)>0&&(0,y.jsxs)("div",{style:{display:"flex",width:"100%",margin:"auto"},id:"tchart",children:[(0,y.jsxs)("div",{style:{width:"50%",margin:"auto"},children:[(0,y.jsx)("div",{style:{display:"inline-block"}}),"  ",(0,y.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,y.jsx)(S.$I,{data:s,options:{responsive:!0,maintainAspectRatio:!1,...A(d,"top")},width:1e3,height:450})})]}),(0,y.jsxs)("div",{style:{width:"50%",margin:"auto"},children:[(0,y.jsx)("div",{style:{display:"inline-block"}}),"  ",(0,y.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,y.jsx)(S.$I,{data:i,options:{responsive:!0,maintainAspectRatio:!1,...A(c,"top")},width:1e3,height:450})})]})]})})};var be=t(872);w.kL.register(w.qi,w.u,w.De);const xe=function(e){var a,t,s,n,i,r,d,o,c,u,m,p,h;let{indicatorData:v,setIndicatorTableData:g,submittedData:b}=e;console.log("indicator data",v),console.log("established",null===v||void 0===v||null===(a=v.graphData)||void 0===a?void 0:a.Established);let x=[...null===v||void 0===v||null===(t=v.tableData)||void 0===t?void 0:t.Established,...null===v||void 0===v||null===(s=v.tableData)||void 0===s?void 0:s["Not Initiated"],...null===v||void 0===v||null===(n=v.tableData)||void 0===n?void 0:n.Launched,...null===v||void 0===v||null===(i=v.tableData)||void 0===i?void 0:i.Leadership];console.log("all member companies",x);const j={labels:["Not Initiated","Launched","Established","Leadership"],datasets:[{data:[],backgroundColor:["#FFF67E","#BFEA7C","#9BCF53","#416D19"],borderColor:[""],borderWidth:1}]},[f,N]=(0,l.useState)({...j});let D=[{name:"Not Initiated",count:null===v||void 0===v||null===(r=v.tableData)||void 0===r||null===(d=r["Not Initiated"])||void 0===d?void 0:d.length},{name:"Launched",count:null===v||void 0===v||null===(o=v.tableData)||void 0===o||null===(c=o.Launched)||void 0===c?void 0:c.length},{name:"Leadership",count:null===v||void 0===v||null===(u=v.tableData)||void 0===u||null===(m=u.Leadership)||void 0===m?void 0:m.length},{name:"Established",count:null===v||void 0===v||null===(p=v.tableData)||void 0===p||null===(h=p.Established)||void 0===h?void 0:h.length}].sort(((e,a)=>e.count-a.count));return console.log("maxMembers = ",D),(0,l.useEffect)((()=>{var e,a,t,l,s,n,i,r;let d={...j};d.labels=["Not Initiated - ".concat(null===v||void 0===v||null===(e=v.graphData)||void 0===e?void 0:e["Not Initiated"],"%"),"Launched - ".concat(null===v||void 0===v||null===(a=v.graphData)||void 0===a?void 0:a.Launched,"%"),"Established - ".concat(null===v||void 0===v||null===(t=v.graphData)||void 0===t?void 0:t.Established,"%"),"Leadership - ".concat(null===v||void 0===v||null===(l=v.graphData)||void 0===l?void 0:l.Leadership,"%")],d.datasets[0].data=[null===v||void 0===v||null===(s=v.graphData)||void 0===s?void 0:s["Not Initiated"],null===v||void 0===v||null===(n=v.graphData)||void 0===n?void 0:n.Launched,null===v||void 0===v||null===(i=v.graphData)||void 0===i?void 0:i.Established,null===v||void 0===v||null===(r=v.graphData)||void 0===r?void 0:r.Leadership],N({...d}),g({rows:x.map(((e,a)=>{var t,l,s,n;return[e,null!==v&&void 0!==v&&null!==(t=v.tableData)&&void 0!==t&&t["Not Initiated"].includes(e)?"Yes":"--",null!==v&&void 0!==v&&null!==(l=v.tableData)&&void 0!==l&&l.Launched.includes(e)?"Yes":"--",null!==v&&void 0!==v&&null!==(s=v.tableData)&&void 0!==s&&s.Established.includes(e)?"Yes":"--",null!==v&&void 0!==v&&null!==(n=v.tableData)&&void 0!==n&&n.Leadership.includes(e)?"Yes":"--"]})),indicator:null===v||void 0===v?void 0:v.indicator})}),[v]),(0,y.jsxs)("div",{id:"ichart1",children:[f.datasets[0].data.length>0&&(0,y.jsx)("div",{style:{width:"60%",display:"block",marginLeft:"auto",marginRight:"auto",padding:"3%"},children:(0,y.jsx)(S.$I,{id:"indicatorchart",data:f,width:800,height:500,options:{responsive:!0,maintainAspectRatio:!1,...A([null===v||void 0===v?void 0:v.indicator,"Submitted - ".concat(null!==b&&void 0!==b&&b.submittedPercent?null===b||void 0===b?void 0:b.submittedPercent:0,"%, Not Submitted - ").concat(null!==b&&void 0!==b&&b.unsubmittedPercent?null===b||void 0===b?void 0:b.unsubmittedPercent:0,"%")],"top")}})}),(0,y.jsx)("div",{children:(0,y.jsx)(oe.Z,{style:{maxHeight:400},component:me.Z,children:(0,y.jsxs)(ie.Z,{"aria-label":"simple table",style:{position:"relative"},children:[(0,y.jsx)(ce.Z,{style:{position:"sticky",top:"0",zIndex:"9999",background:"#fff"},children:(0,y.jsxs)(ue.Z,{children:[(0,y.jsx)(de.Z,{style:{background:"rgba(69, 150, 209, 0.1)",opacity:"1"},children:"Member Company"}),(0,y.jsx)(de.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Not Initiated"}),(0,y.jsx)(de.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Launched"}),(0,y.jsx)(de.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Established"}),(0,y.jsx)(de.Z,{style:{background:"rgba(69, 150, 209, 0.1)"},children:"Leadership"})]})}),(0,y.jsx)(re.Z,{children:x.length>0?x.map(((e,a)=>{var t,l,s,n;return(0,y.jsxs)(ue.Z,{children:[(0,y.jsx)(de.Z,{children:e}),(0,y.jsx)(de.Z,{children:null!==v&&void 0!==v&&null!==(t=v.tableData)&&void 0!==t&&t["Not Initiated"].includes(e)?(0,y.jsx)(be.Z,{}):"--"}),(0,y.jsx)(de.Z,{children:null!==v&&void 0!==v&&null!==(l=v.tableData)&&void 0!==l&&l.Launched.includes(e)?(0,y.jsx)(be.Z,{}):"--"}),(0,y.jsx)(de.Z,{children:null!==v&&void 0!==v&&null!==(s=v.tableData)&&void 0!==s&&s.Established.includes(e)?(0,y.jsx)(be.Z,{}):"--"}),(0,y.jsx)(de.Z,{children:null!==v&&void 0!==v&&null!==(n=v.tableData)&&void 0!==n&&n.Leadership.includes(e)?(0,y.jsx)(be.Z,{}):"--"})]},a)})):(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:"10",children:(0,y.jsx)("div",{className:"no-records-blk",children:(0,y.jsx)("h2",{className:"heading2",children:"No records available"})})})})})]})})})]})};var ye=t(35125),je=t(25498),fe=t.n(je),Ne=t(12820),De=t(27659);w.kL.register(w.uw,w.f$,w.ZL,w.Dx,w.u,w.De,D.Z);const we=k(""),Se=k(""),Ce=k("");const Pe=function(){var e,a,t,s,n,i;const[r,d]=(0,l.useState)(""),[o,c]=(0,l.useState)({}),[u,m]=(0,Ne.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),[p,h]=(0,l.useState)(""),[v,g]=(0,l.useState)({columns:[],rows:[]}),[b,x]=(0,l.useState)({columns:[],rows:[]}),[j,f]=(0,l.useState)({columns:[],rows:[]}),N=(0,l.useRef)(),[D,w]=(0,l.useState)({barGraphOptions1:k(""),barGraphOptions2:k(""),barGraphOptions3:k("")}),[C,P]=l.useState([]),[A,M]=(0,l.useState)(!1),[G,E]=(0,l.useState)(!1),[Z,T]=(0,l.useState)([]),[W,I]=(0,l.useState)({expandFilters:!0,expandBarGraph:!1,expandBarGraph1:!1,expandBarGraph2:!1,expandBarGraph3:!1,expandDoughnutgraph1:!1,expandDoughnutgraph2:!1,expandDoughnutgraph3:!1,expandDoughnutGraph:!1,expandCompanySAQGraph:!1,expandCountrySAQGraph:!1,expandTotalWorker:!0}),[R,H]=l.useState({}),[O,z]=(0,l.useState)(!0),[L,q]=(0,l.useState)({}),[_,B]=(0,l.useState)({}),[U,Y]=(0,l.useState)({title1:"",title2:"",title3:""}),[V,$]=(0,l.useState)({directlyHired:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},thirdParty:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}},domesticMigrants:{barGraph:{labels:[""],datasets:[{label:"",data:[]}]},doughnutGraph:{labels:[""],datasets:[{label:"",data:[]}]}}});console.log("countrySAQdata",b),console.log("companySAQData - ",v),console.log("DATA IN BAR GRAPH 1 - ",V),console.log("indicator data",L.graphData);const K=(0,y.jsxs)("p",{style:{fontSize:"x-small",width:"100%"},children:[(0,y.jsx)("b",{children:"Note"})," - Companies not represented on the graph either have zero workers in this category or have not submitted their data. Additionally, the data from the submitted companies constitutes 100% of the data represented on the graph."]});return(0,y.jsx)("div",{className:"page-wrapper",children:(0,y.jsxs)("section",{style:{margin:"5%"},children:[(0,y.jsx)(De.Z,{myRef:N,titleMessage:u.titleMessage,descriptionMessage:u.descriptionMessage,messageType:u.messageType}),(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)(F,{expanded:W.expandFilters,name:"expandFilters",setExpanded:I,title:"Filters",defaultExpanded:!0,children:(0,y.jsx)(ne,{setDashboardReportPresent:M,setSubmittedData:c,dashboardRef:N,setDashboardReport:m,setDisableDownload:z,setResultType:d,setSelectedCountry:h,setFilteredData:B,disableDownload:O,setIndicatorData:q,setBarGraphOptions1:w,setIsAssessmentCountryType:E,saveAsPdf:()=>{I((e=>({...e,expandTotalWorker:!0,expandBarGraph:!0,expandBarGraph1:!0,expandBarGraph2:!0,expandBarGraph3:!0,expandDoughnutgraph1:!0,expandDoughnutgraph2:!0,expandDoughnutgraph3:!0,expandDoughnutGraph:!0,expandCompanySAQGraph:!0,expandCountrySAQGraph:!0}))),z(!0),setTimeout((()=>(async e=>{const a=new ye.jsPDF("landscape","mm","a4");console.log("filteredData",_),a.setFontSize(16),a.text(10,20,"Filters"),a.autoTable(["Filters","Selected Values"],_,{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}}),a.addPage();for(let n=0;n<e.length;n++)if("companySAQ"!==e[n]&&"countrySAQ"!==e[n]&&"indicatorTableChart"!==e[n]){var t,l;const s=e[n],i=document.getElementById(s);if(!i){console.error("Container with ID ".concat(s," not found."));continue}const r=document.createElement("canvas");r.width=i.offsetWidth,r.height=i.offsetHeight;const d=r.getContext("2d");await fe()(i).then((e=>{d.drawImage(e,0,0,r.width,r.height)}));const o=r.toDataURL("image/png",1);n>0&&a.addPage(),a.addImage(o,"PNG",0,0,null===(t=a.internal.pageSize)||void 0===t?void 0:t.getWidth(),null===(l=a.internal.pageSize)||void 0===l?void 0:l.getHeight()),"tchart"===s&&(console.log("tchart it is"),a.setFontSize(16),a.text(10,10,"Total number of workers across the globe"))}else if("companySAQ"===e[n]&&G){var s;const e="Company's SAQ Status - ".concat(null!==(s=null===v||void 0===v?void 0:v.company)&&void 0!==s?s:"No company selected");console.log("companySAQData",v),n>0&&a.addPage(),a.setFontSize(16),a.text(10,20,e),a.autoTable(["Country","Submitted","Pending","Total"],v.rows.length>0?null===v||void 0===v?void 0:v.rows:[["--","--","--","--"]],{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}})}else if("countrySAQ"===e[n]&&G){const e="Country's SAQ Status - ".concat((null===b||void 0===b?void 0:b.country.length)>0?null===b||void 0===b?void 0:b.country:"No country selected");n>0&&a.addPage(),a.setFontSize(16),a.text(10,20,e),console.log("countrySAQdata",b),a.autoTable(["Member Company","Submitted","Pending","Total"],b.rows.length>0?b.rows:[["--","--","--","--"]],{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}})}else if("indicatorTableChart"===e[n]){const e="Indicator - ".concat(null===j||void 0===j?void 0:j.indicator);n>0&&a.addPage(),a.setFontSize(16),a.text(10,20,e),console.log("indicator table data",j);let t=(null===j||void 0===j?void 0:j.rows.length)<1?[["--","--","--","--","--"]]:j.rows;console.log("records --",t),a.autoTable(["Member Company","Not Initiated","Launched","Established","Leadership"],t,{startY:30,theme:"grid",headStyles:{fillColor:[69,150,209]}})}a.save("Dashboard-report-".concat((new Date).toLocaleString(),".pdf")),m({titleMessage:"Hurray!",descriptionMessage:"File downloaded successfully!",messageType:"success"},(()=>N.current())),z(!1)})(null!==L&&void 0!==L&&L.graphData?["indicatorchart","indicatorTableChart"]:["tchart","chart1","chart2","chart3","chart4","chart5","chart6","companySAQ","countrySAQ"])),1e3)},expanded:W,setExpanded:I,setMemberCompanies:T,setDataForBarGraphs:$,personName:C,options1:we,options2:Se,options3:Ce,setAccordianTitles:Y})}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsxs)("div",{id:"chart-container",children:["Workforce Data"===r&&(0,y.jsx)(F,{expanded:W.expandTotalWorker,name:"expandTotalWorker",setExpanded:I,title:"Total number of workers across the globe",children:(0,y.jsx)(ge,{})}),(null===L||void 0===L?void 0:L.graphData)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsx)(F,{title:"Indicators",expanded:W.expandIndicator,name:"expandIndicator",setExpanded:I,children:(0,y.jsx)(xe,{submittedData:o,indicatorData:L,setIndicatorTableData:f})})]}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),"Workforce Data"===r&&A&&(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(F,{setExpanded:I,title:p.length>0?"Disaggregated Data  - (".concat(p,")"):"Disaggregated Data",expanded:null===W||void 0===W?void 0:W.expandBarGraph,name:"expandBarGraph",children:[(0,y.jsx)(F,{title:U.title1,expanded:W.expandBarGraph1,name:"expandBarGraph1",setExpanded:I,children:(0,y.jsxs)("div",{id:"chart1",children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:K}),"  ",(0,y.jsx)(S.$Q,{style:{backgroundColor:"white"},options:D.barGraphOptions1,data:null===V||void 0===V||null===(e=V.directlyHired)||void 0===e?void 0:e.barGraph})]})}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsxs)(F,{title:U.title2,expanded:W.expandBarGraph2,name:"expandBarGraph2",setExpanded:I,children:[(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsxs)("div",{id:"chart2",children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:K}),"  ",(0,y.jsx)(S.$Q,{style:{backgroundColor:"white"},options:D.barGraphOptions2,data:null===V||void 0===V||null===(a=V.thirdParty)||void 0===a?void 0:a.barGraph})]})]}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsxs)(F,{title:U.title3,expanded:W.expandBarGraph3,name:"expandBarGraph3",setExpanded:I,children:[(0,y.jsxs)("div",{id:"chart3",children:[(0,y.jsx)("div",{style:{display:"inline-block"},children:K}),"  ",(0,y.jsx)(S.$Q,{style:{backgroundColor:"white"},options:D.barGraphOptions3,data:null===V||void 0===V||null===(t=V.domesticMigrants)||void 0===t?void 0:t.barGraph})]}),(0,y.jsx)("div",{class:"html2pdf__page-break"})]})]})}),"Workforce Data"===r&&A&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsx)(F,{expanded:null===W||void 0===W?void 0:W.expandDoughnutGraph,name:"expandDoughnutGraph",setExpanded:I,title:p.length>0?"Worker Status - (".concat(p,")"):"Worker Status",children:(0,y.jsx)(Q,{submittedData:o,expanded:W,setExpanded:I,graphTitle:U,data:null===V||void 0===V||null===(s=V.directlyHired)||void 0===s?void 0:s.doughnutGraph,thirdPartyData:null===V||void 0===V||null===(n=V.thirdParty)||void 0===n?void 0:n.doughnutGraph,domesticMigrantsData:null===V||void 0===V||null===(i=V.domesticMigrants)||void 0===i?void 0:i.doughnutGraph})})]}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),G&&"Workforce Data"===r&&(0,y.jsxs)(y.Fragment,{children:[" ",(0,y.jsx)(F,{expanded:W.expandCompanySAQGraph,name:"expandCompanySAQGraph",setExpanded:I,title:"Company's SAQ Status",children:(0,y.jsx)(he,{setCompanySAQData:g,memberCompanies:Z})}),(0,y.jsx)("div",{class:"html2pdf__page-break"}),(0,y.jsx)(F,{expanded:W.expandCountrySAQGraph,name:"expandCountrySAQGraph",setExpanded:I,title:"Country's SAQ Status",children:(0,y.jsx)(ve,{setCountrySAQData:x})})]})]})]})]})})};var ke=t(48086),Ae=t(45736);const Me=function(){var e;const a={ruleType:{required:"Enter the rule type"},ruleEngine:{required:"Enter the rule engine"}},[t,n]=(0,l.useState)(""),[i,r]=(0,l.useState)("saq"),d=(0,l.useRef)(),[o,c]=(0,Ne.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),u=(0,s.s0)(),{handleSubmit:m,watch:p,formState:{errors:g},reset:b,control:x,trigger:j,setValue:f}=(0,J.cI)({defaultValues:{ruleType:"",ruleEngine:t}});(0,l.useEffect)((()=>{N()}),[]);const N=async e=>{try{const a=await v.H.get(h.g+e);console.log("response from ruleEngine",a),n(JSON.stringify(a.data.rules)),f("ruleEngine",JSON.stringify(a.data.rules))}catch(a){console.log("error from rule engine",a)}},D=async e=>{try{const a=await v.H.put(h.Kh+i,{rules:e});200===a.status&&c({titleMessage:"Hurray!",descriptionMessage:a.data.message,messageType:"success"},(()=>d.current()))}catch(a){console.log("error from update rule engine",a)}};return(0,y.jsxs)("form",{onSubmit:m((e=>{let a=JSON.parse(e.ruleEngine);console.log("data = ",a),D(a)})),children:[(0,y.jsx)(De.Z,{myRef:d,titleMessage:o.titleMessage,descriptionMessage:o.descriptionMessage,messageType:o.messageType}),(0,y.jsx)("div",{className:"page-wrapper",children:(0,y.jsxs)("div",{className:"card-wrapper",children:[(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{htmlFor:"role",children:["Rule Type ",(0,y.jsx)("span",{className:"mandatory",children:"*"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(K.Z,{name:"ruleType",control:x,options:["saq","indicator","indicator_new"],rules:{required:!0},myOnChange:e=>{f("ruleType",e.target.value),r(e.target.value),N(e.target.value)},myHelper:a.ruleType,placeholder:"Select rule type"}),(0,y.jsx)("p",{className:"password-error",children:null===(e=g.ruleType)||void 0===e?void 0:e.message})]})]})}),(0,y.jsx)("div",{className:"card-form-field",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{htmlFor:"name",children:["Rule Engine ",(0,y.jsx)("span",{className:"mandatory",children:"*"})]}),(0,y.jsx)(ke.Z,{control:x,multiline:!0,onBlur:e=>{var a;return f("ruleEngine",null===(a=e.target.value)||void 0===a?void 0:a.trim())},name:"ruleEngine",placeholder:"Enter Rule engine object",myHelper:a,rules:{required:!0}})]})}),(0,y.jsxs)("div",{className:"form-btn flex-between add-members-btn",children:[(0,y.jsx)("button",{type:"reset",onClick:async e=>{try{const e=await v.H.put(h.Kh+"reset/all");200===e.status&&(c({titleMessage:"Hurray!",descriptionMessage:e.data.message,messageType:"success"},(()=>d.current())),setTimeout((()=>{u("/home")}),2e3))}catch(a){console.log("Error from reset configuration",a),(0,Ae.K)(a,c,d,u)}},className:"secondary-button mr-10",children:"Reset"}),(0,y.jsx)("button",{type:"reset",className:"secondary-button mr-10",children:"Cancel"}),(0,y.jsx)("button",{type:"submit",className:"primary-button add-button",children:"Save"})]})]})})]})},Ge=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(6091)]).then(t.bind(t,56091)))),Ee=l.lazy((()=>Promise.all([t.e(5904),t.e(8814)]).then(t.bind(t,28814)))),Ze=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(7600),t.e(8412)]).then(t.bind(t,8412)))),Te=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(5103)]).then(t.bind(t,65103)))),We=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(484)]).then(t.bind(t,20484)))),Ie=l.lazy((()=>Promise.all([t.e(9182),t.e(4655)]).then(t.bind(t,6614)))),Re=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(5151)]).then(t.bind(t,15151)))),He=l.lazy((()=>Promise.all([t.e(1807),t.e(5248)]).then(t.bind(t,25248)))),Oe=l.lazy((()=>Promise.all([t.e(1807),t.e(1118)]).then(t.bind(t,51118)))),ze=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(8299)]).then(t.bind(t,18299)))),Fe=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(3183)]).then(t.bind(t,3183)))),Le=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(7005)]).then(t.bind(t,47005)))),Qe=l.lazy((()=>t.e(5737).then(t.bind(t,55737)))),qe=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(4851)]).then(t.bind(t,84851)))),_e=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(6348)]).then(t.bind(t,36348)))),Be=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(7307)]).then(t.bind(t,87307)))),Ue=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(5904),t.e(7600),t.e(8497)]).then(t.bind(t,18497)))),Ye=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(7600),t.e(9864)]).then(t.bind(t,99864)))),Ve=l.lazy((()=>Promise.all([t.e(1807),t.e(5904),t.e(5445)]).then(t.bind(t,15445)))),$e=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(8411),t.e(2318)]).then(t.bind(t,82318)))),Ke=l.lazy((()=>Promise.all([t.e(1807),t.e(8411),t.e(2389),t.e(8518)]).then(t.bind(t,8518)))),Je=l.lazy((()=>Promise.all([t.e(1807),t.e(8411),t.e(8617)]).then(t.bind(t,48617)))),Xe=l.lazy((()=>t.e(2172).then(t.bind(t,32172)))),ea=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(6035)]).then(t.bind(t,26035)))),aa=l.lazy((()=>t.e(2517).then(t.bind(t,42517)))),ta=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(5033)]).then(t.bind(t,95033)))),la=l.lazy((()=>Promise.all([t.e(8411),t.e(7953),t.e(5209)]).then(t.bind(t,96916)))),sa=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(6563)]).then(t.bind(t,76563)))),na=l.lazy((()=>Promise.all([t.e(1640),t.e(6593)]).then(t.bind(t,6593)))),ia=l.lazy((()=>Promise.all([t.e(1807),t.e(1805),t.e(9860)]).then(t.bind(t,49860)))),ra=l.lazy((()=>t.e(197).then(t.bind(t,20197)))),da=()=>(0,y.jsx)(s.Z5,{children:(0,y.jsxs)(s.AW,{path:"/",element:(0,y.jsx)(f,{}),children:[(0,y.jsx)(s.AW,{path:"/home",element:(0,y.jsx)(Ie,{})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin",element:(0,y.jsx)(N,{moduleName:"",page:"",children:(0,y.jsx)(Ge,{})})}),(0,y.jsx)(s.AW,{path:"/rule-engine",element:(0,y.jsx)(N,{moduleName:"",page:"",children:(0,y.jsx)(Me,{})})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin/add-cgf-admin",element:(0,y.jsx)(N,{moduleName:"",page:"",children:(0,y.jsx)(Ee,{})})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin/view-cgf-admin/:id",element:(0,y.jsx)(N,{moduleName:"",page:"",children:(0,y.jsx)(Ze,{})})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin/pending/view-cgf-admin/:id",element:(0,y.jsx)(N,{moduleName:"",page:"",children:(0,y.jsx)(Ze,{})})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin/edit-cgf-admin/:id",element:(0,y.jsx)(N,{children:(0,y.jsx)(Te,{})})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin/pending/edit-cgf-admin/:id",element:(0,y.jsx)(N,{children:(0,y.jsx)(Te,{})})}),(0,y.jsx)(s.AW,{path:"/users/cgf-admin/replace-cgf-admin/:id",element:(0,y.jsx)(N,{page:"",moduleName:"",children:(0,y.jsx)(We,{})})}),(0,y.jsx)(s.AW,{path:"/roles",element:(0,y.jsx)(N,{page:"",moduleName:"",children:(0,y.jsx)(Re,{})})}),(0,y.jsx)(s.AW,{path:"/roles/add-role",element:(0,y.jsx)(N,{page:"",moduleName:"",children:(0,y.jsx)(He,{})})}),(0,y.jsx)(s.AW,{path:"/roles/view-role/:id",element:(0,y.jsxs)(N,{page:"",moduleName:"",children:[" ",(0,y.jsx)(ze,{})]})}),(0,y.jsx)(s.AW,{path:"roles/edit-role/:id",element:(0,y.jsx)(N,{page:"",moduleName:"",children:(0,y.jsx)(Oe,{})})}),(0,y.jsx)(s.AW,{path:"/cgf-dashboard",element:(0,y.jsx)(N,{page:"view",moduleName:"Dashboard",children:(0,y.jsx)(Pe,{})})}),(0,y.jsx)(s.AW,{path:"/users/members",element:(0,y.jsx)(N,{page:"list",moduleName:"Members",children:(0,y.jsx)(qe,{})})}),(0,y.jsx)(s.AW,{path:"/users/members/add-member",element:(0,y.jsx)(N,{page:"add",moduleName:"Members",children:(0,y.jsx)(_e,{})})}),(0,y.jsx)(s.AW,{path:"/users/members/edit-member/:id",element:(0,y.jsx)(N,{page:"edit",moduleName:"Members",children:(0,y.jsx)(Be,{})})}),(0,y.jsx)(s.AW,{path:"/users/members/edit-member/pending/:id",element:(0,y.jsx)(N,{page:"edit",moduleName:"Members",children:(0,y.jsx)(Be,{})})}),(0,y.jsx)(s.AW,{path:"/users/members/view-member/:id",element:(0,y.jsx)(N,{page:"view",moduleName:"Members",children:(0,y.jsx)(Ue,{})})}),(0,y.jsx)(s.AW,{path:"/users/members/view-member/pending/:id",element:(0,y.jsx)(N,{page:"view",moduleName:"Members",children:(0,y.jsx)(Ue,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-members",element:(0,y.jsx)(N,{page:"list",moduleName:"Operation Members",children:(0,y.jsx)(Le,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-members/add-operation-member",element:(0,y.jsx)(N,{page:"add",moduleName:"Operation Members",children:(0,y.jsx)(Fe,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-member/view-operation-member/:id",element:(0,y.jsx)(N,{page:"view",moduleName:"Operation Members",children:(0,y.jsx)(Ye,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-member/pending/view-operation-member/:id",element:(0,y.jsx)(N,{page:"view",moduleName:"Operation Members",children:(0,y.jsx)(Ye,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-member/edit-operation-member/:id",element:(0,y.jsx)(N,{page:"edit",moduleName:"Operation Members",children:(0,y.jsx)(Ve,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-member/pending/edit-operation-member/:id",element:(0,y.jsx)(N,{page:"edit",moduleName:"Operation Members",children:(0,y.jsx)(Ve,{})})}),(0,y.jsx)(s.AW,{path:"/users/operation-member/replace-operation-member/:id",element:(0,y.jsx)(N,{page:"delete",moduleName:"Operation Members",children:(0,y.jsx)(sa,{})})}),(0,y.jsx)(s.AW,{path:"/questionnaires",element:(0,y.jsx)(N,{page:"list",moduleName:"Questionnaire",children:(0,y.jsx)($e,{})})}),(0,y.jsx)(s.AW,{path:"/questionnaires/add-questionnaire/:id",element:(0,y.jsx)(N,{page:"add",moduleName:"Questionnaire",children:(0,y.jsx)(Ke,{})})}),(0,y.jsx)(s.AW,{path:"/questionnaires/edit-questionnaire/:id",element:(0,y.jsx)(N,{page:"edit",moduleName:"Questionnaire",children:(0,y.jsx)(Ke,{})})}),(0,y.jsx)(s.AW,{path:"/questionnaires/preview-questionnaire/:id",element:(0,y.jsx)(N,{page:"view",moduleName:"Questionnaire",children:(0,y.jsx)(Je,{})})}),(0,y.jsx)(s.AW,{path:"/questionnaires/preview-questionnaire-version/:id",element:(0,y.jsx)(Je,{})}),(0,y.jsx)(s.AW,{path:"/assessment-list/add-assessment",element:(0,y.jsx)(N,{page:"add",moduleName:"Assessment",children:(0,y.jsx)(Xe,{})})}),(0,y.jsx)(s.AW,{path:"/assessment-list",element:(0,y.jsx)(N,{page:"list",moduleName:"Assessment",children:(0,y.jsx)(ea,{})})}),(0,y.jsx)(s.AW,{path:"/assessment-list/instructions",element:(0,y.jsx)(N,{page:"list",moduleName:"Assessment",children:(0,y.jsx)(ra,{})})}),(0,y.jsx)(s.AW,{path:"/assessment-list/edit-assessment/:id",element:(0,y.jsx)(N,{page:"edit",moduleName:"Assessment",children:(0,y.jsx)(aa,{})})}),(0,y.jsx)(s.AW,{path:"/assessment-list/assign-assessment/:id",element:(0,y.jsx)(ta,{})}),(0,y.jsx)(s.AW,{path:"/assessment-list/fill-assessment/:id",element:(0,y.jsx)(la,{})}),(0,y.jsx)(s.AW,{path:"/assessment-list/view-assessment/:id",element:(0,y.jsx)(la,{})}),(0,y.jsx)(s.AW,{path:"*",element:(0,y.jsx)(Qe,{})}),(0,y.jsx)(s.AW,{path:"/change-password",element:(0,y.jsx)(na,{})}),(0,y.jsx)(s.AW,{path:"/questionnaire-version-history/:id",element:(0,y.jsx)(ia,{})})]})})},45736:(e,a,t)=>{t.d(a,{K:()=>l});const l=async function(e,a,t,l,s){var n,i,r;let d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if("ERR_CANCELED"===(null===e||void 0===e?void 0:e.code))return null;if(401==(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status))a({titleMessage:"Oops!",descriptionMessage:"Session Timeout: Please login again!",messageType:"error"},(()=>t.current())),setTimeout((()=>{l("/login")}),3e3);else if(403===(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status)){var o,c,u,m;a({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(o=e.response)&&void 0!==o&&null!==(c=o.data)&&void 0!==c&&c.message?null===e||void 0===e||null===(u=e.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>t.current())),setTimeout((()=>{l("/home")}),3e3)}else if(404===(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)){var p,h,v,g;a({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(p=e.response)&&void 0!==p&&null!==(h=p.data)&&void 0!==h&&h.message?null===e||void 0===e||null===(v=e.response)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.message:"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>t.current()))}else{var b,x,y,j;console.log("error - ",e),a({titleMessage:"Oops!",descriptionMessage:null!==e&&void 0!==e&&null!==(b=e.response)&&void 0!==b&&null!==(x=b.data)&&void 0!==x&&x.message?null===e||void 0===e||null===(y=e.response)||void 0===y||null===(j=y.data)||void 0===j?void 0:j.message:null!==e&&void 0!==e&&e.message?"File not uploaded yet":"Oops! Something went wrong. Please try again later.",messageType:"error"},(()=>t.current())),s&&setTimeout((()=>{l(s,{state:d})}),3e3)}}},12820:(e,a,t)=>{t.d(a,{Z:()=>s});var l=t(72791);const s=e=>{const[a,t]=(0,l.useState)(e),s=(0,l.useRef)([]);(0,l.useEffect)((()=>{s.current.forEach((e=>e(a))),s.current=[]}),[a]);return[a,(e,a)=>{t(e),a&&"function"===typeof a&&s.current.push(a)}]}},71605:()=>{}}]);
//# sourceMappingURL=2022.c1c9eab9.chunk.js.map