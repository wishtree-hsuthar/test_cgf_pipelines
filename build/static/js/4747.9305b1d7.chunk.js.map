{"version":3,"file":"static/js/4747.9305b1d7.chunk.js","mappings":"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","sources":["Pages/AssessmentModule/FillAssessmentSection.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport DialogBox from \"../../components/DialogBox\";\nimport { Logger } from \"../../Logger/Logger\";\nconst FillAssessmentQuestion = React.lazy(() =>\n  import(\"./FillAssessmentQuestions\")\n);\nconst TableAssessment = React.lazy(() => import(\"./TableAssesment\"));\nconst getTransformedColumns = (columns) => {\n  let transformedColumns = {};\n  columns.forEach((column) => {\n    transformedColumns[column.uuid] = column;\n  });\n  return transformedColumns;\n};\n\nconst getTransformedRows = (rows) => {\n  let transfromedRows = {};\n  rows.forEach((row) => {\n    transfromedRows[row.uuid] = row;\n  });\n\n  return transfromedRows;\n};\n\nfunction FillAssesmentSection({\n  myRef,\n  setToasterDetails,\n  section,\n  setAssessmentQuestionnaire,\n  assessmentQuestionnaire,\n  errorQuestion,\n  setErrorQuestion,\n  errorQuestionUUID,\n  setErrorQuestionUUID,\n  errors,\n  handleSetErrors,\n  handleFormSubmit,\n  editMode,\n  setEditMode,\n  disableFillAssessment,\n  totalSections,\n  index,\n}) {\n  const navigate = useNavigate();\n  const params = useParams();\n\n  const showSubmitOnFinalSection = () => {\n   \n    return totalSections === index + 1 ? false : true;\n  };\n\n  // cancel dailog box open/close state\n  \n\n  const [openCancelDailog, setOpenCancelDailog] = useState(false);\n\n  const handleAnswersChange = (name, value) => {\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value,\n      },\n    });\n  };\n  const handleAnswersBlur = (name, value) => {\n    Logger.info(\"Fill Assessment section - handleAnswersBlur handler\");\n\n    setAssessmentQuestionnaire({\n      ...assessmentQuestionnaire,\n      [section?.uuid]: {\n        ...assessmentQuestionnaire[section?.uuid],\n        [name]: value?.trim(),\n      },\n    });\n  };\n  return (\n    <>\n      <DialogBox\n        title={<p>Cancel Assessment</p>}\n        info1={\n          <p>\n            On canceling, all the unsaved details of the sections will be\n            removed.\n          </p>\n        }\n        info2={<p>Do you still want to cancel it?</p>}\n        primaryButtonText={\"Yes\"}\n        secondaryButtonText={\"No\"}\n        onPrimaryModalButtonClickHandler={() => {\n          navigate(\"/assessment-list\");\n        }}\n        onSecondaryModalButtonClickHandler={() => {\n          setOpenCancelDailog(false);\n        }}\n        openModal={openCancelDailog}\n        setOpenModal={setOpenCancelDailog}\n      />\n      <div className=\"preview-sect-ttl-wrap\">\n        <div className=\"preview-sect-card-ttl-blk\">\n          <h2 className=\"subheading\">{section?.sectionTitle}</h2>\n        </div>\n        <div className=\"preview-sect-txt\">{section?.description}</div>\n      </div>\n      <div className=\"preview-card-wrapper\">\n        <div className=\"preview-que-wrap\">\n          {section.layout === \"form\" ? (\n            section.questions.map((question) => (\n              <FillAssessmentQuestion\n                key={question?.uuid}\n                assessmentQuestionnaire={assessmentQuestionnaire}\n                setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n                sectionUUID={section?.uuid}\n                question={question}\n                errorQuestion={errorQuestion}\n                setErrorQuestion={setErrorQuestion}\n                errorQuestionUUID={errorQuestionUUID}\n                setErrorQuestionUUID={setErrorQuestionUUID}\n                answer={\n                  assessmentQuestionnaire[section?.uuid] &&\n                  assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    ? assessmentQuestionnaire[section?.uuid][question?.uuid]\n                    : question?.inputType === \"checkbox\"\n                    ? []\n                    : \"\"\n                }\n                error={errors[question?.uuid] ?? \"\"}\n                handleAnswersChange={handleAnswersChange}\n                handleAnswersBlur={handleAnswersBlur}\n                editMode={editMode}\n                setEditMode={setEditMode}\n              />\n            ))\n          ) : (\n            <TableAssessment\n              setAssessmentQuestionnaire={setAssessmentQuestionnaire}\n              assessmentQuestionnaire={assessmentQuestionnaire}\n              sectionUUID={section?.uuid}\n              columnValues={section?.columnValues}\n              rowValues={section?.rowValues}\n              handleAnswersChange={handleAnswersChange}\n              handleAnswersBlur={handleAnswersBlur}\n              errors={errors ?? {}}\n              editMode={editMode}\n              myRef={myRef}\n              setToasterDetails={setToasterDetails}\n            />\n          )}\n        </div>\n        {editMode && !params[\"*\"].includes(\"view\") ? (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => setOpenCancelDailog(true)}\n              className=\"secondary-button mr-10\"\n              disabled={disableFillAssessment}\n            >\n              Cancel\n            </button>\n\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, true)}\n              disabled={disableFillAssessment}\n              className=\"outlined-button add-button mr-10\"\n            >\n              Save as draft\n            </button>\n            <button\n              type=\"submit\"\n              onClick={(e) => handleFormSubmit(e, false)}\n              disabled={disableFillAssessment}\n              className=\"primary-button add-button\"\n              hidden={showSubmitOnFinalSection()}\n            >\n              Submit assessment\n            </button>\n          </div>\n        ) : (\n          <div className=\"form-btn flex-between add-members-btn\">\n            <button\n              type=\"reset\"\n              onClick={() => navigate(\"/assessment-list\")}\n              className=\"secondary-button\"\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default FillAssesmentSection;\n"],"names":["FillAssessmentQuestion","React","TableAssessment","_ref","myRef","setToasterDetails","section","setAssessmentQuestionnaire","assessmentQuestionnaire","errorQuestion","setErrorQuestion","errorQuestionUUID","setErrorQuestionUUID","errors","handleSetErrors","handleFormSubmit","editMode","setEditMode","disableFillAssessment","totalSections","index","navigate","useNavigate","params","useParams","openCancelDailog","setOpenCancelDailog","useState","handleAnswersChange","name","value","uuid","handleAnswersBlur","Logger","info","trim","_jsxs","_Fragment","children","_jsx","DialogBox","title","info1","info2","primaryButtonText","secondaryButtonText","onPrimaryModalButtonClickHandler","onSecondaryModalButtonClickHandler","openModal","setOpenModal","className","sectionTitle","description","layout","questions","map","question","_errors$question$uuid","sectionUUID","answer","inputType","error","columnValues","rowValues","includes","type","onClick","disabled","e","hidden"],"sourceRoot":""}