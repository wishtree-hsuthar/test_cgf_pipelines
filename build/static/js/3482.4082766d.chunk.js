"use strict";(self.webpackChunkpr74_cgf_hrdd_web_front=self.webpackChunkpr74_cgf_hrdd_web_front||[]).push([[3482],{14917:(s,e,a)=>{a.d(e,{Y:()=>l});const i=window.location.search,r=new URLSearchParams(i).get("debug"),l={debug(s,e){"1"===r?console.log(s,e):console.log=()=>{}},info(s,e){"?debug=1"===i||"?info=1"===i?console.info(s,e):console.info=()=>{}},error(s){"?debug=1"===i||"?info=1"===i||"?error=1"===i?console.error(s):console.error=()=>{}}}},23482:(s,e,a)=>{a.r(e),a.d(e,{default:()=>Z});var i=a(72791),r=a(44695),l=a(97275),o=a(77196),n=a(74569),t=a.n(n),d=a(61134),c=a(59434),m=a(57689),u=a(81724),g=a(14917),p=a(76218),h=a(94677),v=a(27659),f=a(16990),x=a(12010),j=a(12820),w=a(1260),N=a(42866),b=a(80184);const y=u.Ry().shape({email:u.Z_().email("Invalid input").required("Enter the email address"),password:u.Z_().required("Enter the password")}),Z=s=>{var e;(0,w.j)("Login");const[a,n]=(0,j.Z)({titleMessage:"",descriptionMessage:"",messageType:"error"}),u=(0,i.useRef)(),Z=(0,c.I0)(),k=((0,m.TH)(),(0,m.s0)()),{register:M,setValue:C,handleSubmit:P,formState:{errors:S}}=(0,d.cI)({resolver:(0,r.X)(y)});(0,i.useEffect)((()=>{document.body.classList.add("login-page");const s=new AbortController;return(async()=>{g.Y.info("Login - Fetch user handler");try{const{status:e,data:a}=await t().get(p.JA,{withCredentials:!0,signal:s.signal});200==e&&k("/home")}catch(a){var e;401==(null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.status)&&g.Y.info("Login - Fetch user hanller catch error")}})(),()=>{document.body.classList.remove("login-page"),s.abort()}}),[]);const[E,I]=i.useState({password:"",showPassword:!1});return(0,b.jsxs)("div",{className:"page-wrapper login-page-wrap",children:[(0,b.jsx)(v.Z,{myRef:u,titleMessage:a.titleMessage,descriptionMessage:a.descriptionMessage,messageType:a.messageType}),(0,b.jsx)("div",{className:"login-section",children:(0,b.jsx)("div",{className:"container",children:(0,b.jsxs)("div",{className:"login-wrapper",children:[(0,b.jsx)("div",{className:"login-leftblk",children:(0,b.jsx)("div",{className:"login-slider",children:(0,b.jsx)(N.Z,{})})}),(0,b.jsx)("div",{className:"login-rightblk",children:(0,b.jsxs)("div",{className:"login-blk",children:[(0,b.jsx)("div",{className:"logo",children:(0,b.jsx)("img",{src:"/images/logo.png",alt:"",className:"img-fluid"})}),(0,b.jsx)("h2",{className:"heading1 text-uppercase",children:"Log in"}),(0,b.jsx)("div",{className:"login-form",children:(0,b.jsxs)("form",{onSubmit:P((async s=>{g.Y.info("Login - Submit login data handler");try{const r=await h.u.post(p.ZE,s,{withCredentials:!0});var e,a,i;if(201==r.status)Z((0,f.av)(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.user)),Z((0,f.RR)(null===r||void 0===r||null===(a=r.data)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.role)),k("/home")}catch(m){var r,l,o,t,d,c;if(g.Y.info("Login - Submit login data handler catch error - ".concat(null===m||void 0===m||null===(r=m.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)),401==m.response.status&&"Unauthorized"===m.response.data.message)return n({titleMessage:"Invalid Credentials",descriptionMessage:"Invalid email or password!",messageType:"error"},(()=>u.current()));if(401==m.response.status&&"Access denied. Kindly contact system admin."===m.response.data.message)return n({titleMessage:"Invalid Credentials",descriptionMessage:null===m||void 0===m||null===(o=m.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.message,messageType:"error"},(()=>u.current()));if(400==m.response.status)return n({titleMessage:"Session Active",descriptionMessage:null===m||void 0===m||null===(d=m.response)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.message,messageType:"error"},(()=>u.current()))}})),children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"emailid",children:["Email ",(0,b.jsx)("span",{className:"mandatory",children:"*"})]}),(0,b.jsx)(l.Z,{className:"input-field ".concat(S.email&&"input-error"),id:"outlined-basic",placeholder:"example@domain.com",variant:"outlined",...M("email"),onBlur:s=>C("email",s.target.value.trim()),helperText:S.email?S.email.message:" "})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"password",children:["Password ",(0,b.jsx)("span",{className:"mandatory",children:"*"})]}),(0,b.jsxs)("div",{className:"password-field",children:[(0,b.jsx)(o.Z,{fullWidth:!0,id:"outlined-adornment-password",type:E.showPassword?"text":"password",placeholder:"Enter password",className:"input-field ".concat(S.password&&"input-error"),endAdornment:(0,b.jsx)(x.Z,{show:null===E||void 0===E?void 0:E.showPassword,onClickHandler:()=>{I({...E,showPassword:!E.showPassword})},mouseDownHandler:s=>{s.preventDefault()}}),...M("password"),onBlur:s=>C("password",s.target.value.trim())}),(0,b.jsx)("p",{className:"password-error",children:null!==S&&void 0!==S&&S.password?null===(e=S.password)||void 0===e?void 0:e.message:(0,b.jsx)("span",{children:"\xa0"})})]})]}),(0,b.jsxs)("div",{className:"form-btn flex-between",children:[(0,b.jsx)("button",{type:"submit",className:"primary-button",children:"Log In"}),(0,b.jsx)("div",{className:"tertiary-btn-blk",onClick:()=>{k("/forget-password")},children:"Forgot Password?"})]})]})})]})})]})})})]})}},42866:(s,e,a)=>{a.d(e,{Z:()=>o});a(72791);var i=a(39120),r=a.n(i),l=(a(80191),a(83835),a(80184));const o=()=>(0,l.jsxs)(r(),{className:"owl-theme",items:"1",dots:!0,loop:!0,autoplay:!0,children:[(0,l.jsx)("div",{className:"item",children:(0,l.jsx)("div",{className:"login-slide-img",children:(0,l.jsx)("img",{rel:!0,fetchPriority:"high",src:"/images/login-slide1.png",alt:"",className:"img-fluid"})})}),(0,l.jsx)("div",{className:"item",children:(0,l.jsx)("div",{className:"login-slide-img",children:(0,l.jsx)("img",{fetchPriority:"low",src:"/images/login-slide2.png",alt:"",className:"img-fluid"})})}),(0,l.jsx)("div",{className:"item",children:(0,l.jsx)("div",{className:"login-slide-img",children:(0,l.jsx)("img",{src:"/images/login-slide3.png",alt:"",className:"img-fluid"})})})]})},27659:(s,e,a)=>{a.d(e,{Z:()=>t});var i=a(92131),r=a(5130),l=a(72791),o=a(29655),n=(a(5462),a(80184));const t=function(s){let{titleMessage:e,descriptionMessage:a,messageType:t,myRef:d,key:c}=s;const m=()=>{(0,o.Am)(u,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"toastId"})},u=()=>(0,n.jsxs)("div",{className:"toaster-blk flex-start ".concat("success"===t&&"toaster-blk-success"),children:[(0,n.jsx)("div",{className:"toaster-left ".concat("success"===t&&"toaster-left-success"),children:(0,n.jsxs)("div",{className:"toaster-icon",children:["success"===t&&(0,n.jsx)(i.Z,{}),"error"===t&&(0,n.jsx)(r.Z,{})]})}),(0,n.jsx)("div",{className:"toaster-right",children:(0,n.jsx)("p",{children:a})})]});return(0,l.useEffect)((()=>{d.current=m}),[m,d]),(0,n.jsxs)("div",{className:"toaster-sect",children:[(0,n.jsx)("button",{style:{display:"none"},children:"Show Toast !"}),(0,n.jsx)(o.Ix,{className:"toaster-wrap ".concat("success"===t&&"toaster-wrap-success"," ")})]})}},12010:(s,e,a)=>{a.d(e,{Z:()=>o});var i=a(63466),r=a(13400),l=(a(72791),a(80184));const o=s=>{let{show:e,onClickHandler:a,mouseDownHandler:o}=s;return(0,l.jsx)(i.Z,{position:"end",children:(0,l.jsx)(r.Z,{"aria-label":"toggle password visibility",onClick:a,onMouseDown:o,edge:"end",className:"eye-btn",children:e?(0,l.jsx)("img",{src:"/images/visibleicon.svg",alt:"",className:"img-fluid"}):(0,l.jsx)("img",{src:"/images/non-visibleicon.svg",alt:"",className:"img-fluid"})})})}},12820:(s,e,a)=>{a.d(e,{Z:()=>r});var i=a(72791);const r=s=>{const[e,a]=(0,i.useState)(s),r=(0,i.useRef)([]);(0,i.useEffect)((()=>{r.current.forEach((s=>s(e))),r.current=[]}),[e]);return[e,(s,e)=>{a(s),e&&"function"===typeof e&&r.current.push(e)}]}},1260:(s,e,a)=>{a.d(e,{j:()=>r});var i=a(72791);const r=s=>((0,i.useEffect)((()=>{document.title="HRDD System - ".concat(s)}),[s]),null)}}]);
//# sourceMappingURL=3482.4082766d.chunk.js.map